<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 434</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:14px;font-family:Times;color:#0860a8;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:8px;font-family:Times;color:#000000;}
	.ft09{font-size:7px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page434-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce434.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">11-22&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">MEMORY&#160;CACHE CONTROL</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft010"><b>VCNT&#160;(variable range registers&#160;count)&#160;field, bits 0 through 7&#160;</b>— Indicates the number of variable ranges&#160;<br/>implemented&#160;on&#160;the&#160;processor.</p>
<p style="position:absolute;top:139px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:139px;left:93px;white-space:nowrap" class="ft010"><b>FIX (fixed range registers&#160;supported) flag, bit 8&#160;</b>— Fixed range&#160;MTRRs&#160;(IA32_MTRR_FIX64K_00000&#160;<br/>through&#160;IA32_MTRR_FIX4K_0F8000) are supported&#160;when&#160;set; no fixed range registers&#160;are&#160;supported&#160;when&#160;<br/>clear.</p>
<p style="position:absolute;top:194px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:195px;left:93px;white-space:nowrap" class="ft010"><b>WC&#160;(write&#160;combining)&#160;flag,&#160;bit&#160;10&#160;</b>—&#160;The&#160;write-combining (WC) memory type is&#160;supported when set;&#160;the&#160;<br/>WC type is&#160;not supported&#160;when&#160;clear.</p>
<p style="position:absolute;top:233px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:234px;left:93px;white-space:nowrap" class="ft010"><b>SMRR (System-Management Range Register) flag, bit 11&#160;</b>— The system-management&#160;range&#160;register&#160;<br/>(SMRR)&#160;interface is&#160;supported&#160;when bit 11&#160;is&#160;set; the SMRR interface is&#160;not&#160;supported when clear.</p>
<p style="position:absolute;top:274px;left:68px;white-space:nowrap" class="ft010">Bit 9&#160;and bits 12&#160;through&#160;63&#160;in&#160;the IA32_MTRRCAP MSR&#160;are reserved.&#160;If software&#160;attempts to&#160;write to&#160;the&#160;<br/>IA32_MTRRCAP MSR,&#160;a&#160;general-protection exception&#160;(#GP) is&#160;generated.&#160;<br/>Software must read IA32_MTRRCAP VCNT field&#160;to determine the&#160;number of variable MTRRs and&#160;query other&#160;<br/>feature bits in IA32_MTRRCAP to determine&#160;additional capabilities that are&#160;supported in a processor.&#160;For example,&#160;<br/>some processors may report&#160;a value&#160;of&#160;‘8’&#160;in the&#160;VCNT&#160;field, other&#160;processors&#160;may report VCNT with different&#160;<br/>values.&#160;</p>
<p style="position:absolute;top:611px;left:68px;white-space:nowrap" class="ft05">11.11.2 Setting&#160;</p>
<p style="position:absolute;top:611px;left:212px;white-space:nowrap" class="ft05">Memory&#160;</p>
<p style="position:absolute;top:611px;left:282px;white-space:nowrap" class="ft05">Ranges with MTRRs</p>
<p style="position:absolute;top:642px;left:68px;white-space:nowrap" class="ft010">The memory&#160;ranges and&#160;the types of&#160;memory&#160;specified in&#160;each range&#160;are set by three&#160;groups&#160;of registers: the&#160;<br/>IA32_MTRR_DEF_TYPE&#160;MSR,&#160;the&#160;fixed-range MTRRs,&#160;and&#160;the variable range&#160;MTRRs.&#160;These registers&#160;can be&#160;read&#160;<br/>and written&#160;to using&#160;the&#160;RDMSR&#160;and&#160;WRMSR instructions,&#160;respectively.&#160;The&#160;IA32_MTRRCAP&#160;MSR indicates the&#160;<br/>availability of these registers&#160;on the&#160;processor&#160;(s<a href="o_fe12b1e2a880e0ce-433.html">ee Section 11.11.1,&#160;“MTRR&#160;Feature Identification”).</a></p>
<p style="position:absolute;top:735px;left:68px;white-space:nowrap" class="ft06">11.11.2.1&#160;&#160;&#160;IA32_MTRR_DEF_TYPE MSR</p>
<p style="position:absolute;top:764px;left:68px;white-space:nowrap" class="ft010">The IA32_MTRR_DEF_TYPE&#160;MSR (named&#160;MTRRdefType MSR&#160;for&#160;the P6 family processors) sets&#160;the&#160;default proper-<br/>ties of&#160;the regions&#160;of physical memory that are not encompassed by MTRRs. The functions of&#160;the&#160;flags and field&#160;in&#160;<br/>this register&#160;are as&#160;follows:</p>
<p style="position:absolute;top:819px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:819px;left:93px;white-space:nowrap" class="ft010"><b>Type field, bits 0 through&#160;7&#160;</b>— Indicates the&#160;default&#160;memory type&#160;used&#160;for those&#160;physical&#160;memory&#160;address&#160;<br/>ranges&#160;that&#160;do&#160;not have&#160;a memory&#160;type&#160;specified&#160;for them&#160;by&#160;an&#160;MTRR&#160;(see<a href="o_fe12b1e2a880e0ce-433.html">&#160;Table&#160;11-8</a>&#160;for&#160;the&#160;encoding&#160;of&#160;this&#160;<br/>field).&#160;The legal&#160;values&#160;for this field are&#160;0,&#160;1,&#160;4,&#160;5,&#160;and 6. All other&#160;values result&#160;in a&#160;general-protection&#160;<br/>exception&#160;(#GP) being&#160;generated.&#160;<br/>Intel recommends the&#160;use of&#160;the&#160;UC&#160;(uncached) memory type for&#160;all physical memory&#160;addresses&#160;where&#160;<br/>memory&#160;does not exist. To&#160;assign&#160;the&#160;UC type to nonexistent memory locations, it can either be&#160;specified as the&#160;<br/>default&#160;type&#160;in the&#160;Type&#160;field or be&#160;explicitly assigned&#160;with the&#160;fixed&#160;and variable MTRRs.</p>
<p style="position:absolute;top:567px;left:324px;white-space:nowrap" class="ft07">Figure&#160;11-5.&#160;&#160;IA32_MTRRCAP&#160;Register</p>
<p style="position:absolute;top:522px;left:258px;white-space:nowrap" class="ft00">VCNT —&#160;Number&#160;of variable&#160;range registers</p>
<p style="position:absolute;top:506px;left:259px;white-space:nowrap" class="ft00">FIX — Fixed range registers supported</p>
<p style="position:absolute;top:489px;left:259px;white-space:nowrap" class="ft00">WC&#160;— Write-combining memory&#160;type supported</p>
<p style="position:absolute;top:414px;left:268px;white-space:nowrap" class="ft08">63</p>
<p style="position:absolute;top:415px;left:667px;white-space:nowrap" class="ft08">0</p>
<p style="position:absolute;top:440px;left:383px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:436px;left:532px;white-space:nowrap" class="ft09">W</p>
<p style="position:absolute;top:444px;left:533px;white-space:nowrap" class="ft09">C</p>
<p style="position:absolute;top:415px;left:570px;white-space:nowrap" class="ft08">7</p>
<p style="position:absolute;top:415px;left:531px;white-space:nowrap" class="ft08">10</p>
<p style="position:absolute;top:415px;left:519px;white-space:nowrap" class="ft08">11</p>
<p style="position:absolute;top:440px;left:604px;white-space:nowrap" class="ft00">VCNT</p>
<p style="position:absolute;top:432px;left:559px;white-space:nowrap" class="ft09">F</p>
<p style="position:absolute;top:440px;left:560px;white-space:nowrap" class="ft09">I</p>
<p style="position:absolute;top:449px;left:558px;white-space:nowrap" class="ft09">X</p>
<p style="position:absolute;top:415px;left:558px;white-space:nowrap" class="ft08">8</p>
<p style="position:absolute;top:415px;left:546px;white-space:nowrap" class="ft08">9</p>
<p style="position:absolute;top:542px;left:291px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:475px;left:258px;white-space:nowrap" class="ft00">SMRR&#160;—&#160;SMRR interface&#160;supported</p>
</div>
</body>
</html>
