<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 69</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:14px;font-family:Times;color:#0860a8;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:16px;font-family:Times;color:#0860a8;}
	.ft07{font-size:18px;font-family:Times;color:#0860a8;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page69-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce069.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3A&#160;2-7</p>
<p style="position:absolute;top:47px;left:634px;white-space:nowrap" class="ft01">SYSTEM ARCHITECTURE OVERVIEW</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft08">Most systems restrict access to&#160;system&#160;registers (other&#160;than the&#160;EFLAGS&#160;register) by application programs.&#160;<br/>Systems can&#160;be&#160;designed, however,&#160;where all programs and&#160;procedures&#160;run at the&#160;most privileged level (privilege&#160;<br/>level 0). In&#160;such a case,&#160;application programs would be&#160;allowed&#160;to modify the&#160;system registers.</p>
<p style="position:absolute;top:178px;left:69px;white-space:nowrap" class="ft03">2.1.6.1&#160;&#160;</p>
<p style="position:absolute;top:178px;left:153px;white-space:nowrap" class="ft03">System&#160;Registers in IA-32e Mode</p>
<p style="position:absolute;top:206px;left:69px;white-space:nowrap" class="ft08">In IA-32e&#160;mode, the&#160;four system-descriptor-table&#160;registers (GDTR,&#160;IDTR, LDTR,&#160;and&#160;TR) are&#160;expanded&#160;in hardware&#160;<br/>to hold&#160;64-bit base&#160;addresses.&#160;EFLAGS becomes the&#160;64-bit RFLAGS&#160;register.&#160;CR0‚ÄìCR4&#160;are expanded&#160;to 64&#160;bits.&#160;<br/>CR8&#160;becomes available.&#160;CR8&#160;provides&#160;read-write access to&#160;the task priority&#160;register&#160;(TPR)&#160;so that the operating&#160;<br/>system&#160;can&#160;control the&#160;priority classes of external interrupts.&#160;<br/>In&#160;64-bit mode, debug&#160;registers DR0‚ÄìDR7&#160;are 64 bits.&#160;In&#160;compatibility mode, address-matching&#160;in DR0‚ÄìDR3&#160;is&#160;<br/>also done&#160;at&#160;64-bit granularity.<br/>On systems&#160;that support IA-32e mode,&#160;the extended&#160;feature&#160;enable register&#160;(IA32_EFER) is&#160;available.&#160;This&#160;model-<br/>specific register&#160;controls&#160;activation of IA-32e mode and&#160;other IA-32e mode operations.&#160;In addition,&#160;there are&#160;<br/>several model-specific registers&#160;that govern IA-32e mode instructions:</p>
<p style="position:absolute;top:375px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:376px;left:95px;white-space:nowrap" class="ft05"><b>IA32_KERNEL_GS_BASE&#160;</b>‚Äî&#160;Used&#160;by&#160;SWAPGS&#160;instruction.</p>
<p style="position:absolute;top:397px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:398px;left:95px;white-space:nowrap" class="ft05"><b>IA32_LSTAR&#160;</b>‚Äî Used&#160;by&#160;SYSCALL&#160;instruction.</p>
<p style="position:absolute;top:420px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:421px;left:95px;white-space:nowrap" class="ft05"><b>IA32_FMASK&#160;</b>‚Äî Used&#160;by&#160;SYSCALL&#160;instruction.</p>
<p style="position:absolute;top:442px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:443px;left:95px;white-space:nowrap" class="ft05"><b>IA32_STAR&#160;</b>‚Äî Used&#160;by&#160;SYSCALL&#160;and&#160;SYSRET&#160;instruction.</p>
<p style="position:absolute;top:494px;left:69px;white-space:nowrap" class="ft06">2.1.7 Other&#160;</p>
<p style="position:absolute;top:494px;left:200px;white-space:nowrap" class="ft06">System&#160;</p>
<p style="position:absolute;top:494px;left:265px;white-space:nowrap" class="ft06">Resources</p>
<p style="position:absolute;top:524px;left:69px;white-space:nowrap" class="ft08">Besides&#160;the&#160;system registers and data structures described&#160;in&#160;the&#160;previous&#160;sections, system architecture provides&#160;<br/>the following&#160;additional resources:</p>
<p style="position:absolute;top:562px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:563px;left:95px;white-space:nowrap" class="ft02">Operating system&#160;instructions&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-82.html">also: Section 2.8,&#160;‚ÄúSystem Instruction&#160;Summary‚Äù).</a></p>
<p style="position:absolute;top:585px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:586px;left:95px;white-space:nowrap" class="ft02">Performance-monitoring&#160;counters (not shown&#160;<a href="o_fe12b1e2a880e0ce-64.html">in Figure&#160;2-1).</a></p>
<p style="position:absolute;top:607px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:608px;left:95px;white-space:nowrap" class="ft02">Internal&#160;caches and buffers (not&#160;shown in&#160;<a href="o_fe12b1e2a880e0ce-64.html">Figure&#160;2-1</a>).</p>
<p style="position:absolute;top:632px;left:69px;white-space:nowrap" class="ft08">Performance-monitoring&#160;counters are event counters&#160;that&#160;can be programmed&#160;to count processor events such&#160;as&#160;<br/>the number&#160;of&#160;instructions&#160;decoded, the number of&#160;interrupts received,&#160;or the&#160;number&#160;of cache&#160;loads. See&#160;also:&#160;<br/><a href="˛ˇ">Chapter 19,&#160;‚ÄúPerformance Monitoring&#160;Events.‚Äù<br/></a>The processor provides several&#160;internal caches&#160;and&#160;buffers.&#160;The caches are&#160;used&#160;to store&#160;both data and&#160;instruc-<br/>tions. The&#160;buffers are used&#160;to store things&#160;like&#160;decoded&#160;addresses&#160;to system and application segments and&#160;write&#160;<br/>operations waiting to&#160;be&#160;performed. See&#160;<a href="o_fe12b1e2a880e0ce-413.html">also: Chapter&#160;11, ‚ÄúMemory Cache Control.‚Äù</a></p>
<p style="position:absolute;top:778px;left:69px;white-space:nowrap" class="ft07">2.2&#160;</p>
<p style="position:absolute;top:778px;left:148px;white-space:nowrap" class="ft07">MODES OF&#160;OPERATION</p>
<p style="position:absolute;top:814px;left:69px;white-space:nowrap" class="ft02">The&#160;IA-32&#160;architecture supports three operating&#160;modes and one quasi-operating mode:&#160;</p>
<p style="position:absolute;top:835px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:836px;left:95px;white-space:nowrap" class="ft08"><b>Protected mode&#160;</b>‚Äî This&#160;is the&#160;native&#160;operating mode of the&#160;processor.&#160;It&#160;provides&#160;a rich&#160;set of architectural&#160;<br/>features,&#160;flexibility,&#160;high&#160;performance&#160;and&#160;backward compatibility to existing software&#160;base.</p>
<p style="position:absolute;top:874px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:875px;left:95px;white-space:nowrap" class="ft08"><b>Real-address mode&#160;</b>‚Äî This&#160;operating&#160;mode&#160;provides&#160;the programming environment&#160;of&#160;the Intel 8086&#160;<br/>processor,&#160;with a&#160;few&#160;extensions (such as&#160;the ability&#160;to switch to&#160;protected or&#160;system&#160;management mode).</p>
<p style="position:absolute;top:913px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:914px;left:95px;white-space:nowrap" class="ft08"><b>System&#160;management&#160;mode&#160;(SMM)&#160;</b>‚Äî&#160;SMM is&#160;a standard architectural feature&#160;in all&#160;IA-32&#160;processors,&#160;<br/>beginning&#160;with&#160;the Intel386&#160;SL processor.&#160;This mode&#160;provides&#160;an&#160;operating&#160;system or&#160;executive&#160;with a&#160;<br/>transparent mechanism for implementing&#160;power&#160;management&#160;and OEM&#160;differentiation features. SMM&#160;is&#160;<br/>entered&#160;through activation of&#160;an&#160;external&#160;system&#160;interrupt&#160;pin (SMI#), which&#160;generates&#160;a system&#160;management&#160;<br/>interrupt (SMI). In&#160;SMM,&#160;the processor switches to&#160;a&#160;separate address&#160;space&#160;while&#160;saving the&#160;context of the&#160;<br/>currently running program or&#160;task. SMM-specific code&#160;may then&#160;be&#160;executed transparently.&#160;Upon&#160;returning&#160;<br/>from SMM, the processor&#160;is&#160;placed&#160;back&#160;into&#160;its state prior&#160;to the&#160;SMI.</p>
<p style="position:absolute;top:1035px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:1036px;left:95px;white-space:nowrap" class="ft08"><b>Virtual-8086&#160;mode&#160;</b>‚Äî In&#160;protected mode,&#160;the processor supports a&#160;quasi-operating mode&#160;known as&#160;virtual-<br/>8086 mode. This mode&#160;allows&#160;the processor execute&#160;8086&#160;software&#160;in a&#160;protected, multitasking environment.</p>
</div>
</body>
</html>
