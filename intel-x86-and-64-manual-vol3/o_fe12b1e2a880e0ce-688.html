<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 688</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:8px;line-height:13px;font-family:Times;color:#000000;}
	.ft09{font-size:8px;line-height:12px;font-family:Times;color:#000000;}
	.ft010{font-size:8px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page688-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce688.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-52&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:476px;left:68px;white-space:nowrap" class="ft06">When a&#160;performance counter&#160;is configured for PEBS,&#160;an overflow condition&#160;in the&#160;counter&#160;will&#160;arm PEBS.&#160;On the&#160;<br/>subsequent event&#160;following overflow, the&#160;processor will generate a&#160;PEBS event.&#160;On a PEBS event, the processor will&#160;<br/>perform bounds&#160;checks based&#160;on the&#160;parameters&#160;defined&#160;in&#160;the&#160;DS&#160;Save&#160;Area&#160;(see<a href="o_fe12b1e2a880e0ce-591.html">&#160;Section 17.4.9).</a>&#160;Upon&#160;<br/>successful bounds&#160;checks,&#160;the processor will store&#160;the&#160;data&#160;record&#160;in&#160;the defined&#160;buffer&#160;area, clear the&#160;counter&#160;<br/>overflow&#160;status, and reload the&#160;counter. If&#160;the bounds&#160;checks fail,&#160;the&#160;PEBS will be skipped&#160;entirely. In&#160;the&#160;event&#160;<br/>that the&#160;PEBS buffer&#160;fills up, the&#160;processor&#160;will&#160;set the&#160;OvfBuffer bit&#160;in MSR_PERF_GLOBAL_STATUS.<br/>IA32_PERF_GLOBAL_OVF_CTL&#160;MSR allows software&#160;to clear&#160;overflow&#160;the indicators for general-purpose or&#160;fixed-<br/>function counters via&#160;a single WRMSR&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-688.html">Figure&#160;18-34</a>). Clear overflow&#160;indications when:</p>
<p style="position:absolute;top:621px;left:68px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:622px;left:93px;white-space:nowrap" class="ft02">Setting up&#160;new&#160;values in&#160;the event select and/or&#160;UMASK&#160;field for counting&#160;or&#160;interrupt based&#160;sampling</p>
<p style="position:absolute;top:643px;left:68px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:644px;left:93px;white-space:nowrap" class="ft02">Reloading&#160;counter values&#160;to continue sampling</p>
<p style="position:absolute;top:666px;left:68px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:667px;left:93px;white-space:nowrap" class="ft02">Disabling&#160;event counting or&#160;interrupt based&#160;sampling</p>
<p style="position:absolute;top:430px;left:113px;white-space:nowrap" class="ft04">Figure&#160;18-33.&#160;&#160;IA32_PERF_GLOBAL_STATUS&#160;MSR in&#160;Intel® Microarchitecture Code Name Sandy Bridge</p>
<p style="position:absolute;top:1025px;left:109px;white-space:nowrap" class="ft04">Figure&#160;18-34. &#160;IA32_PERF_GLOBAL_OVF_CTRL&#160;MSR&#160;in&#160;Intel microarchitecture code&#160;name Sandy Bridge</p>
<p style="position:absolute;top:135px;left:284px;white-space:nowrap" class="ft05">62</p>
<p style="position:absolute;top:241px;left:193px;white-space:nowrap" class="ft08">FIXED_CTR2 Overflow&#160;(RO)<br/>FIXED_CTR1 Overflow&#160;(RO)</p>
<p style="position:absolute;top:269px;left:194px;white-space:nowrap" class="ft05">FIXED_CTR0&#160;Overflow&#160;(RO)</p>
<p style="position:absolute;top:283px;left:193px;white-space:nowrap" class="ft05">PMC7_OVF (RO,&#160;If&#160;PMC7&#160;present)</p>
<p style="position:absolute;top:135px;left:680px;white-space:nowrap" class="ft05">2&#160;1&#160;0</p>
<p style="position:absolute;top:295px;left:193px;white-space:nowrap" class="ft05">PMC6_OVF (RO,&#160;If&#160;PMC6&#160;present)</p>
<p style="position:absolute;top:136px;left:484px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:136px;left:471px;white-space:nowrap" class="ft05">32</p>
<p style="position:absolute;top:136px;left:458px;white-space:nowrap" class="ft05">33</p>
<p style="position:absolute;top:136px;left:446px;white-space:nowrap" class="ft05">34</p>
<p style="position:absolute;top:136px;left:433px;white-space:nowrap" class="ft05">35</p>
<p style="position:absolute;top:406px;left:277px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:135px;left:271px;white-space:nowrap" class="ft05">63</p>
<p style="position:absolute;top:205px;left:194px;white-space:nowrap" class="ft05">CondChgd</p>
<p style="position:absolute;top:218px;left:193px;white-space:nowrap" class="ft05">Ovf_DSBuffer</p>
<p style="position:absolute;top:135px;left:602px;white-space:nowrap" class="ft05">8&#160;7&#160;6&#160;5&#160;4&#160;3</p>
<p style="position:absolute;top:309px;left:193px;white-space:nowrap" class="ft08">PMC5_OVF (RO,&#160;If&#160;PMC5&#160;present)<br/>PMC4_OVF (RO,&#160;If&#160;PMC4&#160;present)<br/>PMC3_OVF (RO)<br/>PMC2_OVF (RO)<br/>PMC1_OVF (RO)<br/>PMC0_OVF (RO)</p>
<p style="position:absolute;top:405px;left:415px;white-space:nowrap" class="ft00">Valid if&#160;CPUID.0AH:EAX[15:8]&#160;=&#160;8;&#160;else reserved</p>
<p style="position:absolute;top:230px;left:194px;white-space:nowrap" class="ft05">Ovf_UncorePMU</p>
<p style="position:absolute;top:135px;left:297px;white-space:nowrap" class="ft05">61</p>
<p style="position:absolute;top:738px;left:260px;white-space:nowrap" class="ft05">62</p>
<p style="position:absolute;top:846px;left:191px;white-space:nowrap" class="ft08">FIXED_CTR2 ClrOverflow<br/>FIXED_CTR1 ClrOverflow</p>
<p style="position:absolute;top:874px;left:191px;white-space:nowrap" class="ft05">FIXED_CTR0 ClrOverflow</p>
<p style="position:absolute;top:888px;left:191px;white-space:nowrap" class="ft05">PMC7_ClrOvf&#160;(if&#160;PMC7&#160;present)</p>
<p style="position:absolute;top:738px;left:656px;white-space:nowrap" class="ft05">2&#160;1&#160;0</p>
<p style="position:absolute;top:902px;left:191px;white-space:nowrap" class="ft05">PMC6_ClrOvf&#160;(if&#160;PMC6&#160;present)</p>
<p style="position:absolute;top:739px;left:460px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:739px;left:447px;white-space:nowrap" class="ft05">32</p>
<p style="position:absolute;top:739px;left:434px;white-space:nowrap" class="ft05">33</p>
<p style="position:absolute;top:739px;left:421px;white-space:nowrap" class="ft05">34</p>
<p style="position:absolute;top:739px;left:409px;white-space:nowrap" class="ft05">35</p>
<p style="position:absolute;top:999px;left:255px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:738px;left:247px;white-space:nowrap" class="ft05">63</p>
<p style="position:absolute;top:808px;left:192px;white-space:nowrap" class="ft09">ClrCondChgd<br/>ClrOvfDSBuffer</p>
<p style="position:absolute;top:738px;left:576px;white-space:nowrap" class="ft05">8&#160;7&#160;6&#160;5&#160;4&#160;3</p>
<p style="position:absolute;top:914px;left:191px;white-space:nowrap" class="ft08">PMC5_ClrOvf&#160;(if&#160;PMC5&#160;present)<br/>PMC4_ClrOvf&#160;(if&#160;PMC4&#160;present)<br/>PMC3_ClrOvf<br/>PMC2_ClrOvf<br/>PMC1_ClrOvf<br/>PMC0_ClrOvf</p>
<p style="position:absolute;top:998px;left:362px;white-space:nowrap" class="ft00">Valid&#160;if&#160;CPUID.0AH:EAX[15:8] = 8; else reserved</p>
<p style="position:absolute;top:833px;left:191px;white-space:nowrap" class="ft05">ClrOvfUncore</p>
</div>
</body>
</html>
