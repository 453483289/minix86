<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 234</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page234-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce234.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">6-48&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INTERRUPT&#160;AND EXCEPTION&#160;HANDLING</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">Interrupt&#160;19‚ÄîSIMD Floating-Point&#160;Exception (#XM)</p>
<p style="position:absolute;top:146px;left:68px;white-space:nowrap" class="ft03">Exception&#160;Class</p>
<p style="position:absolute;top:144px;left:206px;white-space:nowrap" class="ft04">Fault.</p>
<p style="position:absolute;top:185px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:211px;left:68px;white-space:nowrap" class="ft08">Indicates&#160;the processor has detected an&#160;SSE/SSE2/SSE3&#160;SIMD&#160;floating-point exception. The appropriate&#160;status&#160;<br/>flag in&#160;the MXCSR&#160;register must&#160;be&#160;set and the&#160;particular&#160;exception unmasked&#160;for&#160;this interrupt to be&#160;generated.<br/>There are six classes of numeric&#160;exception conditions&#160;that can&#160;occur&#160;while&#160;executing an SSE/&#160;SSE2/SSE3&#160;SIMD&#160;<br/>floating-point instruction:</p>
<p style="position:absolute;top:290px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:291px;left:93px;white-space:nowrap" class="ft05">Invalid operation (#I)</p>
<p style="position:absolute;top:313px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:313px;left:93px;white-space:nowrap" class="ft05">Divide-by-zero (#Z)</p>
<p style="position:absolute;top:335px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:336px;left:93px;white-space:nowrap" class="ft05">Denormal operand&#160;(#D)</p>
<p style="position:absolute;top:358px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:358px;left:93px;white-space:nowrap" class="ft05">Numeric overflow (#O)</p>
<p style="position:absolute;top:380px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:381px;left:93px;white-space:nowrap" class="ft05">Numeric underflow&#160;(#U)</p>
<p style="position:absolute;top:403px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:403px;left:93px;white-space:nowrap" class="ft05">Inexact&#160;result (Precision) (#P)</p>
<p style="position:absolute;top:427px;left:68px;white-space:nowrap" class="ft09">The invalid operation,&#160;divide-by-zero,&#160;and denormal-operand&#160;exceptions are pre-computation&#160;exceptions; that&#160;is,&#160;<br/>they&#160;are detected before any&#160;arithmetic operation occurs.&#160;The numeric&#160;underflow,&#160;numeric overflow,&#160;and inexact&#160;<br/>result&#160;exceptions&#160;are post-computational&#160;exceptions.<br/>See ‚ÄúSIMD&#160;Floating-Point Except<a href="˛ˇ">ions‚Äù in Chapter 11 of&#160;</a>the&#160;<a href="˛ˇ"><i>Intel¬Æ&#160;64&#160;and&#160;IA-32&#160;Architectures Software Developer‚Äôs&#160;<br/>Manual, Volume&#160;1</i>, for additi</a>onal information&#160;about the&#160;SIMD&#160;floating-point exception&#160;classes.<br/>When&#160;a SIMD&#160;floating-point&#160;exception occurs,&#160;the processor does either of the&#160;following&#160;things:</p>
<p style="position:absolute;top:547px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:547px;left:93px;white-space:nowrap" class="ft08">It&#160;handles&#160;the&#160;exception automatically by&#160;producing&#160;the most reasonable&#160;result and&#160;allowing program&#160;<br/>execution&#160;to continue undisturbed. This&#160;is the&#160;response&#160;to masked&#160;exceptions.</p>
<p style="position:absolute;top:586px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:586px;left:93px;white-space:nowrap" class="ft08">It generates a&#160;SIMD floating-point&#160;exception,&#160;which&#160;in&#160;turn invokes&#160;a software&#160;exception handler.&#160;This&#160;is the&#160;<br/>response to&#160;unmasked&#160;exceptions.</p>
<p style="position:absolute;top:627px;left:68px;white-space:nowrap" class="ft08">Each&#160;of&#160;the six SIMD floating-point&#160;exception&#160;conditions&#160;has a&#160;corresponding flag&#160;bit and mask bit&#160;in the&#160;MXCSR&#160;<br/>register. If an exception is&#160;masked&#160;(the corresponding&#160;mask bit in&#160;the&#160;MXCSR register is&#160;set), the processor takes&#160;<br/>an&#160;appropriate automatic&#160;default action&#160;and continues with&#160;the computation. If the&#160;exception is&#160;unmasked&#160;(the&#160;<br/>corresponding&#160;mask bit&#160;is clear) and&#160;the operating&#160;system&#160;supports SIMD&#160;floating-point exceptions&#160;(the OSXM-<br/>MEXCPT flag in control register CR4 is set), a software&#160;exception handler is invoked through a SIMD floating-point&#160;<br/>exception. If&#160;the exception is&#160;unmasked&#160;and the&#160;OSXMMEXCPT bit&#160;is clear (indicating that&#160;the&#160;operating&#160;system&#160;<br/>does not&#160;support&#160;unmasked SIMD floating-point&#160;exceptions),&#160;an&#160;invalid&#160;opcode&#160;exception (#UD)&#160;is signaled&#160;instead&#160;<br/>of&#160;a SIMD floating-point&#160;exception.<br/>Note that because&#160;SIMD floating-point&#160;exceptions&#160;are precise and&#160;occur&#160;immediately,&#160;the&#160;situation does not arise&#160;<br/>where&#160;an x87&#160;FPU&#160;instruction, a&#160;WAIT/FWAIT instruction,&#160;or&#160;another SSE/SSE2/SSE3&#160;instruction will catch&#160;a&#160;<br/>pending&#160;unmasked SIMD floating-point&#160;exception.<br/>In situations where&#160;a SIMD floating-point&#160;exception&#160;occurred while the&#160;SIMD&#160;floating-point exceptions&#160;were&#160;<br/>masked&#160;(causing the&#160;corresponding exception&#160;flag&#160;to&#160;be&#160;set)&#160;and the&#160;SIMD floating-point exception was&#160;subse-<br/>quently unmasked,&#160;then&#160;no exception is&#160;generated&#160;when&#160;the&#160;exception is&#160;unmasked.<br/>When SSE/SSE2/SSE3 SIMD floating-point&#160;instructions&#160;operate on packed operands (made up&#160;of two&#160;or four sub-<br/>operands), multiple SIMD&#160;floating-point exception&#160;conditions may&#160;be detected.&#160;If&#160;no more than&#160;one exception&#160;<br/>condition is detected for one or more sets of sub-operands,&#160;the&#160;exception&#160;flags are set for each exception condition&#160;<br/>detected. For example,&#160;an invalid exception detected&#160;for&#160;one&#160;sub-operand&#160;will&#160;not prevent&#160;the reporting of&#160;a divide-<br/>by-zero exception&#160;for&#160;another sub-operand. However,&#160;when&#160;two&#160;or more exceptions&#160;conditions are generated for&#160;<br/>one sub-operand, only one exception&#160;condition is reported, according to the&#160;preced<a href="o_fe12b1e2a880e0ce-235.html">ences shown in Table&#160;6-8</a>.&#160;This&#160;<br/>exception precedence sometimes&#160;results&#160;in&#160;the higher&#160;priority&#160;exception condition&#160;being&#160;reported&#160;and the&#160;lower&#160;<br/>priority&#160;exception conditions&#160;being ignored.</p>
</div>
</body>
</html>
