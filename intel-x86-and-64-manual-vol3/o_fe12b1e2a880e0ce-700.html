<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 700</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#0860a8;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page700-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce700.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-64&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft07">Details of the uncore performance monitoring facility of Intel&#160;Xeon Processor E5 v2 and Intel Xeon Processor E7 v2&#160;<br/>families are&#160;available&#160;in ‚ÄúIntel¬Æ Xeon¬Æ&#160;Processor&#160;E5&#160;v2&#160;and E7&#160;v2&#160;Uncore&#160;Performance&#160;Monitoring&#160;Programming&#160;<br/>Reference&#160;Manual‚Äù.&#160;The MSR-based uncore PMU interfaces&#160;are&#160;listed&#160;<a href="o_fe12b1e2a880e0ce-1466.html">in Table&#160;35-26.</a></p>
<p style="position:absolute;top:189px;left:68px;white-space:nowrap" class="ft03">18.11 4TH&#160;</p>
<p style="position:absolute;top:189px;left:192px;white-space:nowrap" class="ft03">GENERATION&#160;</p>
<p style="position:absolute;top:189px;left:320px;white-space:nowrap" class="ft03">INTEL</p>
<p style="position:absolute;top:191px;left:374px;white-space:nowrap" class="ft01">¬Æ</p>
<p style="position:absolute;top:189px;left:387px;white-space:nowrap" class="ft03">&#160;CORE</p>
<p style="position:absolute;top:191px;left:443px;white-space:nowrap" class="ft01">‚Ñ¢</p>
<p style="position:absolute;top:189px;left:455px;white-space:nowrap" class="ft03">&#160;PROCESSOR PERFORMANCE&#160;</p>
<p style="position:absolute;top:214px;left:146px;white-space:nowrap" class="ft03">MONITORING FACILITY</p>
<p style="position:absolute;top:250px;left:68px;white-space:nowrap" class="ft02">The 4th&#160;generation Intel</p>
<p style="position:absolute;top:248px;left:231px;white-space:nowrap" class="ft04">¬Æ</p>
<p style="position:absolute;top:250px;left:242px;white-space:nowrap" class="ft02">&#160;Core‚Ñ¢ processor and&#160;Intel</p>
<p style="position:absolute;top:248px;left:425px;white-space:nowrap" class="ft04">¬Æ</p>
<p style="position:absolute;top:250px;left:436px;white-space:nowrap" class="ft02">&#160;Xeon</p>
<p style="position:absolute;top:248px;left:474px;white-space:nowrap" class="ft04">¬Æ</p>
<p style="position:absolute;top:250px;left:485px;white-space:nowrap" class="ft02">&#160;processor E3-1200&#160;v3&#160;product&#160;family&#160;are based&#160;on&#160;</p>
<p style="position:absolute;top:267px;left:68px;white-space:nowrap" class="ft07">the Haswell microarchitecture. The core&#160;PMU supports architectural performance monitoring capability with version&#160;<br/><a href="o_fe12b1e2a880e0ce-644.html">ID 3 (see Section 18.2.3)&#160;</a>and a&#160;host of non-architectural monitoring capabilities.&#160;<br/>Architectural&#160;performance monitoring version 3&#160;capabilities&#160;are described in&#160;<a href="o_fe12b1e2a880e0ce-644.html">Section&#160;18.2.3.&#160;<br/></a>The core&#160;PMU‚Äôs&#160;capability is&#160;similar to&#160;those&#160;described&#160;in<a href="o_fe12b1e2a880e0ce-686.html">&#160;Section 18.9 thr</a>oug<a href="o_fe12b1e2a880e0ce-693.html">h Section 18.9.5,&#160;</a>with some&#160;differ-<br/>ences&#160;and enhancements&#160;summarized<a href="o_fe12b1e2a880e0ce-700.html">&#160;in Table&#160;18-42.&#160;</a>Additionally, the core&#160;PMU provides some&#160;enhancement to&#160;<br/>support performance monitoring when the target workload contains&#160;instruction&#160;streams&#160;using Intel</p>
<p style="position:absolute;top:362px;left:730px;white-space:nowrap" class="ft04">¬Æ</p>
<p style="position:absolute;top:364px;left:740px;white-space:nowrap" class="ft02">&#160;Transactional&#160;</p>
<p style="position:absolute;top:381px;left:68px;white-space:nowrap" class="ft02">Synchronization Extensions (TSX), see&#160;</p>
<p style="position:absolute;top:381px;left:332px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-705.html">Section 18.11.5</a>. For details of Intel TS<a href="˛ˇ">X, see&#160;Chapter 16, ‚ÄúProgramming with&#160;</a></p>
<p style="position:absolute;top:397px;left:68px;white-space:nowrap" class="ft010"><a href="˛ˇ">Intel¬Æ Transactional Synchronization&#160;Extensions‚Äù of&#160;<i>Intel¬Æ 64 and IA-32 Architectures&#160;Software&#160;Developer‚Äôs&#160;<br/>Manual, Volume&#160;1</i>.</a></p>
<p style="position:absolute;top:455px;left:333px;white-space:nowrap" class="ft06">Table 18-42. &#160;Core&#160;PMU Comparison</p>
<p style="position:absolute;top:496px;left:74px;white-space:nowrap" class="ft02">Box</p>
<p style="position:absolute;top:480px;left:278px;white-space:nowrap" class="ft02">Intel¬Æ microarchitecture code&#160;</p>
<p style="position:absolute;top:496px;left:278px;white-space:nowrap" class="ft02">name Haswell</p>
<p style="position:absolute;top:480px;left:495px;white-space:nowrap" class="ft02">Intel¬Æ microarchitecture&#160;code&#160;</p>
<p style="position:absolute;top:496px;left:495px;white-space:nowrap" class="ft02">name Sandy Bridge</p>
<p style="position:absolute;top:496px;left:689px;white-space:nowrap" class="ft02">Comment</p>
<p style="position:absolute;top:520px;left:74px;white-space:nowrap" class="ft02"># of&#160;Fixed counters&#160;per thread</p>
<p style="position:absolute;top:520px;left:278px;white-space:nowrap" class="ft02">3</p>
<p style="position:absolute;top:520px;left:495px;white-space:nowrap" class="ft02">3</p>
<p style="position:absolute;top:544px;left:74px;white-space:nowrap" class="ft02"># of&#160;general-purpose&#160;counters&#160;</p>
<p style="position:absolute;top:561px;left:74px;white-space:nowrap" class="ft02">per core</p>
<p style="position:absolute;top:544px;left:278px;white-space:nowrap" class="ft02">8</p>
<p style="position:absolute;top:544px;left:495px;white-space:nowrap" class="ft02">8</p>
<p style="position:absolute;top:585px;left:74px;white-space:nowrap" class="ft02">Counter width&#160;(R,W)</p>
<p style="position:absolute;top:585px;left:278px;white-space:nowrap" class="ft02">R:48,&#160;W:&#160;32/48</p>
<p style="position:absolute;top:585px;left:495px;white-space:nowrap" class="ft02">R:48, W: 32/48</p>
<p style="position:absolute;top:585px;left:690px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-642.html">&#160;Section&#160;18.2.2.</a></p>
<p style="position:absolute;top:609px;left:74px;white-space:nowrap" class="ft02"># of&#160;programmable&#160;counters per&#160;</p>
<p style="position:absolute;top:625px;left:74px;white-space:nowrap" class="ft02">thread</p>
<p style="position:absolute;top:609px;left:278px;white-space:nowrap" class="ft02">4 or (8 if a core&#160;not&#160;shared by two&#160;</p>
<p style="position:absolute;top:625px;left:278px;white-space:nowrap" class="ft02">threads)</p>
<p style="position:absolute;top:609px;left:495px;white-space:nowrap" class="ft02">4 or (8 if a core&#160;not shared by&#160;</p>
<p style="position:absolute;top:625px;left:495px;white-space:nowrap" class="ft02">two threads)</p>
<p style="position:absolute;top:609px;left:689px;white-space:nowrap" class="ft02">Use&#160;CPUID to enumerate&#160;</p>
<p style="position:absolute;top:625px;left:689px;white-space:nowrap" class="ft02"># of&#160;counters.</p>
<p style="position:absolute;top:649px;left:74px;white-space:nowrap" class="ft02">PMI Overhead&#160;Mitigation</p>
<p style="position:absolute;top:649px;left:278px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_Perfmon_on_PMI with&#160;</p>
<p style="position:absolute;top:664px;left:294px;white-space:nowrap" class="ft02">legacy semantics.</p>
<p style="position:absolute;top:679px;left:278px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_on_LBR&#160;&#160;with&#160;&#160;legacy&#160;</p>
<p style="position:absolute;top:694px;left:294px;white-space:nowrap" class="ft02">semantics&#160;for&#160;branch&#160;profiling.</p>
<p style="position:absolute;top:709px;left:278px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_while_SMM.&#160;</p>
<p style="position:absolute;top:649px;left:495px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_Perfmon_on_PMI&#160;</p>
<p style="position:absolute;top:664px;left:511px;white-space:nowrap" class="ft02">with legacy semantics.</p>
<p style="position:absolute;top:679px;left:495px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_on_LBR&#160;&#160;with&#160;&#160;legacy&#160;</p>
<p style="position:absolute;top:694px;left:511px;white-space:nowrap" class="ft02">semantics for branch&#160;</p>
<p style="position:absolute;top:709px;left:511px;white-space:nowrap" class="ft02">profiling.</p>
<p style="position:absolute;top:724px;left:495px;white-space:nowrap" class="ft02">‚Ä¢&#160;Freeze_while_SMM.</p>
<p style="position:absolute;top:649px;left:689px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-588.html">e Section 17.4.7</a>.</p>
<p style="position:absolute;top:748px;left:74px;white-space:nowrap" class="ft02">Processor Event Based&#160;Sampling&#160;</p>
<p style="position:absolute;top:764px;left:74px;white-space:nowrap" class="ft02">(PEBS) Events</p>
<p style="position:absolute;top:748px;left:278px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-691.html">e Table&#160;18-32</a>&#160;an<a href="o_fe12b1e2a880e0ce-706.html">d Section&#160;</a></p>
<p style="position:absolute;top:764px;left:278px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-706.html">18.11.5.1.</a></p>
<p style="position:absolute;top:748px;left:495px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-691.html">&#160;Table&#160;18-32</a>.</p>
<p style="position:absolute;top:748px;left:689px;white-space:nowrap" class="ft02">IA32_PMC4-IA32_PMC7&#160;</p>
<p style="position:absolute;top:764px;left:689px;white-space:nowrap" class="ft02">do not support PEBS.</p>
<p style="position:absolute;top:789px;left:74px;white-space:nowrap" class="ft02">PEBS-Load Latency</p>
<p style="position:absolute;top:789px;left:278px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-691.html">&#160;Section&#160;18.9.4.2.</a></p>
<p style="position:absolute;top:789px;left:495px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-691.html">&#160;Section&#160;18.9.4.2</a>.</p>
<p style="position:absolute;top:813px;left:74px;white-space:nowrap" class="ft02">PEBS-Precise Store</p>
<p style="position:absolute;top:813px;left:278px;white-space:nowrap" class="ft02">No, replaced by Data Address&#160;</p>
<p style="position:absolute;top:829px;left:278px;white-space:nowrap" class="ft02">profiling.</p>
<p style="position:absolute;top:813px;left:495px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-692.html">Section 18.9.4.3</a></p>
<p style="position:absolute;top:853px;left:74px;white-space:nowrap" class="ft02">PEBS-PDIR</p>
<p style="position:absolute;top:853px;left:278px;white-space:nowrap" class="ft02">Yes (using&#160;precise&#160;</p>
<p style="position:absolute;top:870px;left:278px;white-space:nowrap" class="ft02">INST_RETIRED.ALL)</p>
<p style="position:absolute;top:853px;left:495px;white-space:nowrap" class="ft02">Yes (using&#160;precise&#160;</p>
<p style="position:absolute;top:870px;left:495px;white-space:nowrap" class="ft02">INST_RETIRED.ALL)</p>
<p style="position:absolute;top:894px;left:74px;white-space:nowrap" class="ft02">PEBS-EventingIP</p>
<p style="position:absolute;top:894px;left:278px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:894px;left:495px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:917px;left:74px;white-space:nowrap" class="ft02">Data&#160;Address Profiling</p>
<p style="position:absolute;top:917px;left:278px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:917px;left:495px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:942px;left:74px;white-space:nowrap" class="ft02">LBR&#160;Profiling</p>
<p style="position:absolute;top:942px;left:278px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:942px;left:495px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:966px;left:74px;white-space:nowrap" class="ft02">Call Stack Profiling</p>
<p style="position:absolute;top:966px;left:278px;white-space:nowrap" class="ft02">Yes, se<a href="o_fe12b1e2a880e0ce-603.html">e Section&#160;17.9</a>.</p>
<p style="position:absolute;top:966px;left:495px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:966px;left:689px;white-space:nowrap" class="ft02">Use LBR&#160;facility.</p>
<p style="position:absolute;top:989px;left:74px;white-space:nowrap" class="ft02">Off-core&#160;Response Event</p>
<p style="position:absolute;top:989px;left:278px;white-space:nowrap" class="ft02">MSR 1A6H and 1A7H; extended&#160;</p>
<p style="position:absolute;top:1006px;left:278px;white-space:nowrap" class="ft02">request&#160;and response&#160;types.</p>
<p style="position:absolute;top:989px;left:495px;white-space:nowrap" class="ft02">MSR 1A6H and 1A7H; extended&#160;</p>
<p style="position:absolute;top:1006px;left:495px;white-space:nowrap" class="ft02">request and&#160;response types.</p>
<p style="position:absolute;top:1030px;left:74px;white-space:nowrap" class="ft02">Intel TSX support for Perfmon</p>
<p style="position:absolute;top:1030px;left:278px;white-space:nowrap" class="ft02">S<a href="o_fe12b1e2a880e0ce-705.html">ee Section 18.11.5.</a></p>
<p style="position:absolute;top:1030px;left:495px;white-space:nowrap" class="ft02">No</p>
</div>
</body>
</html>
