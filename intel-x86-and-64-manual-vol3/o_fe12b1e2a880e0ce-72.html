<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 72</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:7px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft011{font-size:7px;line-height:9px;font-family:Times;color:#000000;}
	.ft012{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft013{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
	.ft014{font-size:7px;line-height:10px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page72-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce072.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">2-10&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">SYSTEM&#160;ARCHITECTURE&#160;OVERVIEW</p>
<p style="position:absolute;top:100px;left:122px;white-space:nowrap" class="ft07">POPF, POPFD,&#160;or IRET&#160;instruction, a&#160;debug exception&#160;is generated after&#160;the instruction that&#160;follows the&#160;<br/>POPF, POPFD,&#160;or IRET.</p>
<p style="position:absolute;top:478px;left:68px;white-space:nowrap" class="ft02">IF</p>
<p style="position:absolute;top:478px;left:122px;white-space:nowrap" class="ft07"><b>Interrupt enable&#160;(bit&#160;9)&#160;</b>‚Äî&#160;Controls&#160;the response of the processor&#160;to maskable hardware&#160;interrupt&#160;<br/>requests (see&#160;<a href="o_fe12b1e2a880e0ce-189.html">also: Section&#160;6.3.2,&#160;‚ÄúMaskable&#160;Hardware Interrupts‚Äù). The flag&#160;</a>is set to respond to maskable&#160;<br/>hardware interrupts; cleared to inhibit maskable hardware interrupts. The IF flag does&#160;not affect the gener-<br/>ation of exceptions&#160;or nonmaskable interrupts&#160;(NMI&#160;interrupts). The CPL,&#160;IOPL, and&#160;the state of the&#160;VME&#160;<br/>flag in&#160;control&#160;register CR4&#160;determine&#160;whether the&#160;IF&#160;flag&#160;can be&#160;modified&#160;by the&#160;CLI,&#160;STI,&#160;POPF,&#160;POPFD,&#160;<br/>and IRET.</p>
<p style="position:absolute;top:584px;left:68px;white-space:nowrap" class="ft02">IOPL</p>
<p style="position:absolute;top:584px;left:122px;white-space:nowrap" class="ft09"><b>I/O&#160;privilege&#160;level&#160;field (bits&#160;12 and 13)&#160;</b>‚Äî&#160;Indicates the&#160;I/O privilege&#160;level&#160;(IOPL)&#160;of the currently&#160;<br/>running program or&#160;task. The CPL of the currently running program or task must be&#160;less&#160;than or&#160;equal&#160;to&#160;<br/>the&#160;IOPL&#160;to&#160;access&#160;the&#160;I/O address space.&#160;The POPF&#160;and IRET instructions&#160;can&#160;modify this&#160;field only&#160;when&#160;<br/>operating at&#160;a CPL of 0.&#160;<br/>The&#160;IOPL&#160;is also&#160;one of&#160;the mechanisms that&#160;controls&#160;the modification of&#160;the IF&#160;flag and the&#160;handling of&#160;<br/>interrupts in virtual-8086 mode when&#160;virtual mode&#160;extensions&#160;are in effect (when CR4.VME = 1).&#160;See&#160;also:&#160;<br/><a href="˛ˇ">Chapter&#160;18, ‚ÄúInput/Output,‚Äù in&#160;</a>the&#160;<a href="˛ˇ"><i>Intel¬Æ 64&#160;and&#160;IA-32 Architectures Software&#160;Developer‚Äôs&#160;Manual,&#160;<br/>Volume 1</i></a>.</p>
<p style="position:absolute;top:731px;left:68px;white-space:nowrap" class="ft02">NT</p>
<p style="position:absolute;top:731px;left:122px;white-space:nowrap" class="ft010"><b>Nested&#160;task (bit 14)&#160;</b>‚Äî Controls the chaining of interrupted and&#160;called tasks. The processor sets&#160;this&#160;flag&#160;<br/>on&#160;calls&#160;to a task initiated with&#160;a CALL instruction, an&#160;interrupt,&#160;or&#160;an exception.&#160;It examines and modifies&#160;<br/>this flag&#160;on&#160;returns&#160;from&#160;a task initiated with&#160;the IRET&#160;instruction. The&#160;flag can be explicitly&#160;set or&#160;cleared&#160;<br/>with the&#160;POPF/POPFD instructions; however,&#160;changing&#160;to&#160;the state of this&#160;flag can generate unexpected&#160;<br/>exceptions&#160;in application programs.&#160;<br/>See&#160;<a href="o_fe12b1e2a880e0ce-250.html">also: Section 7.4, ‚ÄúTask Linking.‚Äù</a></p>
<p style="position:absolute;top:845px;left:68px;white-space:nowrap" class="ft02">RF</p>
<p style="position:absolute;top:845px;left:122px;white-space:nowrap" class="ft08"><b>Resume (bit&#160;16)&#160;</b>‚Äî&#160;Controls the processor‚Äôs&#160;response to&#160;instruction-breakpoint conditions. When set,&#160;this&#160;<br/>flag temporarily disables&#160;debug exceptions&#160;(#DB) from&#160;being&#160;generated&#160;for&#160;instruction&#160;breakpoints&#160;<br/>(although other exception conditions can cause&#160;an&#160;exception&#160;to be generated). When&#160;clear,&#160;instruction&#160;<br/>breakpoints will generate debug&#160;exceptions.&#160;<br/>The primary function of the&#160;RF&#160;flag is&#160;to&#160;allow the&#160;restarting of an instruction following a&#160;debug exception&#160;<br/>that was&#160;caused&#160;by&#160;an instruction breakpoint condition.&#160;Here,&#160;debug&#160;software&#160;must set&#160;this flag&#160;in the&#160;<br/>EFLAGS&#160;image on&#160;the stack&#160;just prior to returning to&#160;the&#160;interrupted program with IRETD (to&#160;prevent the&#160;<br/>instruction&#160;breakpoint from causing&#160;another&#160;debug&#160;exception). The&#160;processor&#160;then&#160;automatically clears&#160;<br/>this&#160;flag after&#160;the instruction&#160;returned to&#160;has been&#160;successfully executed, enabling instruction breakpoint&#160;<br/>faults&#160;again.<br/>See&#160;<a href="o_fe12b1e2a880e0ce-582.html">also: Section 17.3.1.1, ‚ÄúInstruction-Breakpoint&#160;Exception&#160;Condition.‚Äù</a></p>
<p style="position:absolute;top:1049px;left:68px;white-space:nowrap" class="ft02">VM</p>
<p style="position:absolute;top:1049px;left:122px;white-space:nowrap" class="ft03"><b>Virtual-8086&#160;mode&#160;(bit&#160;17)&#160;</b>‚Äî Set&#160;to enable&#160;virtual-8086 mode; clear to&#160;return to&#160;protected mode.&#160;</p>
<p style="position:absolute;top:432px;left:288px;white-space:nowrap" class="ft05">Figure&#160;2-5.&#160;&#160;System Flags in the EFLAGS Register</p>
<p style="position:absolute;top:178px;left:293px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:179px;left:407px;white-space:nowrap" class="ft06">22&#160;21&#160;20&#160;19&#160;18&#160;17&#160;16</p>
<p style="position:absolute;top:205px;left:485px;white-space:nowrap" class="ft06">R</p>
<p style="position:absolute;top:214px;left:485px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:205px;left:423px;white-space:nowrap" class="ft06">I</p>
<p style="position:absolute;top:214px;left:421px;white-space:nowrap" class="ft06">D</p>
<p style="position:absolute;top:205px;left:459px;white-space:nowrap" class="ft06">A</p>
<p style="position:absolute;top:214px;left:459px;white-space:nowrap" class="ft06">C</p>
<p style="position:absolute;top:206px;left:472px;white-space:nowrap" class="ft011">V<br/>M</p>
<p style="position:absolute;top:313px;left:214px;white-space:nowrap" class="ft00">VM&#160;‚Äî&#160;Virtual-8086 Mode</p>
<p style="position:absolute;top:327px;left:212px;white-space:nowrap" class="ft013">RF&#160;‚Äî&#160;Resume Flag<br/>NT&#160;‚Äî&#160;Nested&#160;Task&#160;Flag<br/>IOPL‚Äî&#160;I/O Privilege Level<br/>IF</p>
<p style="position:absolute;top:369px;left:240px;white-space:nowrap" class="ft00">‚Äî&#160;Interrupt Enable Flag</p>
<p style="position:absolute;top:299px;left:212px;white-space:nowrap" class="ft00">AC&#160;‚Äî&#160;Alignment Check / Access Control</p>
<p style="position:absolute;top:256px;left:213px;white-space:nowrap" class="ft00">ID</p>
<p style="position:absolute;top:256px;left:239px;white-space:nowrap" class="ft00">‚Äî&#160;Identification Flag</p>
<p style="position:absolute;top:270px;left:213px;white-space:nowrap" class="ft00">VIP&#160;‚Äî&#160;Virtual Interrupt&#160;Pending</p>
<p style="position:absolute;top:179px;left:495px;white-space:nowrap" class="ft06">15</p>
<p style="position:absolute;top:179px;left:521px;white-space:nowrap" class="ft06">13</p>
<p style="position:absolute;top:179px;left:508px;white-space:nowrap" class="ft06">14</p>
<p style="position:absolute;top:179px;left:533px;white-space:nowrap" class="ft06">12&#160;11&#160;10&#160;9&#160;8&#160;7&#160;6&#160;5&#160;4&#160;3&#160;2&#160;1&#160;0</p>
<p style="position:absolute;top:210px;left:497px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:205px;left:688px;white-space:nowrap" class="ft06">C</p>
<p style="position:absolute;top:214px;left:688px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:205px;left:637px;white-space:nowrap" class="ft011">A<br/>F</p>
<p style="position:absolute;top:205px;left:663px;white-space:nowrap" class="ft06">P</p>
<p style="position:absolute;top:214px;left:662px;white-space:nowrap" class="ft06">F&#160;1</p>
<p style="position:absolute;top:205px;left:561px;white-space:nowrap" class="ft06">D</p>
<p style="position:absolute;top:214px;left:562px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:205px;left:576px;white-space:nowrap" class="ft06">I</p>
<p style="position:absolute;top:214px;left:575px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:205px;left:587px;white-space:nowrap" class="ft011">T<br/>F</p>
<p style="position:absolute;top:205px;left:600px;white-space:nowrap" class="ft011">S<br/>F</p>
<p style="position:absolute;top:205px;left:612px;white-space:nowrap" class="ft011">Z<br/>F</p>
<p style="position:absolute;top:205px;left:510px;white-space:nowrap" class="ft06">N</p>
<p style="position:absolute;top:214px;left:510px;white-space:nowrap" class="ft06">T</p>
<p style="position:absolute;top:210px;left:650px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:210px;left:625px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:200px;left:434px;white-space:nowrap" class="ft06">V</p>
<p style="position:absolute;top:209px;left:436px;white-space:nowrap" class="ft06">I</p>
<p style="position:absolute;top:220px;left:434px;white-space:nowrap" class="ft06">P</p>
<p style="position:absolute;top:200px;left:446px;white-space:nowrap" class="ft06">V</p>
<p style="position:absolute;top:210px;left:449px;white-space:nowrap" class="ft06">I</p>
<p style="position:absolute;top:220px;left:447px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:205px;left:548px;white-space:nowrap" class="ft06">O</p>
<p style="position:absolute;top:214px;left:549px;white-space:nowrap" class="ft06">F</p>
<p style="position:absolute;top:196px;left:531px;white-space:nowrap" class="ft06">I</p>
<p style="position:absolute;top:205px;left:529px;white-space:nowrap" class="ft014">O<br/>P</p>
<p style="position:absolute;top:226px;left:530px;white-space:nowrap" class="ft06">L</p>
<p style="position:absolute;top:283px;left:213px;white-space:nowrap" class="ft00">VIF&#160;‚Äî&#160;Virtual Interrupt Flag</p>
<p style="position:absolute;top:383px;left:212px;white-space:nowrap" class="ft00">TF</p>
<p style="position:absolute;top:383px;left:240px;white-space:nowrap" class="ft00">‚Äî&#160;Trap Flag</p>
<p style="position:absolute;top:406px;left:243px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:208px;left:305px;white-space:nowrap" class="ft00">Reserved (set to 0)</p>
</div>
</body>
</html>
