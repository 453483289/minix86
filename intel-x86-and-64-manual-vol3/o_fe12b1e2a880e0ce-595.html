<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 595</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:9px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page595-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce595.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;17-21</p>
<p style="position:absolute;top:47px;left:425px;white-space:nowrap" class="ft01">DEBUG, BRANCH&#160;PROFILE, TSC, AND RESOURCE MONITORING FEATURES</p>
<p style="position:absolute;top:685px;left:69px;white-space:nowrap" class="ft05">The&#160;IA32_DS_AREA&#160;MSR&#160;holds the&#160;64-bit linear&#160;address of the&#160;first&#160;byte of the&#160;DS buffer&#160;management area. The&#160;<br/>structure&#160;of&#160;a branch trace record is&#160;similar to&#160;that&#160;show<a href="o_fe12b1e2a880e0ce-593.html">n in&#160;Figure&#160;17-6,&#160;</a>but each field&#160;is 8 bytes&#160;in&#160;length. This&#160;<br/>makes&#160;each BTS&#160;record&#160;24&#160;bytes (see<a href="o_fe12b1e2a880e0ce-595.html">&#160;Figure&#160;17-9</a>).&#160;The structure of a&#160;PEBS&#160;record is&#160;similar to&#160;that shown&#160;in&#160;<br/><a href="o_fe12b1e2a880e0ce-594.html">Figure&#160;17-7, b</a>ut each field is 8 bytes in length and&#160;architectural states include register R8 through&#160;R15. This makes&#160;<br/>the size&#160;of a&#160;PEBS&#160;record&#160;in 64-bit&#160;mode&#160;144&#160;bytes (see<a href="o_fe12b1e2a880e0ce-596.html">&#160;Figure&#160;17-10).</a></p>
<p style="position:absolute;top:639px;left:319px;white-space:nowrap" class="ft03">Figure&#160;17-8.&#160;&#160;IA-32e Mode DS&#160;Save&#160;Area</p>
<p style="position:absolute;top:936px;left:291px;white-space:nowrap" class="ft03">Figure&#160;17-9.&#160;&#160;64-bit Branch Trace&#160;Record&#160;Format</p>
<p style="position:absolute;top:178px;left:296px;white-space:nowrap" class="ft00">BTS Buffer&#160;Base</p>
<p style="position:absolute;top:202px;left:309px;white-space:nowrap" class="ft00">BTS Index</p>
<p style="position:absolute;top:223px;left:303px;white-space:nowrap" class="ft00">BTS Absolute&#160;</p>
<p style="position:absolute;top:248px;left:304px;white-space:nowrap" class="ft00">BTS Interrupt&#160;</p>
<p style="position:absolute;top:325px;left:301px;white-space:nowrap" class="ft00">PEBS Absolute</p>
<p style="position:absolute;top:352px;left:302px;white-space:nowrap" class="ft00">PEBS Interrupt</p>
<p style="position:absolute;top:390px;left:321px;white-space:nowrap" class="ft00">PEBS&#160;</p>
<p style="position:absolute;top:337px;left:315px;white-space:nowrap" class="ft00">Maximum</p>
<p style="position:absolute;top:234px;left:311px;white-space:nowrap" class="ft00">Maximum</p>
<p style="position:absolute;top:260px;left:309px;white-space:nowrap" class="ft00">Threshold</p>
<p style="position:absolute;top:305px;left:308px;white-space:nowrap" class="ft00">PEBS Index</p>
<p style="position:absolute;top:281px;left:296px;white-space:nowrap" class="ft00">PEBS&#160;Buffer&#160;Base</p>
<p style="position:absolute;top:364px;left:315px;white-space:nowrap" class="ft00">Threshold</p>
<p style="position:absolute;top:402px;left:300px;white-space:nowrap" class="ft00">Counter Reset</p>
<p style="position:absolute;top:433px;left:313px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:178px;left:402px;white-space:nowrap" class="ft00">0H</p>
<p style="position:absolute;top:205px;left:402px;white-space:nowrap" class="ft00">8H</p>
<p style="position:absolute;top:229px;left:396px;white-space:nowrap" class="ft00">10H</p>
<p style="position:absolute;top:257px;left:396px;white-space:nowrap" class="ft00">18H</p>
<p style="position:absolute;top:282px;left:396px;white-space:nowrap" class="ft00">20H</p>
<p style="position:absolute;top:306px;left:396px;white-space:nowrap" class="ft00">28H</p>
<p style="position:absolute;top:332px;left:396px;white-space:nowrap" class="ft00">30H</p>
<p style="position:absolute;top:356px;left:396px;white-space:nowrap" class="ft00">38H</p>
<p style="position:absolute;top:382px;left:396px;white-space:nowrap" class="ft00">40H</p>
<p style="position:absolute;top:408px;left:396px;white-space:nowrap" class="ft00">48H</p>
<p style="position:absolute;top:434px;left:396px;white-space:nowrap" class="ft00">50H</p>
<p style="position:absolute;top:189px;left:507px;white-space:nowrap" class="ft00">Branch&#160;Record&#160;0</p>
<p style="position:absolute;top:243px;left:508px;white-space:nowrap" class="ft00">Branch Record 1</p>
<p style="position:absolute;top:344px;left:507px;white-space:nowrap" class="ft00">Branch&#160;Record&#160;<i>n</i></p>
<p style="position:absolute;top:440px;left:508px;white-space:nowrap" class="ft00">PEBS&#160;Record 0</p>
<p style="position:absolute;top:492px;left:510px;white-space:nowrap" class="ft00">PEBS Record 1</p>
<p style="position:absolute;top:595px;left:510px;white-space:nowrap" class="ft00">PEBS Record&#160;n</p>
<p style="position:absolute;top:155px;left:522px;white-space:nowrap" class="ft00">BTS Buffer</p>
<p style="position:absolute;top:405px;left:517px;white-space:nowrap" class="ft00">PEBS&#160;Buffer</p>
<p style="position:absolute;top:154px;left:266px;white-space:nowrap" class="ft00">DS&#160;Buffer&#160;Management Area</p>
<p style="position:absolute;top:126px;left:437px;white-space:nowrap" class="ft00">IA32_DS_AREA MSR</p>
<p style="position:absolute;top:821px;left:385px;white-space:nowrap" class="ft00">Last Branch&#160;From</p>
<p style="position:absolute;top:848px;left:393px;white-space:nowrap" class="ft00">Last&#160;Branch To</p>
<p style="position:absolute;top:911px;left:430px;white-space:nowrap" class="ft00">Branch Predicted</p>
<p style="position:absolute;top:824px;left:612px;white-space:nowrap" class="ft00">0H</p>
<p style="position:absolute;top:852px;left:612px;white-space:nowrap" class="ft00">8H</p>
<p style="position:absolute;top:877px;left:606px;white-space:nowrap" class="ft00">10H</p>
<p style="position:absolute;top:802px;left:599px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:801px;left:255px;white-space:nowrap" class="ft00">63</p>
<p style="position:absolute;top:801px;left:572px;white-space:nowrap" class="ft00">4</p>
</div>
</body>
</html>
