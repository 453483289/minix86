<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 490</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page490-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce490.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">14-24&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">POWER AND THERMAL&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft08">For&#160;Hyper-Threading Technology&#160;enabled processors, the&#160;IA32_CLOCK_MODULATION register is&#160;duplicated&#160;for&#160;<br/>each logical processor.&#160;In order for the On-demand clock modulation feature to work properly, the&#160;feature&#160;must be&#160;<br/>enabled&#160;on all&#160;the logical processors within&#160;a physical processor.&#160;If&#160;the programmed&#160;duty cycle&#160;is not identical for&#160;<br/>all the&#160;logical&#160;processors, the&#160;processor&#160;core&#160;clock will modulate&#160;to the&#160;highest duty&#160;cycle&#160;programmed&#160;for proces-<br/>sors with any&#160;of&#160;the following CPUID&#160;DisplayFamily_DisplayModel&#160;signatures (see&#160;CPUID instruction in Chapter3,&#160;<br/>“Instruction Set Reference,&#160;A-L”&#160;in&#160;the&#160;<i>Intel® 64&#160;and&#160;IA-32 Architectures Software&#160;Developer’s&#160;Manual,&#160;Volume&#160;<br/>2A</i>):&#160;06_1A,&#160;06_1C,&#160;06_1E, 06_1F,&#160;06_25, 06_26, 06_27, 06_2C,&#160;06_2E,&#160;06_2F,&#160;06_35,&#160;06_36,&#160;and 0F_xx.&#160;For&#160;all&#160;<br/>other&#160;processors, if&#160;the programmed&#160;duty&#160;cycle is&#160;not identical for all&#160;logical&#160;processors&#160;in the&#160;same core, the&#160;<br/>processor core&#160;will modulate&#160;at the&#160;lowest programmed&#160;duty&#160;cycle.&#160;<br/>For multiple processor cores in&#160;a physical package, each&#160;processor core can&#160;modulate to a&#160;programmed duty&#160;cycle&#160;<br/>independently.<br/>For the P6 family processors, on-demand clock modulation&#160;was implemented through the chipset, which&#160;controlled&#160;<br/>clock modulation through the&#160;processor’s STPCLK# pin.</p>
<p style="position:absolute;top:358px;left:68px;white-space:nowrap" class="ft04">14.7.3.1 &#160;&#160;Extension of&#160;Software&#160;Controlled Clock Modulation</p>
<p style="position:absolute;top:386px;left:68px;white-space:nowrap" class="ft08">Extension&#160;of&#160;the software&#160;controlled clock modulation&#160;facility&#160;supports on-demand clock modulation duty&#160;cycle with&#160;<br/>4-bit&#160;dynamic range (increased&#160;from&#160;3-bit range).&#160;Granularity of clock modulation duty cycle is increased to 6.25%&#160;<br/>(compared to&#160;12.5%).<br/>Four&#160;bit dynamic&#160;range&#160;control&#160;is provided&#160;by&#160;using bit 0 in conjunction&#160;with bits 3:1 of the&#160;<br/>IA32_CLOCK_MODULATION&#160;MS<a href="o_fe12b1e2a880e0ce-490.html">R (see Figure&#160;14-26).</a></p>
<p style="position:absolute;top:673px;left:68px;white-space:nowrap" class="ft08">Extension&#160;to software controlled clock&#160;modulation&#160;is&#160;supported only&#160;if CPUID.06H:EAX[Bit&#160;5] = 1. If&#160;<br/>CPUID.06H:EAX[Bit 5] = 0, then&#160;bit&#160;0&#160;of IA32_CLOCK_MODULATION is&#160;reserved.</p>
<p style="position:absolute;top:739px;left:68px;white-space:nowrap" class="ft05">14.7.4&#160;</p>
<p style="position:absolute;top:739px;left:148px;white-space:nowrap" class="ft05">Detection of&#160;Thermal Monitor and Software&#160;Controlled</p>
<p style="position:absolute;top:760px;left:148px;white-space:nowrap" class="ft05">Clock Modulation Facilities</p>
<p style="position:absolute;top:791px;left:68px;white-space:nowrap" class="ft08">The&#160;ACPI&#160;flag&#160;(bit&#160;22) of the&#160;CPUID&#160;feature&#160;flags&#160;indicates the&#160;presence of&#160;the&#160;IA32_THERM_STATUS,&#160;<br/>IA32_THERM_INTERRUPT,&#160;IA32_CLOCK_MODULATION&#160;MSRs,&#160;and the&#160;xAPIC&#160;thermal&#160;LVT&#160;entry.&#160;<br/>The&#160;TM1&#160;flag&#160;(bit 29) of the&#160;CPUID&#160;feature&#160;flags&#160;indicates&#160;the presence&#160;of the&#160;automatic&#160;thermal monitoring&#160;facili-<br/>ties that&#160;modulate clock duty&#160;cycles.</p>
<p style="position:absolute;top:892px;left:68px;white-space:nowrap" class="ft04">14.7.4.1 &#160;&#160;Detection of&#160;Software&#160;Controlled Clock&#160;Modulation Extension</p>
<p style="position:absolute;top:921px;left:68px;white-space:nowrap" class="ft02">Processor’s support of software&#160;controlled&#160;clock&#160;modulation extension is&#160;indicated by CPUID.06H:EAX[Bit&#160;5] = 1.&#160;</p>
<p style="position:absolute;top:971px;left:68px;white-space:nowrap" class="ft05">14.7.5&#160;</p>
<p style="position:absolute;top:971px;left:148px;white-space:nowrap" class="ft05">On Die Digital Thermal Sensors</p>
<p style="position:absolute;top:1002px;left:68px;white-space:nowrap" class="ft08">On&#160;die digital thermal sensor can&#160;be&#160;read using an&#160;MSR (no&#160;I/O interface).&#160;In Intel Core&#160;Duo&#160;processors, each core&#160;<br/>has a&#160;unique digital&#160;sensor whose&#160;temperature&#160;is accessible&#160;using an&#160;MSR. The digital&#160;thermal&#160;sensor is&#160;the&#160;<br/>preferred method for reading the die temperature because (a)&#160;it&#160;is located closer to the hottest portions&#160;of the die,&#160;<br/>(b)&#160;it enables software&#160;to accurately track&#160;the die temperature and&#160;the potential activation&#160;of&#160;thermal&#160;throttling.</p>
<p style="position:absolute;top:627px;left:184px;white-space:nowrap" class="ft06">Figure&#160;14-26. &#160;IA32_CLOCK_MODULATION&#160;MSR with Clock&#160;Modulation&#160;Extension</p>
<p style="position:absolute;top:511px;left:250px;white-space:nowrap" class="ft07">63</p>
<p style="position:absolute;top:511px;left:649px;white-space:nowrap" class="ft07">0</p>
<p style="position:absolute;top:532px;left:420px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:511px;left:622px;white-space:nowrap" class="ft07">3</p>
<p style="position:absolute;top:586px;left:308px;white-space:nowrap" class="ft00">Extended&#160;On-Demand Clock Modulation Duty&#160;Cycle</p>
<p style="position:absolute;top:570px;left:365px;white-space:nowrap" class="ft00">On-Demand&#160;Clock Modulation Enable</p>
<p style="position:absolute;top:511px;left:613px;white-space:nowrap" class="ft07">4</p>
<p style="position:absolute;top:511px;left:604px;white-space:nowrap" class="ft07">5</p>
<p style="position:absolute;top:600px;left:282px;white-space:nowrap" class="ft00">Reserved</p>
</div>
</body>
</html>
