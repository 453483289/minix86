<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1145</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:8px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1145-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1145.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3C&#160;27-27</p>
<p style="position:absolute;top:47px;left:782px;white-space:nowrap" class="ft01">VM&#160;EXITS</p>
<p style="position:absolute;top:100px;left:120px;white-space:nowrap" class="ft05">If the processor supports&#160;the Intel&#160;64 architecture&#160;and the&#160;processor&#160;supports&#160;N &lt; 64 linear-address&#160;bits,&#160;<br/>each of bits&#160;63:N is&#160;set&#160;to the&#160;value of bit&#160;N–1.</p>
<p style="position:absolute;top:114px;left:435px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:117px;left:442px;white-space:nowrap" class="ft02">&#160;The values&#160;loaded for base addresses for FS and&#160;GS&#160;are&#160;</p>
<p style="position:absolute;top:133px;left:120px;white-space:nowrap" class="ft02">also manifest in the FS.base&#160;and GS.base MSRs.</p>
<p style="position:absolute;top:157px;left:95px;white-space:nowrap" class="ft02">—&#160;TR.&#160;Loaded from&#160;the host-state area.&#160;If&#160;the processor&#160;supports the&#160;Intel&#160;64 architecture and the&#160;processor&#160;</p>
<p style="position:absolute;top:174px;left:120px;white-space:nowrap" class="ft02">supports&#160;N &lt; 64 linear-address bits, each of&#160;bits&#160;63:N is&#160;set&#160;to the&#160;value of&#160;bit&#160;N–1.</p>
<p style="position:absolute;top:196px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:196px;left:95px;white-space:nowrap" class="ft07">The&#160;segment limit&#160;is set as&#160;follows:<br/>—&#160;CS.&#160;Set&#160;to FFFFFFFFH (corresponding to&#160;a descriptor limit of&#160;FFFFFH and&#160;a G-bit setting of 1).<br/>—&#160;SS,&#160;DS,&#160;ES, FS, and GS. Undefined&#160;if the&#160;segment is&#160;unusable; otherwise, set&#160;to FFFFFFFFH.<br/>—&#160;TR.&#160;Set to 00000067H.</p>
<p style="position:absolute;top:290px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:291px;left:95px;white-space:nowrap" class="ft06">The&#160;type&#160;field&#160;and S&#160;bit are&#160;set&#160;as follows:<br/>—&#160;CS.&#160;Type set to&#160;11&#160;and S set&#160;to 1&#160;(execute/read, accessed, non-conforming&#160;code&#160;segment).<br/>—&#160;SS,&#160;DS,&#160;ES, FS, and GS. Undefined&#160;if the&#160;segment&#160;is&#160;unusable; otherwise, type set&#160;to 3 and&#160;S&#160;set to&#160;1&#160;</p>
<p style="position:absolute;top:355px;left:120px;white-space:nowrap" class="ft02">(read/write,&#160;accessed,&#160;expand-up&#160;data&#160;segment).</p>
<p style="position:absolute;top:379px;left:95px;white-space:nowrap" class="ft02">—&#160;TR.&#160;Type set&#160;to 11 and S&#160;set&#160;to 0&#160;(busy 32-bit&#160;task-state&#160;segment).</p>
<p style="position:absolute;top:401px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:402px;left:95px;white-space:nowrap" class="ft07">The&#160;DPL&#160;is set as&#160;follows:<br/>—&#160;CS,&#160;SS,&#160;and&#160;TR. Set to&#160;0.&#160;The&#160;current privilege&#160;level (CPL)&#160;will be 0&#160;after the&#160;VM&#160;exit&#160;completes.<br/>—&#160;DS,&#160;ES, FS, and&#160;GS.&#160;Undefined&#160;if&#160;the segment is&#160;unusable; otherwise, set to&#160;0.</p>
<p style="position:absolute;top:472px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:472px;left:95px;white-space:nowrap" class="ft06">The&#160;P bit is&#160;set as&#160;follows:<br/>—&#160;CS,&#160;TR. Set&#160;to&#160;1.<br/>—&#160;SS,&#160;DS,&#160;ES, FS, and GS. Undefined&#160;if the&#160;segment&#160;is unusable;&#160;otherwise,&#160;set to&#160;1.</p>
<p style="position:absolute;top:542px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:543px;left:95px;white-space:nowrap" class="ft05">On processors that&#160;support&#160;Intel 64&#160;architecture,&#160;CS.L&#160;is&#160;loaded&#160;with&#160;the setting of the “host address-space&#160;<br/>size” VM-exit control. Because&#160;the&#160;value of this control is&#160;also loaded into IA32_EFER.LMA&#160;(see<a href="o_fe12b1e2a880e0ce-1143.html">&#160;Section 27.5.1</a>),&#160;<br/>no VM&#160;exit is&#160;ever&#160;to&#160;compatibility&#160;mode&#160;(which requires&#160;IA32_EFER.LMA&#160;=&#160;1 and&#160;CS.L&#160;= 0).</p>
<p style="position:absolute;top:598px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:598px;left:95px;white-space:nowrap" class="ft06">D/B.<br/>—&#160;CS.&#160;Loaded with the inverse of the setting of the “host address-space size” VM-exit control. For example, if&#160;</p>
<p style="position:absolute;top:639px;left:120px;white-space:nowrap" class="ft02">that control&#160;is 0, indicating a&#160;32-bit guest,&#160;CS.D/B is&#160;set&#160;to 1.</p>
<p style="position:absolute;top:663px;left:95px;white-space:nowrap" class="ft07">—&#160;SS.&#160;Set to&#160;1.<br/>—&#160;DS,&#160;ES, FS, and&#160;GS.&#160;Undefined&#160;if&#160;the segment is&#160;unusable; otherwise, set to&#160;1.<br/>—&#160;TR.&#160;Set to 0.</p>
<p style="position:absolute;top:733px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:733px;left:95px;white-space:nowrap" class="ft07">G.<br/>—&#160;CS.&#160;Set to&#160;1.<br/>—&#160;SS,&#160;DS,&#160;ES, FS, and GS. Undefined&#160;if the&#160;segment&#160;is unusable;&#160;otherwise,&#160;set to&#160;1.<br/>—&#160;TR.&#160;Set to 0.</p>
<p style="position:absolute;top:829px;left:69px;white-space:nowrap" class="ft05">The&#160;host-state area&#160;does&#160;not contain a&#160;selector field&#160;for&#160;LDTR.&#160;LDTR&#160;is established as&#160;follows on all VM&#160;exits: the&#160;<br/>selector is&#160;cleared to&#160;0000H, the&#160;segment&#160;is marked unusable and is&#160;otherwise undefined&#160;(although the&#160;base&#160;<br/>address&#160;is always canonical).<br/>The base addresses for GDTR&#160;and&#160;IDTR are loaded&#160;from&#160;the&#160;GDTR&#160;base-address field and&#160;the IDTR base-address&#160;<br/>field, respectively.&#160;If&#160;the processor supports the&#160;Intel&#160;64 architecture and&#160;the processor supports N&#160;&lt;&#160;64&#160;linear-<br/>address&#160;bits, each of&#160;bits&#160;63:N of each base&#160;address is set to&#160;the&#160;value of&#160;bit&#160;N–1 of that base address. The GDTR&#160;<br/>and IDTR limits&#160;are each set&#160;to FFFFH.</p>
<p style="position:absolute;top:1038px;left:69px;white-space:nowrap" class="ft02">1.&#160;Software&#160;can determine the number N&#160;by executing CPUID with&#160;80000008H&#160;in&#160;EAX.&#160;The number of&#160;linear-address bits supported&#160;is&#160;</p>
<p style="position:absolute;top:1054px;left:91px;white-space:nowrap" class="ft02">returned in bits&#160;15:8 of&#160;EAX.</p>
</div>
</body>
</html>
