<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 286</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page286-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce286.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">8-30&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">MULTIPLE-PROCESSOR&#160;MANAGEMENT</p>
<p style="position:absolute;top:99px;left:432px;white-space:nowrap" class="ft02">NOTE</p>
<p style="position:absolute;top:124px;left:120px;white-space:nowrap" class="ft07">Some&#160;processors (prior&#160;to the&#160;introduction of&#160;Intel 64 Architecture&#160;and based&#160;on&#160;Intel NetBurst&#160;<br/>microarchitecture) do&#160;not support simultaneous loading of microcode&#160;update to&#160;the sibling logical&#160;<br/>processors&#160;in the&#160;same core. All other&#160;processors&#160;support logical processors initiating&#160;an update&#160;<br/>simultaneously.&#160;Intel recommends&#160;a common approach that the&#160;microcode&#160;loader&#160;use the&#160;<br/>sequential technique described&#160;in&#160;<a href="o_fe12b1e2a880e0ce-347.html">Section&#160;9.11.6.3.</a></p>
<p style="position:absolute;top:241px;left:68px;white-space:nowrap" class="ft04">8.7.12&#160;</p>
<p style="position:absolute;top:241px;left:148px;white-space:nowrap" class="ft04">Self Modifying Code</p>
<p style="position:absolute;top:271px;left:68px;white-space:nowrap" class="ft07">Intel processors supporting Intel&#160;Hyper-Threading&#160;Technology&#160;support self-modifying code,&#160;where&#160;data&#160;writes&#160;<br/>modify instructions cached or currently&#160;in&#160;flight. They&#160;also support cross-modifying code,&#160;where&#160;on an MP&#160;system&#160;<br/>writes&#160;generated by one&#160;processor modify instructions cached&#160;or&#160;currently&#160;in&#160;flight on another.&#160;See<a href="o_fe12b1e2a880e0ce-260.html">&#160;Section 8.1.3,&#160;<br/>“Handling&#160;Self- and&#160;Cross-Modifying Code,”</a>&#160;for a description of&#160;the&#160;requirements for self- and cross-modifying code&#160;<br/>in an IA-32 processor.</p>
<p style="position:absolute;top:388px;left:68px;white-space:nowrap" class="ft04">8.7.13&#160;</p>
<p style="position:absolute;top:388px;left:148px;white-space:nowrap" class="ft04">Implementation-Specific Intel HT Technology Facilities</p>
<p style="position:absolute;top:418px;left:68px;white-space:nowrap" class="ft07">The&#160;following&#160;non-architectural facilities are&#160;implementation-specific in IA-32 processors supporting&#160;Intel&#160;Hyper-<br/>Threading Technology:</p>
<p style="position:absolute;top:457px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:457px;left:93px;white-space:nowrap" class="ft03">Caches</p>
<p style="position:absolute;top:479px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:480px;left:93px;white-space:nowrap" class="ft03">Translation lookaside buffers (TLBs)</p>
<p style="position:absolute;top:502px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:502px;left:93px;white-space:nowrap" class="ft03">Thermal monitoring facilities</p>
<p style="position:absolute;top:526px;left:68px;white-space:nowrap" class="ft03">The&#160;Intel Xeon processor MP implementation&#160;is described&#160;in&#160;the following sections.</p>
<p style="position:absolute;top:571px;left:68px;white-space:nowrap" class="ft02">8.7.13.1&#160;&#160;&#160;Processor&#160;Caches</p>
<p style="position:absolute;top:599px;left:68px;white-space:nowrap" class="ft07">For processors supporting Intel Hyper-Threading&#160;Technology,&#160;the caches are&#160;shared. Any cache&#160;manipulation&#160;<br/>instruction&#160;that&#160;is executed&#160;on&#160;one logical processor has&#160;a global effect&#160;on&#160;the&#160;cache hierarchy of&#160;the&#160;physical&#160;<br/>processor.&#160;Note&#160;the following:</p>
<p style="position:absolute;top:654px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:655px;left:93px;white-space:nowrap" class="ft07"><b>WBINVD&#160;instruction&#160;</b>— The&#160;entire&#160;cache hierarchy is&#160;invalidated&#160;after modified data is&#160;written&#160;back to&#160;<br/>memory. All logical processors are stopped from executing until&#160;after the&#160;write-back and invalidate operation is&#160;<br/>completed. A special bus&#160;cycle&#160;is&#160;sent to&#160;all caching&#160;agents. The amount of time&#160;or cycles for WBINVD&#160;to&#160;<br/>complete will vary&#160;due to the&#160;size of different cache&#160;hierarchies&#160;and other factors. As&#160;a consequence, the&#160;use&#160;of&#160;<br/>the&#160;WBINVD instruction can&#160;have an&#160;impact on interrupt/event&#160;response&#160;time.</p>
<p style="position:absolute;top:742px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:743px;left:93px;white-space:nowrap" class="ft07"><b>INVD&#160;instruction</b>&#160;— The entire cache hierarchy is&#160;invalidated&#160;without&#160;writing back modified data to memory.&#160;<br/>All logical processors are stopped from executing until after the invalidate operation is completed. A special bus&#160;<br/>cycle&#160;is sent to&#160;all caching&#160;agents.</p>
<p style="position:absolute;top:798px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:799px;left:93px;white-space:nowrap" class="ft07"><b>CLFLUSH&#160;and CLFLUSHOPT instructions</b>&#160;— The specified&#160;cache&#160;line&#160;is invalidated from&#160;the cache hierarchy&#160;<br/>after&#160;any modified data&#160;is written&#160;back to memory and&#160;a bus cycle is&#160;sent to&#160;all caching agents, regardless of&#160;<br/>which logical processor caused the&#160;cache&#160;line to&#160;be&#160;filled.</p>
<p style="position:absolute;top:853px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:854px;left:93px;white-space:nowrap" class="ft07"><b>CD&#160;flag&#160;in&#160;control&#160;register&#160;CR0</b>&#160;—&#160;Each&#160;logical processor has&#160;its own&#160;CR0 control&#160;register, and&#160;thus&#160;its&#160;own&#160;<br/>CD&#160;flag in&#160;CR0.&#160;The CD&#160;flags for&#160;the two logical processors&#160;are&#160;ORed&#160;together, such&#160;that when&#160;any logical&#160;<br/>processor sets&#160;its&#160;CD flag, the&#160;entire&#160;cache is&#160;nominally disabled.&#160;</p>
<p style="position:absolute;top:931px;left:68px;white-space:nowrap" class="ft02">8.7.13.2&#160;&#160;&#160;Processor&#160;Translation Lookaside Buffers (TLBs)</p>
<p style="position:absolute;top:960px;left:68px;white-space:nowrap" class="ft07">In processors supporting&#160;Intel&#160;Hyper-Threading Technology, data cache&#160;TLBs&#160;are shared.&#160;The instruction cache&#160;TLB&#160;<br/>may&#160;be&#160;duplicated or&#160;shared&#160;in&#160;each logical processor,&#160;depending on&#160;implementation specifics of different&#160;processor&#160;<br/>families.<br/>Entries&#160;in&#160;the TLBs&#160;are&#160;tagged with an&#160;ID that&#160;indicates the logical processor&#160;that initiated&#160;the translation. This tag&#160;<br/>applies even&#160;for translations&#160;that are marked&#160;global using the page-global feature for&#160;memory&#160;paging.&#160;See<a href="o_fe12b1e2a880e0ce-139.html">&#160;Section&#160;<br/>4.10, “Caching Translation Information,”&#160;</a>for&#160;information about&#160;global&#160;translations.</p>
</div>
</body>
</html>
