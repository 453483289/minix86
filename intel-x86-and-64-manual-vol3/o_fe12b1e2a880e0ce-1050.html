<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1050</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;font-family:Times;color:#000000;}
	.ft010{font-size:12px;font-family:Times;color:#0860a8;}
	.ft011{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1050-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1050.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">24-4&#160;Vol. 3C</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">VIRTUAL MACHINE CONTROL STRUCTURES</p>
<p style="position:absolute;top:97px;left:68px;white-space:nowrap" class="ft02">24.4 GUEST-STATE&#160;</p>
<p style="position:absolute;top:97px;left:281px;white-space:nowrap" class="ft02">AREA</p>
<p style="position:absolute;top:133px;left:68px;white-space:nowrap" class="ft011">This&#160;section&#160;describes fields contained in the&#160;guest-state&#160;area&#160;of&#160;the VMCS.&#160;As&#160;noted&#160;earlier,&#160;processor state&#160;is&#160;<br/>loaded&#160;from these fields on every VM&#160;entry (see<a href="o_fe12b1e2a880e0ce-1106.html">&#160;Section 26.3.2) and</a>&#160;stored&#160;into these fields&#160;on every VM&#160;exit (see&#160;<br/><a href="o_fe12b1e2a880e0ce-1138.html">Section 27.3).</a></p>
<p style="position:absolute;top:217px;left:68px;white-space:nowrap" class="ft04">24.4.1&#160;</p>
<p style="position:absolute;top:217px;left:148px;white-space:nowrap" class="ft04">Guest Register State</p>
<p style="position:absolute;top:247px;left:68px;white-space:nowrap" class="ft03">The following fields&#160;in the&#160;guest-state area&#160;correspond&#160;to&#160;processor registers:</p>
<p style="position:absolute;top:269px;left:68px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:270px;left:93px;white-space:nowrap" class="ft011">Control&#160;registers CR0,&#160;CR3,&#160;and&#160;CR4&#160;(64&#160;bits each;&#160;32&#160;bits on&#160;processors that&#160;do not&#160;support Intel 64 archi-<br/>tecture).</p>
<p style="position:absolute;top:308px;left:68px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:309px;left:93px;white-space:nowrap" class="ft03">Debug&#160;register DR7&#160;(64&#160;bits; 32&#160;bits on&#160;processors that do not support Intel&#160;64&#160;architecture).</p>
<p style="position:absolute;top:331px;left:68px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:331px;left:93px;white-space:nowrap" class="ft03">RSP,&#160;RIP,&#160;and RFLAGS&#160;(64&#160;bits each; 32&#160;bits&#160;on processors that&#160;do not support Intel 64 architecture).</p>
<p style="position:absolute;top:329px;left:774px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:353px;left:68px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:354px;left:93px;white-space:nowrap" class="ft012">The&#160;following&#160;fields&#160;for each&#160;of the&#160;registers CS,&#160;SS,&#160;DS,&#160;ES,&#160;FS,&#160;GS,&#160;LDTR,&#160;and&#160;TR:<br/>‚Äî&#160;Selector (16 bits).<br/>‚Äî&#160;Base&#160;address (64 bits;&#160;32&#160;bits&#160;on processors that do not support Intel&#160;64&#160;architecture). The base-address&#160;</p>
<p style="position:absolute;top:418px;left:119px;white-space:nowrap" class="ft011">fields&#160;for&#160;CS,&#160;SS,&#160;DS,&#160;and&#160;ES&#160;have&#160;only&#160;32&#160;architecturally-defined bits; nevertheless,&#160;the corresponding&#160;<br/>VMCS&#160;fields&#160;have 64 bits on processors that&#160;support&#160;Intel 64 architecture.</p>
<p style="position:absolute;top:459px;left:93px;white-space:nowrap" class="ft012">‚Äî&#160;Segment limit&#160;(32&#160;bits). The limit field is&#160;always&#160;a measure in bytes.<br/>‚Äî&#160;Access rights (32 bits).&#160;The format of this&#160;field&#160;is give<a href="o_fe12b1e2a880e0ce-1050.html">n in&#160;Table&#160;24-2 and&#160;</a>detailed&#160;as follows:</p>
<p style="position:absolute;top:508px;left:119px;white-space:nowrap" class="ft07">‚Ä¢</p>
<p style="position:absolute;top:507px;left:144px;white-space:nowrap" class="ft03">The low 16 bits correspond to&#160;bits 23:8&#160;of&#160;the upper&#160;32&#160;bits of&#160;a 64-bit segment descriptor. While&#160;bits&#160;</p>
<p style="position:absolute;top:523px;left:143px;white-space:nowrap" class="ft011">19:16 of code-segment&#160;and data-segment&#160;descriptors&#160;correspond to&#160;the upper 4 bits of&#160;the&#160;segment&#160;<br/>limit, the&#160;corresponding bits (bits&#160;11:8)&#160;are reserved in&#160;this&#160;VMCS field.</p>
<p style="position:absolute;top:565px;left:119px;white-space:nowrap" class="ft07">‚Ä¢</p>
<p style="position:absolute;top:564px;left:144px;white-space:nowrap" class="ft03">Bit&#160;16 indicates&#160;an&#160;<b>unusable segment</b>. Attempts&#160;to use such a&#160;segment&#160;fault&#160;except in&#160;64-bit mode.&#160;</p>
<p style="position:absolute;top:580px;left:143px;white-space:nowrap" class="ft03">In general, a&#160;segment&#160;register is&#160;unusable&#160;if it&#160;has been loaded&#160;with a&#160;null selector.</p>
<p style="position:absolute;top:578px;left:703px;white-space:nowrap" class="ft06">2</p>
<p style="position:absolute;top:606px;left:119px;white-space:nowrap" class="ft07">‚Ä¢</p>
<p style="position:absolute;top:604px;left:144px;white-space:nowrap" class="ft03">Bits&#160;31:17 are&#160;reserved.</p>
<p style="position:absolute;top:918px;left:68px;white-space:nowrap" class="ft03">1.&#160;This&#160;chapter uses&#160;the notation&#160;RAX,&#160;RIP,&#160;RSP,&#160;RFLAGS, etc.&#160;for processor registers because most&#160;processors that&#160;support VMX&#160;oper-</p>
<p style="position:absolute;top:934px;left:89px;white-space:nowrap" class="ft03">ation&#160;also&#160;support Intel 64&#160;architecture. For processors&#160;that&#160;do&#160;not support Intel 64 architecture, this notation refers to&#160;the&#160;32-bit&#160;</p>
<p style="position:absolute;top:951px;left:89px;white-space:nowrap" class="ft03">forms&#160;of&#160;those&#160;registers&#160;(EAX, EIP,&#160;ESP,&#160;EFLAGS,&#160;etc.).&#160;In&#160;a few&#160;places, notation such as EAX is used to&#160;refer specifically&#160;to&#160;lower 32&#160;</p>
<p style="position:absolute;top:967px;left:89px;white-space:nowrap" class="ft03">bits of&#160;the indicated register.</p>
<p style="position:absolute;top:988px;left:68px;white-space:nowrap" class="ft03">2.&#160;There&#160;are&#160;a few exceptions to&#160;this statement.&#160;For&#160;example,&#160;a&#160;segment with a&#160;non-null selector may be&#160;unusable following&#160;a task&#160;</p>
<p style="position:absolute;top:1005px;left:89px;white-space:nowrap" class="ft03">switch that&#160;fails after&#160;its commit&#160;point;&#160;see<a href="o_fe12b1e2a880e0ce-217.html">&#160;‚ÄúInterrupt&#160;10‚ÄîInvalid&#160;TSS&#160;Exception (#TS)‚Äù</a>&#160;in<a href="o_fe12b1e2a880e0ce-202.html">&#160;Section&#160;6.14, ‚ÄúException&#160;and Interrupt&#160;</a></p>
<p style="position:absolute;top:1021px;left:89px;white-space:nowrap" class="ft03"><a href="o_fe12b1e2a880e0ce-202.html">Handling&#160;in&#160;64-bit&#160;Mode,‚Äù&#160;</a>of&#160;the<a href="˛ˇ">&#160;<i>Intel¬Æ 64&#160;and&#160;IA-32 Architectures Software&#160;Developer‚Äôs Manual,&#160;Volume 3A</i></a>. In&#160;contrast,&#160;the&#160;TR&#160;reg-</p>
<p style="position:absolute;top:1038px;left:89px;white-space:nowrap" class="ft03">ister is usable after processor reset despite&#160;having&#160;a null selector; se<a href="o_fe12b1e2a880e0ce-368.html">e Table 10-1 in</a>&#160;th<a href="˛ˇ">e&#160;<i>Intel¬Æ 64&#160;and IA-32&#160;Architectures&#160;Software&#160;</i></a></p>
<p style="position:absolute;top:1054px;left:89px;white-space:nowrap" class="ft09"><a href="˛ˇ"><i>Developer‚Äôs Manual, Volume 3A</i></a>.</p>
<p style="position:absolute;top:653px;left:326px;white-space:nowrap" class="ft010">Table 24-2.&#160;&#160;Format of&#160;Access&#160;Rights&#160;</p>
<p style="position:absolute;top:687px;left:79px;white-space:nowrap" class="ft03">Bit&#160;Position(s)</p>
<p style="position:absolute;top:687px;left:233px;white-space:nowrap" class="ft03">Field</p>
<p style="position:absolute;top:715px;left:79px;white-space:nowrap" class="ft03">3:0</p>
<p style="position:absolute;top:715px;left:233px;white-space:nowrap" class="ft03">Segment&#160;type</p>
<p style="position:absolute;top:744px;left:79px;white-space:nowrap" class="ft03">4</p>
<p style="position:absolute;top:744px;left:233px;white-space:nowrap" class="ft03">S&#160;‚Äî Descriptor type (0 =&#160;system;&#160;1&#160;=&#160;code&#160;or&#160;data)</p>
<p style="position:absolute;top:772px;left:79px;white-space:nowrap" class="ft03">6:5</p>
<p style="position:absolute;top:772px;left:233px;white-space:nowrap" class="ft03">DPL&#160;‚Äî Descriptor&#160;privilege level</p>
<p style="position:absolute;top:801px;left:79px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:801px;left:233px;white-space:nowrap" class="ft03">P&#160;‚Äî Segment&#160;present</p>
<p style="position:absolute;top:829px;left:79px;white-space:nowrap" class="ft03">11:8</p>
<p style="position:absolute;top:829px;left:233px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:858px;left:79px;white-space:nowrap" class="ft03">12</p>
<p style="position:absolute;top:858px;left:233px;white-space:nowrap" class="ft03">AVL ‚Äî&#160;Available&#160;for use by&#160;system&#160;software</p>
</div>
</body>
</html>
