<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 95</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#000000;}
	.ft07{font-size:7px;font-family:Times;color:#000000;}
	.ft08{font-size:8px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft012{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft013{font-size:9px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page95-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce095.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3A&#160;3-7</p>
<p style="position:absolute;top:47px;left:589px;white-space:nowrap" class="ft01">PROTECTED-MODE MEMORY&#160;MANAGEMENT</p>
<p style="position:absolute;top:386px;left:69px;white-space:nowrap" class="ft010">If paging is&#160;not used,&#160;the processor maps&#160;the linear&#160;address directly to&#160;a physical address&#160;(that&#160;is, the&#160;linear&#160;<br/>address goes&#160;out on&#160;the processor’s&#160;address bus). If&#160;the&#160;linear&#160;address space is&#160;paged, a&#160;second&#160;level of address&#160;<br/>translation&#160;is used to&#160;translate&#160;the linear&#160;address into&#160;a physical address.&#160;<br/>See also:&#160;<a href="o_fe12b1e2a880e0ce-105.html">Chapter 4, “Paging.”</a></p>
<p style="position:absolute;top:494px;left:69px;white-space:nowrap" class="ft03">3.4.1&#160;</p>
<p style="position:absolute;top:494px;left:150px;white-space:nowrap" class="ft03">Logical Address Translation in IA-32e Mode</p>
<p style="position:absolute;top:525px;left:69px;white-space:nowrap" class="ft09">In&#160;IA-32e&#160;mode, an&#160;Intel 64 processor uses&#160;the steps described above to&#160;translate&#160;a logical address&#160;to a linear&#160;<br/>address. In&#160;64-bit mode, the&#160;offset and&#160;base&#160;address&#160;of the&#160;segment&#160;are&#160;64-bits instead of 32 bits.&#160;The linear&#160;<br/>address format is&#160;also 64&#160;bits wide&#160;and is&#160;subject to&#160;the canonical&#160;form requirement.<br/>Each&#160;code&#160;segment&#160;descriptor provides an L bit.&#160;This bit&#160;allows&#160;a code segment to&#160;execute&#160;64-bit code or&#160;legacy&#160;<br/>32-bit code&#160;by code segment.</p>
<p style="position:absolute;top:648px;left:69px;white-space:nowrap" class="ft03">3.4.2 Segment&#160;</p>
<p style="position:absolute;top:648px;left:226px;white-space:nowrap" class="ft03">Selectors</p>
<p style="position:absolute;top:679px;left:69px;white-space:nowrap" class="ft010">A segment selector&#160;is a 16-bit identifier for a segmen<a href="o_fe12b1e2a880e0ce-95.html">t (see&#160;Figure&#160;3-6).</a>&#160;It does&#160;not point&#160;directly to the segment,&#160;<br/>but instead points to the segment descriptor that&#160;defines&#160;the&#160;segment. A segment selector contains&#160;the&#160;following&#160;<br/>items:<br/><b>Index</b></p>
<p style="position:absolute;top:736px;left:170px;white-space:nowrap" class="ft09">(Bits&#160;3&#160;through&#160;15)&#160;—&#160;Selects&#160;one&#160;of 8192&#160;descriptors&#160;in&#160;the GDT or&#160;LDT.&#160;The processor&#160;multiplies&#160;<br/>the&#160;index value by 8 (the number of bytes&#160;in a segment descriptor) and&#160;adds&#160;the result&#160;to the base&#160;<br/>address of the GDT or&#160;LDT (from the GDTR or LDTR&#160;register,&#160;respectively).</p>
<p style="position:absolute;top:793px;left:69px;white-space:nowrap" class="ft04"><b>TI (table indicator) flag</b></p>
<p style="position:absolute;top:810px;left:170px;white-space:nowrap" class="ft09">(Bit 2)&#160;— Specifies&#160;the&#160;descriptor&#160;table to&#160;use: clearing this flag&#160;selects the&#160;GDT;&#160;setting&#160;this flag&#160;<br/>selects the&#160;current LDT.</p>
<p style="position:absolute;top:341px;left:260px;white-space:nowrap" class="ft05">Figure&#160;3-5. &#160;Logical Address to&#160;Linear Address Translation</p>
<p style="position:absolute;top:1002px;left:353px;white-space:nowrap" class="ft05">Figure&#160;3-6.&#160;&#160;Segment&#160;Selector</p>
<p style="position:absolute;top:148px;left:482px;white-space:nowrap" class="ft00">Offset (Effective Address)</p>
<p style="position:absolute;top:133px;left:621px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:251px;left:449px;white-space:nowrap" class="ft00">Base Address</p>
<p style="position:absolute;top:186px;left:367px;white-space:nowrap" class="ft00">Descriptor&#160;Table</p>
<p style="position:absolute;top:256px;left:381px;white-space:nowrap" class="ft00">&#160;Segment</p>
<p style="position:absolute;top:267px;left:382px;white-space:nowrap" class="ft00">Descriptor</p>
<p style="position:absolute;top:133px;left:475px;white-space:nowrap" class="ft00">31(63)</p>
<p style="position:absolute;top:148px;left:337px;white-space:nowrap" class="ft00">Seg. Selector</p>
<p style="position:absolute;top:133px;left:409px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:133px;left:330px;white-space:nowrap" class="ft00">15</p>
<p style="position:absolute;top:142px;left:285px;white-space:nowrap" class="ft00">Logical</p>
<p style="position:absolute;top:154px;left:279px;white-space:nowrap" class="ft00">Address</p>
<p style="position:absolute;top:258px;left:543px;white-space:nowrap" class="ft06">+</p>
<p style="position:absolute;top:318px;left:512px;white-space:nowrap" class="ft00">Linear Address</p>
<p style="position:absolute;top:303px;left:619px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:303px;left:474px;white-space:nowrap" class="ft00">31(63)</p>
<p style="position:absolute;top:885px;left:366px;white-space:nowrap" class="ft07">15</p>
<p style="position:absolute;top:885px;left:521px;white-space:nowrap" class="ft07">3&#160;2&#160;1&#160;0</p>
<p style="position:absolute;top:899px;left:532px;white-space:nowrap" class="ft08">T</p>
<p style="position:absolute;top:909px;left:534px;white-space:nowrap" class="ft08">I</p>
<p style="position:absolute;top:903px;left:441px;white-space:nowrap" class="ft08">Index</p>
<p style="position:absolute;top:936px;left:336px;white-space:nowrap" class="ft013">Table&#160;Indicator<br/>&#160; &#160;0 = GDT<br/>&#160; &#160;1 = LDT<br/>Requested Privilege Level (RPL)</p>
<p style="position:absolute;top:903px;left:545px;white-space:nowrap" class="ft08">RPL</p>
</div>
</body>
</html>
