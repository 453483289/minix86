<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 600</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#0860a8;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page600-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce600.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">17-26&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">DEBUG,&#160;BRANCH&#160;PROFILE,&#160;TSC,&#160;AND RESOURCE&#160;MONITORING&#160;FEATURES</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft08"><b>Last Branch Record Top-of-Stack (TOS) Pointer&#160;</b>—&#160;The&#160;lowest&#160;significant 2&#160;bits of the TOS Pointer MSR&#160;<br/>(MSR_LASTBRANCH_TOS,&#160;address 1C9H) contains a pointer&#160;to the MSR in the LBR stack that contains&#160;the most&#160;<br/>recent branch, interrupt,&#160;or&#160;exception recorded.</p>
<p style="position:absolute;top:157px;left:68px;white-space:nowrap" class="ft04">Eight pairs of MSRs are&#160;supported&#160;in the&#160;LBR stack&#160;for&#160;45&#160;nm&#160;and 32 nm Intel Atom processors:</p>
<p style="position:absolute;top:179px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:180px;left:93px;white-space:nowrap" class="ft09"><b>Last Branch Record (LBR) Stack&#160;<br/></b>—&#160;MSR_LASTBRANCH_0_FROM_IP&#160;(address&#160;40H) through MSR_LASTBRANCH_7_FROM_IP&#160;(address&#160;47H)&#160;</p>
<p style="position:absolute;top:220px;left:119px;white-space:nowrap" class="ft04">store&#160;source&#160;addresses</p>
<p style="position:absolute;top:244px;left:93px;white-space:nowrap" class="ft04">—&#160;MSR_LASTBRANCH_0_TO_IP (address&#160;60H) through&#160;MSR_LASTBRANCH_7_TO_IP&#160;(address&#160;67H) store&#160;</p>
<p style="position:absolute;top:261px;left:119px;white-space:nowrap" class="ft04">destination addresses</p>
<p style="position:absolute;top:283px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:283px;left:93px;white-space:nowrap" class="ft08"><b>Last Branch Record Top-of-Stack (TOS) Pointer&#160;</b>—&#160;The&#160;lowest&#160;significant 3&#160;bits of the&#160;TOS Pointer MSR&#160;<br/>(MSR_LASTBRANCH_TOS,&#160;address 1C9H) contains a pointer&#160;to the MSR in the LBR stack that contains&#160;the most&#160;<br/>recent branch, interrupt,&#160;or&#160;exception recorded.</p>
<p style="position:absolute;top:340px;left:68px;white-space:nowrap" class="ft08">The&#160;address format written in the&#160;FROM_IP/TO_IP&#160;MSRS&#160;may&#160;differ between processors. Software&#160;should&#160;query&#160;<br/>IA32_PERF_CAPABILITIES[5:0] and&#160;<a href="o_fe12b1e2a880e0ce-590.html">consult Section 17.4.8.1.</a>&#160;The&#160;behavior of the&#160;MSR_LER_TO_LIP&#160;and the&#160;<br/>MSR_LER_FROM_LIP&#160;MSRs corresponds to&#160;that of the&#160;LastExceptionToIP&#160;and LastExceptionFromIP&#160;MSRs found in&#160;<br/>P6 family processors.&#160;</p>
<p style="position:absolute;top:440px;left:68px;white-space:nowrap" class="ft05">17.5.2&#160;</p>
<p style="position:absolute;top:440px;left:148px;white-space:nowrap" class="ft05">LBR Stack in Intel Atom Processors based on the Silvermont Microarchitecture</p>
<p style="position:absolute;top:471px;left:68px;white-space:nowrap" class="ft08">The last&#160;branch record&#160;stack and top-of-stack (TOS) pointer MSRs&#160;are supported in Intel Atom processors based on&#160;<br/>the&#160;Silvermont and&#160;Airmont microarchitectures. Eight pairs&#160;of MSRs are&#160;supported&#160;in&#160;the LBR stack.&#160;<br/>LBR filtering is supported. Filtering of&#160;LBRs&#160;based on a&#160;combination of CPL and branch type conditions is supported.&#160;<br/>When LBR filtering&#160;is enabled, the&#160;LBR&#160;stack only captures&#160;the subset of branches that&#160;are specified&#160;by&#160;<br/>MSR_LBR_SELECT.&#160;The&#160;layout&#160;of&#160;MSR_LBR_SELECT is&#160;described<a href="o_fe12b1e2a880e0ce-602.html">&#160;in Table&#160;17-11.</a></p>
<p style="position:absolute;top:600px;left:68px;white-space:nowrap" class="ft06">17.6&#160;</p>
<p style="position:absolute;top:600px;left:147px;white-space:nowrap" class="ft06">LAST&#160;BRANCH, CALL STACK, INTERRUPT, AND EXCEPTION RECORDING&#160;</p>
<p style="position:absolute;top:625px;left:146px;white-space:nowrap" class="ft06">FOR PROCESSORS BASED ON GOLDMONT&#160;MICROARCHITECTURE</p>
<p style="position:absolute;top:661px;left:68px;white-space:nowrap" class="ft08">Next generation&#160;Intel Atom processors are&#160;based&#160;on&#160;the Goldmont&#160;microarchitecture.&#160;Processors&#160;based on the&#160;<br/>Goldmont&#160;microarchitecture extend the&#160;capabilities described&#160;<a href="o_fe12b1e2a880e0ce-600.html">in Section 17.5.2&#160;</a>with&#160;the following enhancements:</p>
<p style="position:absolute;top:700px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:700px;left:93px;white-space:nowrap" class="ft04">Supports&#160;new&#160;LBR format encoding 00110b in&#160;IA32_PERF_CAPABILITIES[5:0].&#160;</p>
<p style="position:absolute;top:722px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:723px;left:93px;white-space:nowrap" class="ft08">Size&#160;of LBR stack increased to&#160;32. Each&#160;entry includes MSR_LASTBRANCH_x_FROM_IP (address 0x680..0x69f)&#160;<br/>and MSR_LASTBRANCH_x_TO_IP&#160;(address 0x6c0..0x6df).&#160;</p>
<p style="position:absolute;top:767px;left:68px;white-space:nowrap" class="ft04">•&#160;&#160;LBR call&#160;stack filtering supported.&#160;The&#160;layout of&#160;MSR_LBR_SELECT&#160;is&#160;described&#160;in<a href="o_fe12b1e2a880e0ce-603.html">&#160;Table&#160;17-13.</a></p>
<p style="position:absolute;top:792px;left:68px;white-space:nowrap" class="ft04">•&#160;&#160;Elapsed cycle information is&#160;added&#160;to MSR_LASTBRANCH_x_TO_IP.<a href="o_fe12b1e2a880e0ce-600.html">&#160;Format is shown in&#160;Table&#160;17-7.</a></p>
<p style="position:absolute;top:817px;left:68px;white-space:nowrap" class="ft02">•&#160;</p>
<p style="position:absolute;top:818px;left:92px;white-space:nowrap" class="ft04">Misprediction&#160;info is&#160;reported&#160;in the upper bits&#160;of MSR_LASTBRANCH_x_FROM_IP.&#160;MISPRED&#160;bit format is&#160;</p>
<p style="position:absolute;top:837px;left:93px;white-space:nowrap" class="ft04"><a href="o_fe12b1e2a880e0ce-602.html">shown in Table&#160;17-8.</a></p>
<p style="position:absolute;top:864px;left:68px;white-space:nowrap" class="ft04">•&#160;&#160;Streamlined&#160;Freeze_LBRs_On_PMI operation; se<a href="o_fe12b1e2a880e0ce-606.html">e Section 17.10.2.</a></p>
<p style="position:absolute;top:889px;left:68px;white-space:nowrap" class="ft04">•&#160;&#160;LBR MSRs are cleared when software&#160;requests&#160;C6&#160;or deeper sleep-state;&#160;se<a href="o_fe12b1e2a880e0ce-606.html">e Section 17.10.3.</a></p>
<p style="position:absolute;top:918px;left:190px;white-space:nowrap" class="ft07">Table&#160;17-7. &#160;&#160;MSR_LASTBRANCH_x_TO_IP&#160;&#160;for the Goldmont&#160;Microarchitecture</p>
<p style="position:absolute;top:940px;left:72px;white-space:nowrap" class="ft04">Bit Field</p>
<p style="position:absolute;top:940px;left:191px;white-space:nowrap" class="ft04">Bit&#160;Offset</p>
<p style="position:absolute;top:940px;left:270px;white-space:nowrap" class="ft04">Access</p>
<p style="position:absolute;top:940px;left:332px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:962px;left:72px;white-space:nowrap" class="ft04">Data</p>
<p style="position:absolute;top:962px;left:191px;white-space:nowrap" class="ft04">47:0</p>
<p style="position:absolute;top:962px;left:270px;white-space:nowrap" class="ft04">R/O</p>
<p style="position:absolute;top:962px;left:332px;white-space:nowrap" class="ft04">This is&#160;the “branch to“ address. See<a href="o_fe12b1e2a880e0ce-590.html">&#160;Section 17.4.8.1 for address</a>&#160;format.</p>
<p style="position:absolute;top:985px;left:72px;white-space:nowrap" class="ft04">Cycle&#160;Count&#160;</p>
<p style="position:absolute;top:1000px;left:72px;white-space:nowrap" class="ft04">(Saturating)</p>
<p style="position:absolute;top:985px;left:191px;white-space:nowrap" class="ft04">63:48</p>
<p style="position:absolute;top:985px;left:270px;white-space:nowrap" class="ft04">R/0</p>
<p style="position:absolute;top:985px;left:332px;white-space:nowrap" class="ft04">Elapsed&#160;core&#160;clocks&#160;since&#160;last update&#160;to&#160;the&#160;LBR stack.</p>
</div>
</body>
</html>
