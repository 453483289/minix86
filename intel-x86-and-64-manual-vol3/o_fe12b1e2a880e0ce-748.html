<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 748</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:7px;font-family:Times;color:#000000;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft012{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page748-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce748.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-112&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">18.21.2&#160;&#160;GBSQ Event Interface</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft09">The&#160;layout of MSR_EMON_L3_CTR_CTL0&#160;and MSR_EMON_L3_CTR_CTL1&#160;is given&#160;<a href="o_fe12b1e2a880e0ce-748.html">in Figure&#160;18-57.</a>&#160;Counting&#160;starts&#160;<br/>after software&#160;writes a&#160;non-zero&#160;value&#160;to one&#160;or more of&#160;the upper 32 bits.&#160;<br/>The event mask field (bits 58:32)&#160;consists of the&#160;following&#160;eight&#160;attributes:</p>
<p style="position:absolute;top:191px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:192px;left:93px;white-space:nowrap" class="ft08">Agent_Select (bits 35:32):&#160;The&#160;definition of this&#160;field&#160;differs slightly&#160;between&#160;Intel Xeon processor 7100&#160;and&#160;<br/>7400.&#160;<br/>For Intel&#160;Xeon&#160;processor 7100&#160;series,&#160;each bit specifies&#160;a logical processor in&#160;the physical package.&#160;The&#160;lower&#160;<br/>two bits&#160;corresponds&#160;to&#160;two logical processors in the first processor core, the&#160;upper&#160;two bits corresponds to two&#160;<br/>logical processors in&#160;the&#160;second processor core. 0FH&#160;encoding&#160;matches transactions&#160;from&#160;any logical processor.<br/>For Intel&#160;Xeon&#160;processor 7400&#160;series,&#160;each bit of [34:32]&#160;specifies the&#160;SDI logic&#160;of a&#160;dual-core module&#160;as&#160;the&#160;<br/>originator&#160;of&#160;the transaction. A value&#160;of&#160;0111B in bits&#160;[35:32] specifies&#160;transaction from&#160;any processor core.</p>
<p style="position:absolute;top:702px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:703px;left:93px;white-space:nowrap" class="ft03">Data_Flow (bits 37:36):&#160;Bit&#160;36&#160;specifies demand&#160;transactions, bit 37&#160;specifies prefetch transactions.</p>
<p style="position:absolute;top:725px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:725px;left:93px;white-space:nowrap" class="ft08">Type_Match (bits&#160;43:38): Specifies transaction&#160;types. If&#160;all six bits are&#160;set, event count will&#160;include all&#160;<br/>transaction types.</p>
<p style="position:absolute;top:764px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:764px;left:93px;white-space:nowrap" class="ft08">Snoop_Match: (bits&#160;46:44):&#160;The three bits specify&#160;(in&#160;ascending bit position)&#160;clean&#160;snoop result, HIT&#160;snoop&#160;<br/>result, and HITM&#160;snoop results&#160;respectively.</p>
<p style="position:absolute;top:803px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:803px;left:93px;white-space:nowrap" class="ft03">L3_State&#160;(bits&#160;53:47): Each&#160;bit specifies an L2 coherency&#160;state.&#160;</p>
<p style="position:absolute;top:825px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:826px;left:93px;white-space:nowrap" class="ft011">Core_Module_Select (bits 55:54):&#160;The&#160;valid encodings for L3 lookup&#160;differ slightly&#160;between&#160;Intel Xeon&#160;<br/>processor 7100&#160;and 7400.&#160;<br/>For Intel&#160;Xeon&#160;processor 7100 series,&#160;<br/>—&#160;00B: Match&#160;transactions&#160;from any&#160;core in&#160;the physical package<br/>—&#160;01B:&#160;Match&#160;transactions from&#160;this core&#160;only<br/>—&#160;10B: Match&#160;transactions&#160;from the&#160;other core in the&#160;physical&#160;package<br/>—&#160;11B: Match&#160;transaction from both&#160;cores&#160;in&#160;the physical package<br/>For Intel&#160;Xeon&#160;processor 7400 series,&#160;<br/>—&#160;00B:&#160;Match&#160;transactions from&#160;any dual-core module&#160;in the&#160;physical&#160;package<br/>—&#160;01B:&#160;Match transactions from&#160;this dual-core module&#160;only<br/>—&#160;10B:&#160;Match&#160;transactions from&#160;either&#160;one of the&#160;other two dual-core modules&#160;in the&#160;physical&#160;package</p>
<p style="position:absolute;top:657px;left:206px;white-space:nowrap" class="ft05">Figure&#160;18-57.&#160; MSR_EMON_L3_CTR_CTL0/1, Addresses:&#160;107CCH/107CDH</p>
<p style="position:absolute;top:502px;left:216px;white-space:nowrap" class="ft00">Core_module_select</p>
<p style="position:absolute;top:388px;left:462px;white-space:nowrap" class="ft06">44</p>
<p style="position:absolute;top:388px;left:565px;white-space:nowrap" class="ft06">38</p>
<p style="position:absolute;top:388px;left:474px;white-space:nowrap" class="ft06">43</p>
<p style="position:absolute;top:388px;left:577px;white-space:nowrap" class="ft06">37&#160;36</p>
<p style="position:absolute;top:388px;left:362px;white-space:nowrap" class="ft06">54&#160;53</p>
<p style="position:absolute;top:462px;left:216px;white-space:nowrap" class="ft012">Saturate<br/>Cross_snoop<br/>Fill_eviction</p>
<p style="position:absolute;top:532px;left:216px;white-space:nowrap" class="ft012">Snoop_match<br/>Type_match<br/>Data_flow<br/>Agent_select</p>
<p style="position:absolute;top:373px;left:604px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:387px;left:250px;white-space:nowrap" class="ft06">63</p>
<p style="position:absolute;top:388px;left:337px;white-space:nowrap" class="ft06">56&#160;55</p>
<p style="position:absolute;top:388px;left:436px;white-space:nowrap" class="ft06">46</p>
<p style="position:absolute;top:388px;left:640px;white-space:nowrap" class="ft06">32</p>
<p style="position:absolute;top:388px;left:424px;white-space:nowrap" class="ft06">47</p>
<p style="position:absolute;top:388px;left:324px;white-space:nowrap" class="ft06">57</p>
<p style="position:absolute;top:388px;left:312px;white-space:nowrap" class="ft06">58</p>
<p style="position:absolute;top:388px;left:300px;white-space:nowrap" class="ft06">59</p>
<p style="position:absolute;top:388px;left:287px;white-space:nowrap" class="ft06">60</p>
<p style="position:absolute;top:388px;left:603px;white-space:nowrap" class="ft06">35</p>
<p style="position:absolute;top:615px;left:424px;white-space:nowrap" class="ft07">32&#160;bit event count</p>
<p style="position:absolute;top:598px;left:642px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:595px;left:247px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:370px;left:186px;white-space:nowrap" class="ft00">MSR_EMON_L3_CTR_CTL0/1,&#160;Addresses:&#160;107CCH/107CDH</p>
<p style="position:absolute;top:516px;left:217px;white-space:nowrap" class="ft00">L3_state</p>
</div>
</body>
</html>
