<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1948</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1948-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1948.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">A-6&#160;Vol. 3D</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">VMX CAPABILITY&#160;REPORTING FACILITY</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft06">If bit&#160;5&#160;is read as 1,&#160;VM&#160;exits store the&#160;value of&#160;IA32_EFER.LMA into&#160;the&#160;‚ÄúIA-32e mode&#160;guest‚Äù&#160;VM-entry&#160;control;&#160;<br/>se<a href="o_fe12b1e2a880e0ce-1122.html">e Section 27.2</a>&#160;for more&#160;details. This&#160;bit&#160;is read as&#160;1&#160;on&#160;any logical processor that&#160;supports the&#160;1-setting of&#160;<br/>the ‚Äúunrestricted guest‚Äù&#160;VM-execution&#160;control.</p>
<p style="position:absolute;top:155px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:156px;left:93px;white-space:nowrap" class="ft06">Bits&#160;8:6&#160;report, as&#160;a bitmap, the activity&#160;states supported&#160;by&#160;the implementation:<br/>‚Äî&#160;Bit&#160;6&#160;reports&#160;(if set)&#160;the support for activity&#160;state 1 (HLT).<br/>‚Äî&#160;Bit&#160;7&#160;reports&#160;(if set)&#160;the support for activity&#160;state 2 (shutdown).<br/>‚Äî&#160;Bit&#160;8&#160;reports&#160;(if set)&#160;the support for activity&#160;state 3 (wait-for-SIPI).<br/>If an&#160;activity&#160;state is&#160;not supported,&#160;the implementation causes&#160;a VM&#160;entry to&#160;fail if it&#160;attempts&#160;to establish&#160;that&#160;<br/>activity&#160;state.&#160;All&#160;implementations support VM&#160;entry to activity&#160;state&#160;0 (active).</p>
<p style="position:absolute;top:289px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:289px;left:93px;white-space:nowrap" class="ft03">If&#160;bit&#160;14&#160;is&#160;read&#160;as&#160;1,&#160;Intel</p>
<p style="position:absolute;top:287px;left:267px;white-space:nowrap" class="ft04">¬Æ</p>
<p style="position:absolute;top:289px;left:278px;white-space:nowrap" class="ft03">&#160;Processor Trace (Intel&#160;PT) can be&#160;used&#160;in VMX operation.&#160;If the processor supports&#160;</p>
<p style="position:absolute;top:306px;left:93px;white-space:nowrap" class="ft06">Intel&#160;PT but does not allow it to be used in VMX operation, execution of VMXON clears&#160;IA32_RTIT_CTL.TraceEn&#160;<br/>(see&#160;<a href="o_fe12b1e2a880e0ce-1207.html">‚ÄúVMXON‚ÄîEnter VMX&#160;Operation‚Äù&#160;</a><a href="˛ˇ">in Chapter 30); an</a>y&#160;attempt&#160;to set that bit while in&#160;VMX&#160;operation&#160;<br/>(including VMX&#160;root&#160;operation)&#160;using the&#160;WRMSR instruction&#160;causes a&#160;general-protection&#160;exception.</p>
<p style="position:absolute;top:361px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:361px;left:93px;white-space:nowrap" class="ft06">If&#160;bit 15&#160;is&#160;read&#160;as&#160;1,&#160;the RDMSR&#160;instruction can be&#160;used&#160;in&#160;system-management&#160;mode (SMM)&#160;to read the&#160;<br/>IA32_SMBASE MSR&#160;(MSR&#160;address 9EH).&#160;Se<a href="o_fe12b1e2a880e0ce-1277.html">e Section 34.15.6.4</a>.</p>
<p style="position:absolute;top:400px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:400px;left:93px;white-space:nowrap" class="ft06">Bits&#160;24:16&#160;indicate the&#160;number of CR3-target&#160;values&#160;supported by&#160;the&#160;processor.&#160;This&#160;number is&#160;a value&#160;<br/>between&#160;0 and 256,&#160;inclusive&#160;(bit&#160;24&#160;is set if and only&#160;if&#160;bits&#160;23:16&#160;are&#160;clear).</p>
<p style="position:absolute;top:439px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:439px;left:93px;white-space:nowrap" class="ft06">Bits&#160;27:25 is used to compute the recommended&#160;maximum&#160;number of&#160;MSRs that should&#160;appear&#160;in&#160;the VM-exit&#160;<br/>MSR-store list,&#160;the VM-exit MSR-load&#160;list,&#160;or the&#160;VM-entry&#160;MSR-load list.&#160;Specifically, if&#160;the value&#160;bits&#160;27:25 of&#160;<br/>IA32_VMX_MISC&#160;is N, then&#160;512&#160;*&#160;(N&#160;+&#160;1)&#160;is the&#160;recommended maximum&#160;number of MSRs to&#160;be&#160;included in&#160;<br/>each&#160;list. If&#160;the limit&#160;is exceeded, undefined processor&#160;behavior may result&#160;(including a&#160;machine check&#160;during&#160;<br/>the VMX transition).</p>
<p style="position:absolute;top:527px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:528px;left:93px;white-space:nowrap" class="ft06">If bit&#160;28&#160;is read&#160;as&#160;1,&#160;bit&#160;2&#160;of&#160;the IA32_SMM_MONITOR_CTL&#160;can be&#160;set to&#160;1.&#160;VMXOFF&#160;unblocks SMIs&#160;unless&#160;<br/>IA32_SMM_MONITOR_CTL[bit 2]&#160;is 1&#160;(see<a href="o_fe12b1e2a880e0ce-1268.html">&#160;Section 34.14.4)</a>.</p>
<p style="position:absolute;top:566px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:567px;left:93px;white-space:nowrap" class="ft06">If&#160;bit&#160;29 is&#160;read&#160;as 1, software&#160;can use&#160;VMWRITE to&#160;write&#160;to&#160;any&#160;supported field in&#160;the VMCS; otherwise,&#160;<br/>VMWRITE&#160;cannot be used to&#160;modify&#160;VM-exit information&#160;fields.</p>
<p style="position:absolute;top:605px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:606px;left:93px;white-space:nowrap" class="ft06">If&#160;bit&#160;30 is&#160;read&#160;as 1, VM&#160;entry allows injection of&#160;a software&#160;interrupt, software exception, or&#160;privileged&#160;<br/>software&#160;exception with&#160;an instruction length of 0.</p>
<p style="position:absolute;top:644px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:645px;left:93px;white-space:nowrap" class="ft03">Bits&#160;63:32&#160;report the&#160;32-bit MSEG revision identifier used&#160;by&#160;the&#160;processor.</p>
<p style="position:absolute;top:667px;left:68px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:667px;left:93px;white-space:nowrap" class="ft03">Bits&#160;13:9&#160;and bit&#160;31 are reserved&#160;and&#160;are read as&#160;0.</p>
<p style="position:absolute;top:723px;left:68px;white-space:nowrap" class="ft05">A.7&#160;</p>
<p style="position:absolute;top:723px;left:147px;white-space:nowrap" class="ft05">VMX-FIXED BITS IN CR0</p>
<p style="position:absolute;top:759px;left:68px;white-space:nowrap" class="ft06">The&#160;IA32_VMX_CR0_FIXED0&#160;MSR (index 486H) and&#160;IA32_VMX_CR0_FIXED1&#160;MSR (index 487H)&#160;indicate how bits&#160;<br/>in&#160;CR0&#160;may&#160;be&#160;set&#160;in&#160;VMX&#160;operation.&#160;They&#160;report&#160;on&#160;bits&#160;in&#160;CR0&#160;that&#160;are&#160;allowed&#160;to&#160;be&#160;0&#160;and&#160;to&#160;be&#160;1,&#160;respectively,&#160;<br/>in VMX operation.&#160;If&#160;bit&#160;X&#160;is&#160;1 in IA32_VMX_CR0_FIXED0,&#160;then&#160;that bit of&#160;CR0&#160;is fixed to 1&#160;in VMX operation. Simi-<br/>larly,&#160;if&#160;bit&#160;X&#160;is 0 in IA32_VMX_CR0_FIXED1,&#160;then&#160;that bit of&#160;CR0 is fixed to&#160;0&#160;in&#160;VMX operation. It is always the case&#160;<br/>that, if bit&#160;X&#160;is 1&#160;in IA32_VMX_CR0_FIXED0,&#160;then&#160;that bit is&#160;also 1&#160;in IA32_VMX_CR0_FIXED1; if bit&#160;X&#160;is 0&#160;in&#160;<br/>IA32_VMX_CR0_FIXED1,&#160;then that bit&#160;is also 0&#160;in&#160;IA32_VMX_CR0_FIXED0.&#160;Thus, each bit in CR0 is&#160;either fixed&#160;to&#160;<br/>0&#160;(with value&#160;0 in&#160;both MSRs),&#160;fixed&#160;to 1&#160;(1&#160;in both&#160;MSRs), or flexible (0 in IA32_VMX_CR0_FIXED0 and&#160;1&#160;in&#160;<br/>IA32_VMX_CR0_FIXED1).</p>
<p style="position:absolute;top:930px;left:68px;white-space:nowrap" class="ft05">A.8&#160;</p>
<p style="position:absolute;top:930px;left:147px;white-space:nowrap" class="ft05">VMX-FIXED BITS IN CR4</p>
<p style="position:absolute;top:966px;left:68px;white-space:nowrap" class="ft06">The&#160;IA32_VMX_CR4_FIXED0&#160;MSR (index 488H) and&#160;IA32_VMX_CR4_FIXED1&#160;MSR (index 489H)&#160;indicate how bits&#160;<br/>in&#160;CR4 may be&#160;set&#160;in VMX operation. They&#160;report&#160;on bits in&#160;CR4 that are allowed&#160;to&#160;be&#160;0 and 1,&#160;respectively, in&#160;VMX&#160;<br/>operation.&#160;If&#160;bit&#160;X&#160;is 1&#160;in IA32_VMX_CR4_FIXED0,&#160;then that&#160;bit of&#160;CR4&#160;is fixed to&#160;1 in&#160;VMX operation. Similarly,&#160;if&#160;<br/>bit&#160;X&#160;is 0&#160;in IA32_VMX_CR4_FIXED1,&#160;then that bit&#160;of CR4 is&#160;fixed&#160;to&#160;0&#160;in VMX operation. It is always&#160;the&#160;case&#160;that,&#160;<br/>if&#160;bit&#160;X&#160;is 1 in IA32_VMX_CR4_FIXED0,&#160;then that&#160;bit&#160;is&#160;also 1 in IA32_VMX_CR4_FIXED1; if&#160;bit&#160;X&#160;is 0&#160;in&#160;<br/>IA32_VMX_CR4_FIXED1,&#160;then that bit&#160;is also 0&#160;in&#160;IA32_VMX_CR4_FIXED0.&#160;Thus, each bit in CR4 is&#160;either fixed&#160;to&#160;</p>
</div>
</body>
</html>
