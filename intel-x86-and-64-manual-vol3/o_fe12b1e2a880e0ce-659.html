<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 659</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page659-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce659.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;18-23</p>
<p style="position:absolute;top:47px;left:672px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:97px;left:69px;white-space:nowrap" class="ft02">18.5&#160;</p>
<p style="position:absolute;top:97px;left:148px;white-space:nowrap" class="ft02">PERFORMANCE MONITORING (45 NM AND 32 NM INTEL</p>
<p style="position:absolute;top:99px;left:666px;white-space:nowrap" class="ft01">®&#160;</p>
<p style="position:absolute;top:97px;left:684px;white-space:nowrap" class="ft02">ATOM</p>
<p style="position:absolute;top:99px;left:738px;white-space:nowrap" class="ft01">™</p>
<p style="position:absolute;top:97px;left:751px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:123px;left:147px;white-space:nowrap" class="ft02">PROCESSORS)</p>
<p style="position:absolute;top:159px;left:69px;white-space:nowrap" class="ft06">45&#160;nm&#160;and 32&#160;nm&#160;Intel Atom processors report architectural performance&#160;monitoring&#160;versionID = 3&#160;(supporting&#160;<br/>the aggregate&#160;capabilities of versionID&#160;1,&#160;2,&#160;and&#160;3; se<a href="o_fe12b1e2a880e0ce-644.html">e&#160;Section 18.2.3) and a host of non</a>-architectural monitoring&#160;<br/>capabilities.&#160;These&#160;45&#160;nm&#160;and 32 nm Intel Atom&#160;processors provide two general-purpose performance&#160;counters&#160;<br/>(IA32_PMC0,&#160;IA32_PMC1) and&#160;three&#160;fixed-function performance&#160;counters (IA32_FIXED_CTR0,&#160;<br/>IA32_FIXED_CTR1,&#160;IA32_FIXED_CTR2).&#160;<br/>Non-architectural&#160;performance monitoring in&#160;Intel Atom&#160;processor family&#160;uses&#160;the IA32_PERFEVTSELx&#160;MSR to&#160;<br/>configure a&#160;set of&#160;non-architecture performance monitoring events to&#160;be&#160;counted by&#160;the corresponding general-<br/>purpose&#160;performance counter.&#160;The&#160;list of&#160;non-architectural&#160;performance monitoring events is liste<a href="o_fe12b1e2a880e0ce-910.html">d in Table&#160;19-26</a>.<br/>Architectural&#160;and non-architectural performance&#160;monitoring&#160;events in 45 nm and 32 nm Intel&#160;Atom&#160;processors&#160;<br/>support thread qualification using&#160;bit&#160;21&#160;(AnyThread) of&#160;IA32_PERFEVTSELx&#160;MSR, i.e.&#160;if&#160;<br/>IA32_PERFEVTSELx.AnyThread&#160;=1,&#160;event counts include&#160;monitored&#160;conditions due&#160;to either logical processors in&#160;<br/>the&#160;same processor core.&#160;<br/>The bit fields&#160;within each IA32_PERFEVTSELx&#160;MSR are defined<a href="o_fe12b1e2a880e0ce-645.html">&#160;in&#160;Figure 18-6</a>&#160;<a href="o_fe12b1e2a880e0ce-639.html">and described in Section 18.2.1.1 and&#160;<br/></a><a href="o_fe12b1e2a880e0ce-644.html">Section 18.2.3.&#160;<br/></a>Valid&#160;event mask&#160;(Umask)&#160;bits are&#160;listed in&#160;<a href="o_fe12b1e2a880e0ce-757.html">Chapter 19.&#160;</a>The UMASK field may&#160;contain sub-fields that&#160;provide&#160;the&#160;<br/>same qualifying&#160;actions like those&#160;<a href="o_fe12b1e2a880e0ce-651.html">listed in Table&#160;18-2,&#160;Table&#160;18-3,</a><a href="o_fe12b1e2a880e0ce-652.html">&#160;Table&#160;18-4,&#160;and&#160;Table&#160;18-5.&#160;</a>One or&#160;more&#160;of&#160;<br/>these sub-fields may apply&#160;to specific events&#160;on&#160;an event-by-event basis.&#160;Details are&#160;listed&#160;<a href="o_fe12b1e2a880e0ce-910.html">in Table&#160;19-26</a>&#160;in&#160;<br/><a href="o_fe12b1e2a880e0ce-757.html">Chapter 19,&#160;“Performance-Monitoring&#160;Events.”&#160;</a>Precise&#160;Event&#160;Based Monitoring&#160;is supported using IA32_PMC0 (see&#160;<br/><a href="o_fe12b1e2a880e0ce-591.html">also Section 17.4.9,&#160;“BTS&#160;and&#160;DS&#160;Save Area”).</a></p>
<p style="position:absolute;top:541px;left:69px;white-space:nowrap" class="ft02">18.6&#160;</p>
<p style="position:absolute;top:541px;left:148px;white-space:nowrap" class="ft02">PERFORMANCE MONITORING FOR SILVERMONT&#160;MICROARCHITECTURE</p>
<p style="position:absolute;top:577px;left:69px;white-space:nowrap" class="ft06">Intel processors based on the Silvermont microarchitecture report architectural performance monitoring&#160;versionID&#160;<br/>= 3&#160;(s<a href="o_fe12b1e2a880e0ce-644.html">ee Section 18.2.3</a>)&#160;and a&#160;host of non-architectural&#160;monitoring capabilities.&#160;Intel processors based&#160;on&#160;the&#160;<br/>Silvermont&#160;microarchitecture provide two general-purpose performance&#160;counters (IA32_PMC0,&#160;IA32_PMC1) and&#160;<br/>three fixed-function performance&#160;counters&#160;(IA32_FIXED_CTR0,&#160;IA32_FIXED_CTR1,&#160;IA32_FIXED_CTR2).&#160;Intel&#160;<br/>Atom&#160;processors based&#160;on&#160;the&#160;Airmont microarchitecture&#160;support the same performance&#160;monitoring&#160;capabilities as&#160;<br/>those&#160;based on&#160;the Silvermont microarchitecture.<br/>Non-architectural&#160;performance monitoring in&#160;the Silvermont&#160;microarchitecture&#160;uses&#160;the IA32_PERFEVTSELx MSR&#160;<br/>to configure a set of&#160;non-architecture performance monitoring events to be counted&#160;by the&#160;corresponding general-<br/>purpose&#160;performance counter.&#160;The&#160;list of&#160;non-architectural&#160;performance monitoring events is liste<a href="o_fe12b1e2a880e0ce-905.html">d in Table&#160;19-25</a>.<br/>The bit&#160;fields&#160;(except&#160;bit 21) within each&#160;IA32_PERFEVTSELx MSR are&#160;defined&#160;in&#160;<a href="o_fe12b1e2a880e0ce-645.html">Figure&#160;18-6&#160;</a>and described&#160;in&#160;<br/><a href="o_fe12b1e2a880e0ce-639.html">Section 18.2.1.1&#160;</a><a href="o_fe12b1e2a880e0ce-644.html">and Section 18.2.3.</a>&#160;Architectural&#160;and non-architectural performance&#160;monitoring events in&#160;the&#160;<br/>Silvermont microarchitecture&#160;ignore&#160;the AnyThread&#160;qualification regardless&#160;of&#160;its setting in&#160;IA32_PERFEVTSELx&#160;<br/>MSR.&#160;</p>
<p style="position:absolute;top:841px;left:69px;white-space:nowrap" class="ft04">18.6.1&#160;</p>
<p style="position:absolute;top:841px;left:149px;white-space:nowrap" class="ft04">Enhancements of&#160;Performance Monitoring in the Processor Core</p>
<p style="position:absolute;top:871px;left:69px;white-space:nowrap" class="ft03">The&#160;notable&#160;enhancements&#160;in the&#160;monitoring&#160;of performance events in&#160;the processor core&#160;include:</p>
<p style="position:absolute;top:893px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:894px;left:95px;white-space:nowrap" class="ft03">The width of counter&#160;reported&#160;by&#160;CPUID.0AH:EAX[23:16]&#160;is&#160;40&#160;bits.&#160;</p>
<p style="position:absolute;top:916px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:916px;left:95px;white-space:nowrap" class="ft06">Off-core response counting&#160;facility.&#160;This facility in&#160;the processor core&#160;allows&#160;software&#160;to&#160;count&#160;certain&#160;<br/>transaction&#160;responses&#160;between&#160;the processor core&#160;to sub-systems&#160;outside&#160;the processor core&#160;(uncore).&#160;<br/>Counting off-core&#160;response requires additional event qualification&#160;configuration facility&#160;in&#160;conjunction with&#160;<br/>IA32_PERFEVTSELx.&#160;Two off-core&#160;response MSRs are provided&#160;to use&#160;in conjunction with specific event&#160;codes&#160;<br/>that must&#160;be&#160;specified&#160;with IA32_PERFEVTSELx.</p>
<p style="position:absolute;top:1004px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:1005px;left:95px;white-space:nowrap" class="ft06">Average&#160;request latency&#160;measurement.&#160;The off-core&#160;response&#160;counting facility&#160;can&#160;be&#160;combined&#160;to use&#160;two&#160;<br/>performance counters&#160;to&#160;count the&#160;occurrences and&#160;weighted&#160;cycles of transaction&#160;requests.</p>
</div>
</body>
</html>
