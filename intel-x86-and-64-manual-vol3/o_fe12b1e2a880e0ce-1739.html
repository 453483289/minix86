<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1739</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1739-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1739.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3C&#160;36-55</p>
<p style="position:absolute;top:47px;left:685px;white-space:nowrap" class="ft01">INTEL®&#160;PROCESSOR TRACE</p>
<p style="position:absolute;top:431px;left:69px;white-space:nowrap" class="ft02">36.4.2.18 &#160;&#160;PSBEND Packet</p>
<p style="position:absolute;top:124px;left:75px;white-space:nowrap" class="ft03">Dependencies</p>
<p style="position:absolute;top:124px;left:178px;white-space:nowrap" class="ft03">TriggerEn</p>
<p style="position:absolute;top:124px;left:259px;white-space:nowrap" class="ft03">Generation&#160;</p>
<p style="position:absolute;top:141px;left:259px;white-space:nowrap" class="ft03">Scenario</p>
<p style="position:absolute;top:124px;left:355px;white-space:nowrap" class="ft03">Periodic, based&#160;on the number of&#160;output&#160;bytes generated while tracing. PSB is sent&#160;</p>
<p style="position:absolute;top:141px;left:355px;white-space:nowrap" class="ft03">when IA32_RTIT_STATUS.PacketByteCnt=0,&#160;and each time it crosses the software&#160;</p>
<p style="position:absolute;top:157px;left:355px;white-space:nowrap" class="ft03">selected threshold&#160;after that.&#160;May be sent&#160;for&#160;other&#160;micro-architectural conditions&#160;</p>
<p style="position:absolute;top:173px;left:355px;white-space:nowrap" class="ft03">as well.</p>
<p style="position:absolute;top:198px;left:75px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:198px;left:178px;white-space:nowrap" class="ft03">PSB&#160;is a&#160;unique&#160;pattern&#160;in&#160;the&#160;packet&#160;output&#160;log,&#160;and hence&#160;serves&#160;as&#160;a sync point for&#160;the decoder.&#160;It is a pattern&#160;</p>
<p style="position:absolute;top:214px;left:178px;white-space:nowrap" class="ft03">that&#160;the&#160;decoder can search for in&#160;order to&#160;get aligned&#160;on packet&#160;boundaries. This&#160;packet&#160;is&#160;periodic, based on&#160;the&#160;</p>
<p style="position:absolute;top:231px;left:178px;white-space:nowrap" class="ft03">number&#160;of&#160;output bytes,&#160;as&#160;indicated&#160;by IA32_RTIT_STATUS.PacketByteCnt.&#160;The&#160;period&#160;is chosen&#160;by software, via&#160;</p>
<p style="position:absolute;top:247px;left:178px;white-space:nowrap" class="ft03">IA32_RTIT_CTL.PSBFreq&#160;(see<a href="o_fe12b1e2a880e0ce-1700.html">&#160;Section 36.2.7.2). No</a>te,&#160;however,&#160;that&#160;the PSB period&#160;is not&#160;precise,&#160;it simply&#160;reflects&#160;</p>
<p style="position:absolute;top:263px;left:178px;white-space:nowrap" class="ft03">the average number&#160;of&#160;output bytes that&#160;should pass&#160;between PSBs. The processor will make&#160;a best&#160;effort to&#160;</p>
<p style="position:absolute;top:280px;left:178px;white-space:nowrap" class="ft03">insert PSB as quickly after&#160;the selected&#160;threshold is&#160;reached as&#160;possible.&#160;The processor also may send&#160;extra</p>
<p style="position:absolute;top:297px;left:178px;white-space:nowrap" class="ft03">PSB packets for some micro-architectural conditions.</p>
<p style="position:absolute;top:313px;left:178px;white-space:nowrap" class="ft03">PSB also serves&#160;as the leading packet&#160;for&#160;a&#160;set of&#160;“status-only” packets collectively known&#160;as PS<a href="o_fe12b1e2a880e0ce-1717.html">B+ (Section&#160;36.3.7</a>).&#160;</p>
<p style="position:absolute;top:337px;left:75px;white-space:nowrap" class="ft03">Application</p>
<p style="position:absolute;top:337px;left:178px;white-space:nowrap" class="ft03">When a&#160;PSB&#160;is seen, the decoder should interpret all&#160;following packets as “status only”,&#160;until either a PSBEND or&#160;</p>
<p style="position:absolute;top:353px;left:178px;white-space:nowrap" class="ft03">OVF packet&#160;is encountered. “Status only” implies that&#160;the&#160;binding&#160;and ordering&#160;rules&#160;to which these&#160;packets&#160;nor-</p>
<p style="position:absolute;top:370px;left:178px;white-space:nowrap" class="ft03">mally adhere&#160;are&#160;ignored,&#160;and&#160;the&#160;state&#160;they&#160;carry&#160;can&#160;instead&#160;be&#160;applied&#160;to&#160;the&#160;IP&#160;payload&#160;in&#160;the&#160;FUP&#160;packet&#160;that&#160;is&#160;</p>
<p style="position:absolute;top:387px;left:178px;white-space:nowrap" class="ft03">included.</p>
<p style="position:absolute;top:474px;left:321px;white-space:nowrap" class="ft04">Table&#160;36-37.&#160;PSBEND&#160;Packet&#160;Definition</p>
<p style="position:absolute;top:498px;left:75px;white-space:nowrap" class="ft03">Name</p>
<p style="position:absolute;top:498px;left:178px;white-space:nowrap" class="ft03">PSBEND&#160;Packet</p>
<p style="position:absolute;top:522px;left:75px;white-space:nowrap" class="ft03">Packet&#160;Format</p>
<p style="position:absolute;top:621px;left:75px;white-space:nowrap" class="ft03">Dependencies</p>
<p style="position:absolute;top:621px;left:178px;white-space:nowrap" class="ft03">TriggerEn</p>
<p style="position:absolute;top:621px;left:396px;white-space:nowrap" class="ft03">Generation&#160;</p>
<p style="position:absolute;top:637px;left:396px;white-space:nowrap" class="ft03">Scenario</p>
<p style="position:absolute;top:621px;left:492px;white-space:nowrap" class="ft03">Always&#160;follows&#160;PSB&#160;packet, separated&#160;by PSB+&#160;packets</p>
<p style="position:absolute;top:661px;left:75px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:661px;left:178px;white-space:nowrap" class="ft03">PSBEND is simply a terminator&#160;for&#160;the&#160;series&#160;of&#160;“status only” (PSB+)&#160;packets that&#160;follo<a href="o_fe12b1e2a880e0ce-1717.html">w PSB (Section 36.3.7).</a></p>
<p style="position:absolute;top:685px;left:75px;white-space:nowrap" class="ft03">Application</p>
<p style="position:absolute;top:685px;left:178px;white-space:nowrap" class="ft03">When a&#160;PSBEND&#160;packet&#160;is&#160;seen, the&#160;decoder should&#160;cease to&#160;treat packets as&#160;“status only”.</p>
<p style="position:absolute;top:100px;left:307px;white-space:nowrap" class="ft04">Table 36-36. PSB&#160;Packet&#160;Definition (Contd.)</p>
<p style="position:absolute;top:537px;left:259px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:537px;left:321px;white-space:nowrap" class="ft03">6</p>
<p style="position:absolute;top:537px;left:383px;white-space:nowrap" class="ft03">5</p>
<p style="position:absolute;top:537px;left:445px;white-space:nowrap" class="ft03">4</p>
<p style="position:absolute;top:537px;left:507px;white-space:nowrap" class="ft03">3</p>
<p style="position:absolute;top:537px;left:569px;white-space:nowrap" class="ft03">2</p>
<p style="position:absolute;top:537px;left:631px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:537px;left:693px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:196px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:259px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:321px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:383px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:445px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:507px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:569px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:558px;left:631px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:558px;left:693px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:196px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:579px;left:259px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:321px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:383px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:579px;left:445px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:507px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:569px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:579px;left:631px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:579px;left:693px;white-space:nowrap" class="ft03">1</p>
</div>
</body>
</html>
