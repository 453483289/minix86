<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 91</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page91-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce091.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3A&#160;3-3</p>
<p style="position:absolute;top:47px;left:589px;white-space:nowrap" class="ft01">PROTECTED-MODE MEMORY&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft05">programs to&#160;multi-segmented models&#160;that employ&#160;segmentation&#160;to create a&#160;robust operating&#160;environment in&#160;<br/>which&#160;multiple programs and tasks can&#160;be&#160;executed reliably.<br/>The&#160;following sections give&#160;several examples&#160;of how segmentation&#160;can be&#160;employed&#160;in a&#160;system&#160;to improve&#160;<br/>memory management&#160;performance and&#160;reliability.</p>
<p style="position:absolute;top:208px;left:69px;white-space:nowrap" class="ft03">3.2.1&#160;</p>
<p style="position:absolute;top:208px;left:149px;white-space:nowrap" class="ft03">Basic Flat Model</p>
<p style="position:absolute;top:238px;left:69px;white-space:nowrap" class="ft05">The&#160;simplest&#160;memory model for a&#160;system is&#160;the&#160;basic “flat model,”&#160;in which&#160;the operating system&#160;and application&#160;<br/>programs have&#160;access&#160;to a continuous, unsegmented address space.&#160;To&#160;the greatest&#160;extent&#160;possible, this&#160;basic flat&#160;<br/>model&#160;hides&#160;the&#160;segmentation&#160;mechanism of the&#160;architecture from both&#160;the system&#160;designer&#160;and&#160;the application&#160;<br/>programmer.<br/>To&#160;implement&#160;a basic flat memory model&#160;with&#160;the IA-32&#160;architecture, at&#160;least&#160;two segment descriptors&#160;must&#160;be&#160;<br/>created, one&#160;for&#160;referencing&#160;a code segment and&#160;one for&#160;referencing&#160;<a href="o_fe12b1e2a880e0ce-91.html">a data segment (see Figure&#160;3-2). Both of&#160;<br/></a>these&#160;segments,&#160;however,&#160;are&#160;mapped&#160;to&#160;the entire&#160;linear&#160;address space: that&#160;is,&#160;both segment descriptors&#160;have&#160;<br/>the&#160;same base&#160;address value of 0 and&#160;the same&#160;segment&#160;limit of 4 GBytes.&#160;By&#160;setting&#160;the segment limit&#160;to 4&#160;<br/>GBytes, the segmentation mechanism is kept from generating exceptions for out of limit memory references, even&#160;<br/>if no physical memory resides at&#160;a particular address. ROM&#160;(EPROM) is generally located at the&#160;top of the physical&#160;<br/>address space, because&#160;the&#160;processor begins execution at&#160;FFFF_FFF0H. RAM (DRAM) is placed&#160;at the bottom of the&#160;<br/>address space because&#160;the initial&#160;base&#160;address for the&#160;DS data segment after&#160;reset&#160;initialization&#160;is 0.</p>
<p style="position:absolute;top:478px;left:69px;white-space:nowrap" class="ft03">3.2.2&#160;</p>
<p style="position:absolute;top:478px;left:149px;white-space:nowrap" class="ft03">Protected Flat Model</p>
<p style="position:absolute;top:508px;left:69px;white-space:nowrap" class="ft05">The&#160;protected flat&#160;model is&#160;similar to&#160;the&#160;basic flat model,&#160;except the&#160;segment&#160;limits are&#160;set&#160;to include&#160;only&#160;the&#160;<br/>range&#160;of&#160;addresses for&#160;which physical memory&#160;actually&#160;exists (see<a href="o_fe12b1e2a880e0ce-92.html">&#160;Figure&#160;3-3).</a>&#160;A&#160;general-protection&#160;exception&#160;<br/>(#GP) is&#160;then generated on any&#160;attempt&#160;to access nonexistent memory.&#160;This model provides a&#160;minimum level&#160;of&#160;<br/>hardware&#160;protection&#160;against some&#160;kinds of program bugs.</p>
<p style="position:absolute;top:828px;left:377px;white-space:nowrap" class="ft04">Figure&#160;3-2.&#160;&#160;Flat&#160;Model</p>
<p style="position:absolute;top:615px;left:509px;white-space:nowrap" class="ft00">Linear&#160;Address Space</p>
<p style="position:absolute;top:628px;left:512px;white-space:nowrap" class="ft00">(or Physical Memory)</p>
<p style="position:absolute;top:733px;left:547px;white-space:nowrap" class="ft00">Data&#160;and</p>
<p style="position:absolute;top:647px;left:614px;white-space:nowrap" class="ft00">FFFFFFFFH</p>
<p style="position:absolute;top:642px;left:246px;white-space:nowrap" class="ft00">Segment</p>
<p style="position:absolute;top:729px;left:438px;white-space:nowrap" class="ft00">Limit</p>
<p style="position:absolute;top:729px;left:369px;white-space:nowrap" class="ft00">Access</p>
<p style="position:absolute;top:746px;left:381px;white-space:nowrap" class="ft00">Base&#160;Address</p>
<p style="position:absolute;top:654px;left:245px;white-space:nowrap" class="ft00">Registers</p>
<p style="position:absolute;top:674px;left:262px;white-space:nowrap" class="ft00">CS</p>
<p style="position:absolute;top:699px;left:262px;white-space:nowrap" class="ft00">SS</p>
<p style="position:absolute;top:724px;left:262px;white-space:nowrap" class="ft00">DS</p>
<p style="position:absolute;top:749px;left:262px;white-space:nowrap" class="ft00">ES</p>
<p style="position:absolute;top:775px;left:262px;white-space:nowrap" class="ft00">FS</p>
<p style="position:absolute;top:800px;left:262px;white-space:nowrap" class="ft00">GS</p>
<p style="position:absolute;top:652px;left:558px;white-space:nowrap" class="ft00">Code</p>
<p style="position:absolute;top:747px;left:614px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:676px;left:355px;white-space:nowrap" class="ft00">Code-&#160;and Data-Segment</p>
<p style="position:absolute;top:687px;left:389px;white-space:nowrap" class="ft00">Descriptors</p>
<p style="position:absolute;top:744px;left:556px;white-space:nowrap" class="ft00">Stack</p>
<p style="position:absolute;top:693px;left:540px;white-space:nowrap" class="ft00">Not Present</p>
</div>
</body>
</html>
