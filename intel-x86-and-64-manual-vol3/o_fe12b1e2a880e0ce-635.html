<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 635</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page635-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce635.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;17-61</p>
<p style="position:absolute;top:47px;left:425px;white-space:nowrap" class="ft01">DEBUG, BRANCH&#160;PROFILE, TSC, AND RESOURCE MONITORING FEATURES</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">17.17.5.4 &#160;&#160;Associating&#160;Threads with CAT/CDP Classes&#160;of&#160;Service&#160;</p>
<p style="position:absolute;top:127px;left:69px;white-space:nowrap" class="ft05">Threads&#160;are associated with&#160;Classes&#160;of&#160;Service (CLOS)&#160;via the&#160;per-logical-processor IA32_PQR_ASSOC MSR.&#160;The&#160;<br/>same COS concept applies to both&#160;CAT and CDP (for instance, COS[5]&#160;means the&#160;same thing whether CAT or CDP&#160;<br/>is&#160;in use, and&#160;the&#160;COS&#160;has associated resource usage constraint&#160;attributes&#160;including cache capacity&#160;masks).&#160;The&#160;<br/>mapping of&#160;COS&#160;to mask MSRs&#160;does&#160;change when CDP&#160;is enabled, according to&#160;the&#160;following guidelines:</p>
<p style="position:absolute;top:199px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:199px;left:95px;white-space:nowrap" class="ft06">In CAT-only&#160;Mode&#160;-&#160;one&#160;set&#160;of bitmasks in&#160;one&#160;mask MSR control&#160;both code&#160;and&#160;data.<br/>—&#160;Each&#160;COS number&#160;map 1:1 with a&#160;capacity&#160;mask&#160;on&#160;the applicable resource (e.g.,&#160;L3 cache).</p>
<p style="position:absolute;top:245px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:246px;left:95px;white-space:nowrap" class="ft07">When&#160;CDP is&#160;enabled,&#160;<br/>—&#160;Two mask&#160;sets&#160;exist for each COS number,&#160;one&#160;for&#160;code, one&#160;for&#160;data.&#160;<br/>—&#160;Masks for code/data&#160;are&#160;interleaved&#160;in the&#160;MSR address&#160;space&#160;<a href="o_fe12b1e2a880e0ce-633.html">(see Table&#160;17-20</a>).</p>
</div>
</body>
</html>
