<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 478</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page478-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce478.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">14-12&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">POWER AND THERMAL&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft07"><b>EN_Excursion_Minimum&#160;(bit 1, RW)</b>&#160;— When&#160;set (1),&#160;an HWP Interrupt will be generated whenever&#160;the&#160;<br/>HWP hardware is unable to meet the IA32_HWP_REQUEST.Minimum_Performance&#160;setting.&#160;The&#160;default value&#160;is&#160;<br/>0 (Interrupt generation is&#160;disabled).&#160;</p>
<p style="position:absolute;top:155px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:156px;left:93px;white-space:nowrap" class="ft04">Bits 63:2,&#160;and bit 1 are&#160;reserved&#160;and must be zero.</p>
<p style="position:absolute;top:206px;left:68px;white-space:nowrap" class="ft05">14.4.7&#160;</p>
<p style="position:absolute;top:206px;left:148px;white-space:nowrap" class="ft05">Recommendations for OS use of&#160;HWP Controls</p>
<p style="position:absolute;top:250px;left:68px;white-space:nowrap" class="ft06">Common Cases of&#160;Using&#160;HWP</p>
<p style="position:absolute;top:276px;left:68px;white-space:nowrap" class="ft07">The default HWP control field&#160;values are expected&#160;to&#160;be&#160;suitable for&#160;many applications. The OS can enable&#160;autono-<br/>mous&#160;HWP for these common&#160;cases&#160;by</p>
<p style="position:absolute;top:314px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:315px;left:93px;white-space:nowrap" class="ft07">Setting&#160;IA32_HWP_REQUEST.Desired&#160;Performance&#160;= 0&#160;(hardware&#160;autonomous selection determines the&#160;<br/>performance target).&#160;Set IA32_HWP_REQUEST.Activity Window = 0&#160;(enable HW dynamic selection of window&#160;<br/>size).</p>
<p style="position:absolute;top:372px;left:68px;white-space:nowrap" class="ft04">To&#160;maximize&#160;HWP benefit for the&#160;common&#160;cases,&#160;the OS should&#160;set&#160;</p>
<p style="position:absolute;top:394px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:394px;left:93px;white-space:nowrap" class="ft04">IA32_HWP_REQUEST.Minimum_Performance =&#160;IA32_HWP_CAPABILITIES.Lowest_Performance and&#160;</p>
<p style="position:absolute;top:416px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:417px;left:93px;white-space:nowrap" class="ft04">IA32_HWP_REQUEST.Maximum_Performance = IA32_HWP_CAPABILITIES.Highest_Performance.&#160;</p>
<p style="position:absolute;top:441px;left:68px;white-space:nowrap" class="ft07">Setting&#160;IA32_HWP_REQUEST.Minimum_Performance = IA32_HWP_REQUEST.Maximum_Performance is&#160;function-<br/>ally equivalent&#160;to using&#160;of&#160;the IA32_PERF_CTL interface and&#160;is therefore not recommended&#160;(bypassing HWP).</p>
<p style="position:absolute;top:494px;left:68px;white-space:nowrap" class="ft06">Calibrating HWP&#160;for&#160;Application-Specific HWP Optimization</p>
<p style="position:absolute;top:520px;left:68px;white-space:nowrap" class="ft07">In&#160;some applications, the OS may have&#160;Quality&#160;of Service&#160;requirements&#160;that may not&#160;be met by the default values.&#160;<br/>The OS&#160;can&#160;characterize HWP&#160;by:&#160;</p>
<p style="position:absolute;top:559px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:559px;left:93px;white-space:nowrap" class="ft07">keeping IA32_HWP_REQUEST.Minimum_Performance&#160;= IA32_HWP_REQUEST.Maximum_Performance to&#160;<br/>prevent non-linearity in&#160;the characterization&#160;process,</p>
<p style="position:absolute;top:598px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:598px;left:93px;white-space:nowrap" class="ft07">utilizing the&#160;range&#160;values&#160;enumerated&#160;from&#160;the IA32_HWP_CAPABILITIES MSR&#160;to program&#160;<br/>IA32_HWP_REQUEST&#160;while&#160;executing workloads of interest&#160;and observing the&#160;power and&#160;performance result.</p>
<p style="position:absolute;top:639px;left:68px;white-space:nowrap" class="ft07">The&#160;power and&#160;performance result&#160;of characterization&#160;is also&#160;influenced&#160;by the&#160;IA32_HWP_REQUEST.Energy&#160;<br/>Performance&#160;Preference&#160;field,&#160;which must also&#160;be&#160;characterized.&#160;<br/>Characterization&#160;can be used to&#160;set IA32_HWP_REQUEST.Minimum_Performance&#160;to achieve the&#160;required&#160;QOS&#160;in&#160;<br/>terms of performance.&#160;If&#160;IA32_HWP_REQUEST.Minimum_Performance&#160;is&#160;set higher&#160;than&#160;<br/>IA32_HWP_CAPABILITIES.Guaranteed Performance then&#160;notification of excursions&#160;to Minimum Performance may&#160;<br/>be continuous.<br/>If&#160;autonomous selection does not deliver the&#160;required&#160;workload performance,&#160;the&#160;OS&#160;should assess the&#160;current&#160;<br/>delivered effective frequency&#160;and for the duration&#160;of&#160;the specific performance&#160;requirement set&#160;<br/>IA32_HWP_REQUEST.Desired_Performance&#160;≠&#160;0&#160;and&#160;adjust IA32_HWP_REQUEST.Energy_Performance_Preference&#160;<br/>as necessary to achieve&#160;the required&#160;workload&#160;performance.&#160;The MSR_PPERF.PCNT value can&#160;be&#160;used&#160;to better&#160;<br/>comprehend the&#160;potential&#160;performance result from&#160;adjustments to IA32_HWP_REQUEST.Desired_Performance.&#160;<br/>The OS&#160;should set IA32_HWP_REQUEST.Desired_Performance = 0 to&#160;re-enable autonomous&#160;selection.&#160;</p>
<p style="position:absolute;top:872px;left:68px;white-space:nowrap" class="ft06">Tuning&#160;for&#160;Maximum Performance or Lowest&#160;Power Consumption</p>
<p style="position:absolute;top:898px;left:68px;white-space:nowrap" class="ft07">Maximum&#160;performance&#160;will be delivered&#160;by&#160;setting IA32_HWP_REQUEST.Minimum_Performance&#160;=&#160;<br/>IA32_HWP_REQUEST.Maximum_Performance&#160;= IA32_HWP_CAPABILITIES.Highest_Performance and setting&#160;<br/>IA32_HWP_REQUEST.Energy_Performance_Preference = 0&#160;(performance preference).<br/>Lowest&#160;power will be&#160;achieved&#160;by setting&#160;IA32_HWP_REQUEST.Minimum_Performance =&#160;<br/>IA32_HWP_REQUEST.Maximum_Performance&#160;= IA32_HWP_CAPABILITIES.Lowest_Performance&#160;and&#160;setting&#160;<br/>IA32_HWP_REQUEST.Energy_Performance_Preference = 0FFH&#160;(energy efficiency&#160;preference).</p>
</div>
</body>
</html>
