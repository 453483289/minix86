<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 373</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:18px;font-family:Times;color:#0860a8;}
	.ft08{font-size:12px;font-family:Times;color:#0860a8;}
	.ft09{font-size:8px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
	.ft013{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page373-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce373.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:760px;white-space:nowrap" class="ft00">Vol. 3A&#160;10-11</p>
<p style="position:absolute;top:47px;left:484px;white-space:nowrap" class="ft01">ADVANCED PROGRAMMABLE&#160;INTERRUPT CONTROLLER&#160;(APIC)</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft03">By asserting the&#160;processor’s INIT#&#160;pin.</p>
<p style="position:absolute;top:122px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:123px;left:95px;white-space:nowrap" class="ft03">By&#160;sending&#160;the processor an&#160;INIT IPI (an&#160;IPI&#160;with&#160;the&#160;delivery mode set&#160;to INIT).</p>
<p style="position:absolute;top:147px;left:69px;white-space:nowrap" class="ft010">Upon receiving an&#160;INIT through either of these&#160;mechanisms, the processor responds by beginning the initialization&#160;<br/>process of the processor core and the local APIC. The state&#160;of&#160;the local APIC following an INIT reset is the same as&#160;<br/>it&#160;is&#160;after&#160;a&#160;power-up&#160;or&#160;hardware&#160;reset,&#160;except&#160;that&#160;the&#160;APIC ID and arbitration ID registers&#160;are not affected. This&#160;<br/>state&#160;is also&#160;referred&#160;to at&#160;the “wait-for-SIPI” state&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-275.html">also: Section&#160;8.4.2, “MP Initialization Protocol&#160;Require-<br/>ments and&#160;Restrictions”).</a></p>
<p style="position:absolute;top:257px;left:69px;white-space:nowrap" class="ft04">10.4.7.4 &#160;&#160;Local APIC State After&#160;It Receives&#160;an INIT-Deassert&#160;IPI</p>
<p style="position:absolute;top:286px;left:69px;white-space:nowrap" class="ft010">Only&#160;the&#160;Pentium&#160;and P6&#160;family processors support the&#160;INIT-deassert&#160;IPI. An INIT-deassert IPI&#160;has no&#160;affect&#160;on the&#160;<br/>state of the&#160;APIC, other&#160;than&#160;to reload the&#160;arbitration&#160;ID&#160;register&#160;with&#160;the&#160;value in&#160;the APIC ID&#160;register.&#160;</p>
<p style="position:absolute;top:353px;left:69px;white-space:nowrap" class="ft05">10.4.8&#160;</p>
<p style="position:absolute;top:353px;left:150px;white-space:nowrap" class="ft05">Local APIC Version Register</p>
<p style="position:absolute;top:383px;left:69px;white-space:nowrap" class="ft012">The&#160;local APIC contains a&#160;hardwired version register.&#160;Software can&#160;use this&#160;register to&#160;identify the&#160;APIC&#160;version&#160;<br/><a href="o_fe12b1e2a880e0ce-373.html">(see Figure&#160;10-7). In&#160;</a>addition, the&#160;register specifies&#160;the&#160;number&#160;of entries in the&#160;local vector table&#160;(LVT) for a&#160;<br/>specific implementation.&#160;<br/>The fields in the&#160;local&#160;APIC version register&#160;are as&#160;follows:<br/><b>Version</b></p>
<p style="position:absolute;top:461px;left:207px;white-space:nowrap" class="ft03">The version numbers&#160;of&#160;the local&#160;APIC:</p>
<p style="position:absolute;top:485px;left:231px;white-space:nowrap" class="ft03">0XH</p>
<p style="position:absolute;top:485px;left:339px;white-space:nowrap" class="ft03">82489DX discrete&#160;APIC.</p>
<p style="position:absolute;top:509px;left:231px;white-space:nowrap" class="ft03">10H&#160;- 15H</p>
<p style="position:absolute;top:509px;left:339px;white-space:nowrap" class="ft03">Integrated APIC.</p>
<p style="position:absolute;top:533px;left:231px;white-space:nowrap" class="ft03">Other values&#160;reserved.</p>
<p style="position:absolute;top:554px;left:69px;white-space:nowrap" class="ft06"><b>Max LVT Entry</b></p>
<p style="position:absolute;top:554px;left:207px;white-space:nowrap" class="ft03">Shows the number&#160;of&#160;LVT&#160;entries minus&#160;1.&#160;For the Pentium&#160;4&#160;and Intel Xeon&#160;processors&#160;(which&#160;</p>
<p style="position:absolute;top:571px;left:207px;white-space:nowrap" class="ft010">have&#160;6 LVT&#160;entries), the value returned in&#160;the&#160;Max LVT field is 5; for the P6 family processors&#160;<br/>(which&#160;have&#160;5&#160;LVT entries), the value returned is&#160;4;&#160;for the Pentium&#160;processor&#160;(which&#160;has 4&#160;LVT&#160;<br/>entries),&#160;the&#160;value&#160;returned&#160;is&#160;3.&#160;For&#160;processors&#160;based&#160;on&#160;the&#160;Intel&#160;microarchitecture&#160;code&#160;<br/>name Nehalem (which&#160;has 7&#160;LVT entries) and&#160;onward, the&#160;value returned is&#160;6.</p>
<p style="position:absolute;top:641px;left:69px;white-space:nowrap" class="ft06"><b>Suppress EOI-broadcasts</b></p>
<p style="position:absolute;top:658px;left:207px;white-space:nowrap" class="ft010">Indicates&#160;whether&#160;software can&#160;inhibit the&#160;broadcast&#160;of EOI message by setting bit 12 of the&#160;<br/>Spurious&#160;Interrupt&#160;Vector Re<a href="o_fe12b1e2a880e0ce-392.html">gister; see Section 10.8.5 and</a><a href="o_fe12b1e2a880e0ce-394.html">&#160;Section&#160;10.9</a>.</p>
<p style="position:absolute;top:944px;left:69px;white-space:nowrap" class="ft07">10.5&#160;</p>
<p style="position:absolute;top:944px;left:148px;white-space:nowrap" class="ft07">HANDLING LOCAL INTERRUPTS</p>
<p style="position:absolute;top:980px;left:69px;white-space:nowrap" class="ft010">The following&#160;sections&#160;describe facilities that&#160;are provided&#160;in the&#160;local APIC for handling local&#160;interrupts.&#160;These&#160;<br/>include: the processor’s&#160;LINT0 and LINT1 pins, the APIC&#160;timer,&#160;the&#160;performance-monitoring counters, the thermal&#160;<br/>sensor,&#160;and the&#160;internal APIC error&#160;detector. Local interrupt handling facilities&#160;include:&#160;the LVT,&#160;the&#160;error status&#160;<br/>register&#160;(ESR),&#160;the&#160;divide&#160;configuration register&#160;(DCR), and the&#160;initial count and&#160;current count registers.</p>
<p style="position:absolute;top:888px;left:317px;white-space:nowrap" class="ft08">Figure&#160;10-7.&#160;&#160;Local APIC&#160;Version Register</p>
<p style="position:absolute;top:719px;left:250px;white-space:nowrap" class="ft09">31</p>
<p style="position:absolute;top:719px;left:649px;white-space:nowrap" class="ft09">0</p>
<p style="position:absolute;top:742px;left:263px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:719px;left:571px;white-space:nowrap" class="ft09">7</p>
<p style="position:absolute;top:719px;left:556px;white-space:nowrap" class="ft09">8</p>
<p style="position:absolute;top:719px;left:347px;white-space:nowrap" class="ft09">23</p>
<p style="position:absolute;top:719px;left:477px;white-space:nowrap" class="ft09">15</p>
<p style="position:absolute;top:781px;left:399px;white-space:nowrap" class="ft00">Support for EOI-broadcast&#160;suppression</p>
<p style="position:absolute;top:719px;left:462px;white-space:nowrap" class="ft09">16</p>
<p style="position:absolute;top:742px;left:494px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:719px;left:311px;white-space:nowrap" class="ft09">25&#160;24</p>
<p style="position:absolute;top:742px;left:591px;white-space:nowrap" class="ft00">Version</p>
<p style="position:absolute;top:742px;left:369px;white-space:nowrap" class="ft00">Max LVT Entry</p>
<p style="position:absolute;top:812px;left:247px;white-space:nowrap" class="ft013">Value after&#160;reset: 00BN 00VVH<br/>V = Version, N = # of&#160;LVT entries minus 1,</p>
<p style="position:absolute;top:854px;left:247px;white-space:nowrap" class="ft00">Address: FEE0 0030H</p>
<p style="position:absolute;top:839px;left:247px;white-space:nowrap" class="ft00">B = 1 if EOI-broadcast suppression supported</p>
</div>
</body>
</html>
