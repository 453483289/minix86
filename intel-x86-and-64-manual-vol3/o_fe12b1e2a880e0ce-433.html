<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 433</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page433-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce433.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:760px;white-space:nowrap" class="ft00">Vol. 3A&#160;11-21</p>
<p style="position:absolute;top:47px;left:686px;white-space:nowrap" class="ft01">MEMORY CACHE CONTROL</p>
<p style="position:absolute;top:909px;left:69px;white-space:nowrap" class="ft02">11.11.1&#160;&#160;MTRR Feature Identification</p>
<p style="position:absolute;top:940px;left:69px;white-space:nowrap" class="ft06">The&#160;availability of the&#160;MTRR&#160;feature&#160;is model-specific. Software&#160;can determine if&#160;MTRRs&#160;are&#160;supported on a&#160;<br/>processor by executing the&#160;CPUID&#160;instruction&#160;and reading the state of the&#160;MTRR flag&#160;(bit&#160;12)&#160;in the&#160;feature&#160;infor-<br/>mation&#160;register&#160;(EDX).<br/>If the&#160;MTRR&#160;flag&#160;is set (indicating that&#160;the processor&#160;implements MTRRs), additional information&#160;about&#160;MTRRs&#160;can&#160;<br/>be obtained&#160;from the&#160;64-bit IA32_MTRRCAP MSR&#160;(named&#160;MTRRcap MSR&#160;for&#160;the P6&#160;family processors).&#160;The&#160;<br/>IA32_MTRRCAP MSR&#160;is a&#160;read-only MSR that&#160;can be read with the&#160;RDMSR&#160;<a href="o_fe12b1e2a880e0ce-434.html">instruction. Figure&#160;11-5</a>&#160;shows the&#160;<br/>contents of the&#160;IA32_MTRRCAP&#160;MSR.&#160;The functions of&#160;the&#160;flags and field in this&#160;register&#160;are&#160;as follows:</p>
<p style="position:absolute;top:105px;left:252px;white-space:nowrap" class="ft04">Table 11-8. &#160;Memory Types&#160;That&#160;Can&#160;Be Encoded&#160;in&#160;MTRRs&#160;</p>
<p style="position:absolute;top:130px;left:174px;white-space:nowrap" class="ft03">Memory&#160;Type and&#160;Mnemonic</p>
<p style="position:absolute;top:130px;left:591px;white-space:nowrap" class="ft03">Encoding in&#160;MTRR</p>
<p style="position:absolute;top:154px;left:75px;white-space:nowrap" class="ft03">Uncacheable (UC)</p>
<p style="position:absolute;top:154px;left:633px;white-space:nowrap" class="ft03">00H</p>
<p style="position:absolute;top:178px;left:75px;white-space:nowrap" class="ft03">Write&#160;Combining&#160;(WC)</p>
<p style="position:absolute;top:178px;left:633px;white-space:nowrap" class="ft03">01H</p>
<p style="position:absolute;top:202px;left:75px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:202px;left:633px;white-space:nowrap" class="ft03">02H</p>
<p style="position:absolute;top:226px;left:75px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:226px;left:633px;white-space:nowrap" class="ft03">03H</p>
<p style="position:absolute;top:250px;left:75px;white-space:nowrap" class="ft03">Write-through (WT)</p>
<p style="position:absolute;top:250px;left:633px;white-space:nowrap" class="ft03">04H</p>
<p style="position:absolute;top:274px;left:75px;white-space:nowrap" class="ft03">Write-protected (WP)</p>
<p style="position:absolute;top:274px;left:633px;white-space:nowrap" class="ft03">05H</p>
<p style="position:absolute;top:298px;left:75px;white-space:nowrap" class="ft03">Writeback (WB)</p>
<p style="position:absolute;top:298px;left:633px;white-space:nowrap" class="ft03">06H</p>
<p style="position:absolute;top:322px;left:75px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:322px;left:599px;white-space:nowrap" class="ft03">7H&#160;through FFH</p>
<p style="position:absolute;top:346px;left:75px;white-space:nowrap" class="ft01">NOTE:</p>
<p style="position:absolute;top:367px;left:75px;white-space:nowrap" class="ft03">*&#160;Use of&#160;these encodings results in&#160;a general-protection exception (#GP).</p>
<p style="position:absolute;top:866px;left:278px;white-space:nowrap" class="ft04">Figure&#160;11-4. &#160;Mapping&#160;Physical&#160;Memory With MTRRs</p>
<p style="position:absolute;top:846px;left:574px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:449px;left:576px;white-space:nowrap" class="ft05">FFFFFFFFH</p>
<p style="position:absolute;top:790px;left:577px;white-space:nowrap" class="ft05">80000H</p>
<p style="position:absolute;top:775px;left:576px;white-space:nowrap" class="ft05">BFFFFH</p>
<p style="position:absolute;top:764px;left:576px;white-space:nowrap" class="ft05">C0000H</p>
<p style="position:absolute;top:747px;left:576px;white-space:nowrap" class="ft05">FFFFFH</p>
<p style="position:absolute;top:736px;left:576px;white-space:nowrap" class="ft05">100000H</p>
<p style="position:absolute;top:801px;left:576px;white-space:nowrap" class="ft05">7FFFFH</p>
<p style="position:absolute;top:822px;left:483px;white-space:nowrap" class="ft00">512 KBytes</p>
<p style="position:absolute;top:754px;left:484px;white-space:nowrap" class="ft00">256 KBytes</p>
<p style="position:absolute;top:781px;left:484px;white-space:nowrap" class="ft00">256 KBytes</p>
<p style="position:absolute;top:815px;left:323px;white-space:nowrap" class="ft00">8 fixed ranges</p>
<p style="position:absolute;top:775px;left:317px;white-space:nowrap" class="ft00">16&#160;fixed ranges</p>
<p style="position:absolute;top:748px;left:317px;white-space:nowrap" class="ft00">64 fixed&#160;ranges</p>
<p style="position:absolute;top:587px;left:316px;white-space:nowrap" class="ft00">Variable ranges</p>
<p style="position:absolute;top:827px;left:306px;white-space:nowrap" class="ft00">(64-KBytes each)</p>
<p style="position:absolute;top:787px;left:307px;white-space:nowrap" class="ft00">(16 KBytes&#160;each)</p>
<p style="position:absolute;top:760px;left:313px;white-space:nowrap" class="ft00">(4&#160;KBytes&#160;each)</p>
<p style="position:absolute;top:600px;left:306px;white-space:nowrap" class="ft00">(from 4 KBytes&#160;to</p>
<p style="position:absolute;top:614px;left:309px;white-space:nowrap" class="ft00">maximum size of</p>
<p style="position:absolute;top:471px;left:295px;white-space:nowrap" class="ft00">Address ranges not</p>
<p style="position:absolute;top:434px;left:468px;white-space:nowrap" class="ft00">Physical&#160;Memory</p>
<p style="position:absolute;top:485px;left:286px;white-space:nowrap" class="ft00">mapped by&#160;an MTRR</p>
<p style="position:absolute;top:498px;left:274px;white-space:nowrap" class="ft00">are&#160;set to&#160;a default type</p>
<p style="position:absolute;top:628px;left:305px;white-space:nowrap" class="ft00">physical&#160;memory)</p>
</div>
</body>
</html>
