<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 285</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page285-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce285.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 3A&#160;8-29</p>
<p style="position:absolute;top:47px;left:619px;white-space:nowrap" class="ft01">MULTIPLE-PROCESSOR&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft05">On Intel Atom family&#160;processors&#160;that support Intel&#160;Hyper-Threading Technology, the&#160;MCA&#160;facilities are&#160;shared&#160;<br/>between&#160;all logical processors on the&#160;same&#160;processor&#160;core.</p>
<p style="position:absolute;top:167px;left:69px;white-space:nowrap" class="ft03">8.7.6&#160;</p>
<p style="position:absolute;top:167px;left:149px;white-space:nowrap" class="ft03">Debug Registers and Extensions</p>
<p style="position:absolute;top:198px;left:69px;white-space:nowrap" class="ft05">Each&#160;logical processor has&#160;its own&#160;set&#160;of&#160;debug registers (DR0,&#160;DR1,&#160;DR2,&#160;DR3,&#160;DR6,&#160;DR7)&#160;and its&#160;own&#160;debug&#160;<br/>control&#160;MSR.&#160;These&#160;can be set to&#160;control&#160;and record debug&#160;information for each logical processor independently.&#160;<br/>Each&#160;logical processor also&#160;has its&#160;own&#160;last&#160;branch&#160;records&#160;(LBR) stack.</p>
<p style="position:absolute;top:281px;left:69px;white-space:nowrap" class="ft03">8.7.7&#160;</p>
<p style="position:absolute;top:281px;left:150px;white-space:nowrap" class="ft03">Performance Monitoring Counters</p>
<p style="position:absolute;top:312px;left:69px;white-space:nowrap" class="ft05">Performance&#160;counters and&#160;their companion control&#160;MSRs&#160;are shared between the&#160;logical&#160;processors&#160;within a&#160;<br/>processor&#160;core for processors&#160;based on Intel&#160;NetBurst microarchitecture. As a&#160;result,&#160;software must manage&#160;the&#160;<br/>use of these resources.&#160;The performance&#160;counter interrupts,&#160;events,&#160;and&#160;precise&#160;event monitoring&#160;support can be&#160;<br/>set up&#160;and allocated&#160;on&#160;a per thread (per logical processor) basis.&#160;<br/>See&#160;<a href="o_fe12b1e2a880e0ce-735.html">Section&#160;18.16, “Performance Monitoring&#160;and Intel Hyper-Threading Technology&#160;in Processors Based on Intel&#160;<br/>NetBurst</a></p>
<p style="position:absolute;top:399px;left:128px;white-space:nowrap" class="ft04"><a href="o_fe12b1e2a880e0ce-735.html">®</a></p>
<p style="position:absolute;top:402px;left:139px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-735.html">&#160;Microarchitecture,”&#160;</a>for&#160;a discussion of performance&#160;monitoring&#160;in the&#160;Intel Xeon processor MP.&#160;</p>
<p style="position:absolute;top:426px;left:69px;white-space:nowrap" class="ft05">In Intel Atom processor family that support Intel Hyper-Threading Technology,&#160;the performance counters (general-<br/>purpose&#160;and&#160;fixed-function counters)&#160;and&#160;their companion control MSRs&#160;are duplicated for each&#160;logical&#160;processor.</p>
<p style="position:absolute;top:493px;left:69px;white-space:nowrap" class="ft03">8.7.8 IA32_MISC_ENABLE&#160;</p>
<p style="position:absolute;top:493px;left:314px;white-space:nowrap" class="ft03">MSR</p>
<p style="position:absolute;top:523px;left:69px;white-space:nowrap" class="ft05">The&#160;IA32_MISC_ENABLE MSR (MSR&#160;address 1A0H) is&#160;generally shared between the&#160;logical&#160;processors&#160;in a&#160;<br/>processor&#160;core&#160;supporting&#160;Intel Hyper-Threading&#160;Technology.&#160;However,&#160;some bit fields within IA32_MISC_ENABLE&#160;<br/>MSR&#160;may be duplicated per logical&#160;processor.&#160;The partition of shared or&#160;duplicated bit fields within&#160;<br/>IA32_MISC_ENABLE is&#160;implementation dependent.&#160;Software&#160;should program duplicated&#160;fields carefully on&#160;all&#160;<br/>logical processors in&#160;the system&#160;to&#160;ensure consistent&#160;behavior.</p>
<p style="position:absolute;top:640px;left:69px;white-space:nowrap" class="ft03">8.7.9 Memory&#160;</p>
<p style="position:absolute;top:640px;left:219px;white-space:nowrap" class="ft03">Ordering</p>
<p style="position:absolute;top:670px;left:69px;white-space:nowrap" class="ft05">The logical processors in an&#160;Intel 64 or&#160;IA-32&#160;processor supporting&#160;Intel&#160;Hyper-Threading Technology obey&#160;the&#160;<br/>same rules&#160;for memory&#160;ordering&#160;as Intel 64 or IA-32 processors&#160;without&#160;Intel HT&#160;Tech<a href="o_fe12b1e2a880e0ce-261.html">nology (see Section 8.2,&#160;<br/>“Memory&#160;Ordering”). Each logical proce</a>ssor uses&#160;a processor-ordered&#160;memory&#160;model that&#160;can be&#160;further defined&#160;<br/>as “write-ordered with store buffer forwarding.”&#160;All&#160;mechanisms for strengthening or&#160;weakening&#160;the memory-<br/>ordering&#160;model&#160;to handle&#160;special programming situations apply to&#160;each logical processor.</p>
<p style="position:absolute;top:787px;left:69px;white-space:nowrap" class="ft03">8.7.10 Serializing&#160;</p>
<p style="position:absolute;top:787px;left:237px;white-space:nowrap" class="ft03">Instructions</p>
<p style="position:absolute;top:817px;left:69px;white-space:nowrap" class="ft05">As a general rule, when&#160;a logical processor in a processor supporting Intel Hyper-Threading Technology&#160;executes a&#160;<br/>serializing&#160;instruction, only that logical processor is&#160;affected by the&#160;operation.&#160;An exception to&#160;this&#160;rule is&#160;the&#160;<br/>execution of the&#160;WBINVD, INVD,&#160;and WRMSR&#160;instructions;&#160;and&#160;the MOV&#160;CR&#160;instruction&#160;when the&#160;state&#160;of the&#160;CD&#160;<br/>flag&#160;in control register&#160;CR0 is&#160;modified. Here,&#160;both logical processors are&#160;serialized.</p>
<p style="position:absolute;top:917px;left:69px;white-space:nowrap" class="ft03">8.7.11 Microcode&#160;</p>
<p style="position:absolute;top:917px;left:235px;white-space:nowrap" class="ft03">Update&#160;</p>
<p style="position:absolute;top:917px;left:298px;white-space:nowrap" class="ft03">Resources</p>
<p style="position:absolute;top:948px;left:69px;white-space:nowrap" class="ft05">In an Intel processor supporting Intel&#160;Hyper-Threading Technology,&#160;the&#160;microcode&#160;update&#160;facilities&#160;are&#160;shared&#160;<br/>between&#160;the logical processors; either&#160;logical processor can initiate&#160;an update. Each logical processor has its own&#160;<br/>BIOS&#160;signature&#160;MSR (IA32_BIOS_SIGN_ID&#160;at&#160;MSR&#160;address 8BH).&#160;When a&#160;logical processor performs&#160;an update for&#160;<br/>the physical processor,&#160;the&#160;IA32_BIOS_SIGN_ID&#160;MSRs for resident&#160;logical processors are&#160;updated&#160;with&#160;identical&#160;<br/>information.&#160;If logical&#160;processors initiate&#160;an update&#160;simultaneously, the&#160;processor&#160;core provides the necessary&#160;<br/>synchronization needed to&#160;ensure that&#160;only one update&#160;is performed at&#160;a time.&#160;</p>
</div>
</body>
</html>
