<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 437</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:12px;font-family:Times;color:#0860a8;}
	.ft09{font-size:9px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft012{font-size:8px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page437-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce437.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:760px;white-space:nowrap" class="ft00">Vol. 3A&#160;11-25</p>
<p style="position:absolute;top:47px;left:686px;white-space:nowrap" class="ft01">MEMORY CACHE CONTROL</p>
<p style="position:absolute;top:538px;left:69px;white-space:nowrap" class="ft010">All&#160;other bits in the&#160;IA32_MTRR_PHYSBASE<i>n</i>&#160;and&#160;IA32_MTRR_PHYSMASK<i>n</i>&#160;registers&#160;are reserved; the&#160;processor&#160;<br/>generates&#160;a general-protection&#160;exception (#GP)&#160;if software attempts to&#160;write to them.<br/>Some mask&#160;values can&#160;result&#160;in&#160;ranges that are&#160;not&#160;continuous.&#160;In&#160;such ranges, the area&#160;not&#160;mapped by the mask&#160;<br/>value is&#160;set to&#160;the default memory&#160;type, unless&#160;some other MTRR&#160;specifies&#160;a type for&#160;that&#160;range.&#160;Intel does not&#160;<br/>encourage the&#160;use of “discontinuous” ranges.</p>
<p style="position:absolute;top:646px;left:433px;white-space:nowrap" class="ft04">NOTE</p>
<p style="position:absolute;top:671px;left:122px;white-space:nowrap" class="ft010">It&#160;is possible&#160;for&#160;software to&#160;parse&#160;the memory descriptions that&#160;BIOS provides by&#160;using the&#160;<br/>ACPI/INT15 e820&#160;interface&#160;mechanism. This&#160;information then&#160;can be used to&#160;determine&#160;how&#160;<br/>MTRRs are&#160;initialized (for example:&#160;allowing&#160;the&#160;BIOS&#160;to&#160;define&#160;valid memory ranges and&#160;the&#160;<br/>maximum memory range supported&#160;by the&#160;platform, including the&#160;processor).</p>
<p style="position:absolute;top:745px;left:69px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-440.html">e Section 11.11.4.1,&#160;“MTRR Precedences,” for&#160;</a>information on overlapping&#160;variable&#160;MTRR&#160;ranges.</p>
<p style="position:absolute;top:789px;left:69px;white-space:nowrap" class="ft04">11.11.2.4 &#160;&#160;System-Management&#160;Range&#160;Register&#160;Interface&#160;</p>
<p style="position:absolute;top:817px;left:69px;white-space:nowrap" class="ft010">If IA32_MTRRCAP[bit 11] is&#160;set,&#160;the&#160;processor&#160;supports&#160;the&#160;SMRR interface&#160;to restrict access&#160;to&#160;a&#160;specified&#160;<br/>memory&#160;address range&#160;used&#160;by system-management&#160;mode&#160;(SMM)&#160;software (see<a href="o_fe12b1e2a880e0ce-1259.html">&#160;Section&#160;34.4.2.1).</a>&#160;If&#160;the SMRR&#160;<br/>interface is&#160;supported, SMM software&#160;is&#160;strongly&#160;encouraged to&#160;use it&#160;to protect&#160;the SMI&#160;code&#160;and data stored by&#160;<br/>SMI&#160;handler in&#160;the SMRAM region.<br/>The&#160;system-management range registers&#160;consist of a&#160;pair&#160;of&#160;MSRs&#160;(see<a href="o_fe12b1e2a880e0ce-438.html">&#160;Figure&#160;11-8</a>).&#160;The IA32_SMRR_PHYSBASE&#160;<br/>MSR&#160;defines&#160;the base address&#160;for&#160;the SMRAM memory range&#160;and the&#160;memory type used to&#160;access&#160;it in&#160;SMM.&#160;The&#160;<br/>IA32_SMRR_PHYSMASK<b>&#160;</b>MSR contains a valid bit and a mask that determines the SMRAM&#160;address range protected&#160;<br/>by&#160;the SMRR&#160;interface.&#160;These&#160;MSRs&#160;may&#160;be written&#160;only in SMM; an attempt&#160;to write them outside of SMM causes&#160;<br/>a general-protection exception.</p>
<p style="position:absolute;top:954px;left:281px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:981px;left:69px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-438.html">Figure&#160;11-8 shows flags&#160;</a>and fields in&#160;these&#160;registers.&#160;The functions of these&#160;flags&#160;and fields&#160;are&#160;the&#160;following:</p>
<p style="position:absolute;top:492px;left:124px;white-space:nowrap" class="ft07">Figure&#160;11-7.&#160; IA32_MTRR_PHYSBASE<i>n</i>&#160;and&#160;IA32_MTRR_PHYSMASK<i>n</i>&#160;Variable-Range Register&#160;Pair</p>
<p style="position:absolute;top:1038px;left:69px;white-space:nowrap" class="ft02">1.&#160;For some&#160;processor models,&#160;these&#160;MSRs can&#160;be accessed&#160;by RDMSR and&#160;WRMSR only if&#160;the SMRR interface has been&#160;enabled using&#160;</p>
<p style="position:absolute;top:1054px;left:91px;white-space:nowrap" class="ft02">a model-specific bit&#160;in&#160;the&#160;IA32_FEATURE_CONTROL MSR.</p>
<p style="position:absolute;top:359px;left:273px;white-space:nowrap" class="ft00">V —&#160;Valid</p>
<p style="position:absolute;top:343px;left:273px;white-space:nowrap" class="ft00">PhysMask — Sets&#160;range mask</p>
<p style="position:absolute;top:266px;left:390px;white-space:nowrap" class="ft00">IA32_MTRR_PHYSMASK<i>n</i>&#160;Register</p>
<p style="position:absolute;top:285px;left:254px;white-space:nowrap" class="ft06">63</p>
<p style="position:absolute;top:285px;left:654px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:310px;left:308px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:285px;left:517px;white-space:nowrap" class="ft06">10</p>
<p style="position:absolute;top:285px;left:505px;white-space:nowrap" class="ft06">11</p>
<p style="position:absolute;top:285px;left:492px;white-space:nowrap" class="ft06">12</p>
<p style="position:absolute;top:308px;left:507px;white-space:nowrap" class="ft00">V</p>
<p style="position:absolute;top:310px;left:564px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:285px;left:393px;white-space:nowrap" class="ft06">MAXPHYADDR</p>
<p style="position:absolute;top:310px;left:428px;white-space:nowrap" class="ft00">PhysMask</p>
<p style="position:absolute;top:218px;left:244px;white-space:nowrap" class="ft00">Type —&#160;Memory type for range</p>
<p style="position:absolute;top:201px;left:244px;white-space:nowrap" class="ft00">PhysBase —&#160;Base&#160;address of range</p>
<p style="position:absolute;top:125px;left:390px;white-space:nowrap" class="ft00">IA32_MTRR_PHYSBASE<i>n</i>&#160;Register</p>
<p style="position:absolute;top:143px;left:254px;white-space:nowrap" class="ft06">63</p>
<p style="position:absolute;top:144px;left:654px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:169px;left:308px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:144px;left:505px;white-space:nowrap" class="ft06">11</p>
<p style="position:absolute;top:144px;left:492px;white-space:nowrap" class="ft06">12</p>
<p style="position:absolute;top:169px;left:585px;white-space:nowrap" class="ft00">Type</p>
<p style="position:absolute;top:144px;left:410px;white-space:nowrap" class="ft06">MAXPHYADDR</p>
<p style="position:absolute;top:169px;left:428px;white-space:nowrap" class="ft00">PhysBase</p>
<p style="position:absolute;top:144px;left:543px;white-space:nowrap" class="ft06">7</p>
<p style="position:absolute;top:144px;left:533px;white-space:nowrap" class="ft06">8</p>
<p style="position:absolute;top:386px;left:286px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:412px;left:256px;white-space:nowrap" class="ft012">MAXPHYADDR: The bit&#160;position indicated&#160;by MAXPHYADDR&#160;depends&#160;on the maximum<br/>physical address&#160;range supported&#160;by&#160;the processor.&#160;It&#160;is reported&#160;by&#160;CPUID&#160;leaf<br/>function 80000008H.&#160;If&#160;CPUID does not&#160;support leaf&#160;80000008H,&#160;the&#160;processor<br/>supports 36-bit physical address size,&#160;then bit&#160;PhysMask consists&#160;of bits&#160;35:12,&#160;and<br/>bits&#160;63:36&#160;are reserved.</p>
</div>
</body>
</html>
