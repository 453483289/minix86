<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 630</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page630-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce630.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">17-56&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">DEBUG,&#160;BRANCH&#160;PROFILE,&#160;TSC,&#160;AND RESOURCE&#160;MONITORING&#160;FEATURES</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H, ECX=ResID=1):EAX[4:0] reports the&#160;length&#160;of&#160;the capacity&#160;bitmask length using&#160;</p>
<p style="position:absolute;top:117px;left:119px;white-space:nowrap" class="ft06">minus-one notation,&#160;i.e. a&#160;value of 15 corresponds to&#160;the&#160;capability bitmask&#160;having&#160;length of 16&#160;bits.&#160;Bits&#160;<br/>31:5 of EAX&#160;are reserved.</p>
<p style="position:absolute;top:157px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H, ECX=1):EBX[31:0] reports a&#160;bit&#160;mask.&#160;Each&#160;set bit within the&#160;length of the CBM&#160;</p>
<p style="position:absolute;top:174px;left:119px;white-space:nowrap" class="ft06">indicates the&#160;corresponding&#160;unit of the L3 allocation&#160;may&#160;be used by other entities in the&#160;platform&#160;(e.g.&#160;an&#160;<br/>integrated graphics engine or hardware units outside the&#160;processor core and have&#160;direct access to L3). Each&#160;<br/>cleared bit within the&#160;length&#160;of&#160;the CBM indicates the corresponding&#160;allocation&#160;unit can be configured to&#160;<br/>implement&#160;a priority-based&#160;allocation scheme chosen&#160;by&#160;an&#160;OS/VMM&#160;without interference with other&#160;<br/>hardware agents in&#160;the system. Bits outside the&#160;length&#160;of&#160;the CBM are&#160;reserved.</p>
<p style="position:absolute;top:264px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H,&#160;ECX=1):ECX.CDP[bit 2]:&#160;If 1, indicates Code and&#160;Data&#160;Prioritization&#160;Technology is&#160;</p>
<p style="position:absolute;top:280px;left:119px;white-space:nowrap" class="ft02">supported (see<a href="o_fe12b1e2a880e0ce-632.html">&#160;Section 17.17.4).</a>&#160;Other&#160;bits&#160;of&#160;CPUID.(EAX=10H,&#160;ECX=1):ECX are&#160;reserved.</p>
<p style="position:absolute;top:304px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H, ECX=1):EDX[15:0] reports the&#160;maximum COS&#160;supported for the&#160;resource (COS&#160;are&#160;</p>
<p style="position:absolute;top:321px;left:119px;white-space:nowrap" class="ft06">zero-referenced,&#160;meaning&#160;a reported&#160;value of '15'&#160;would indicate 16 total&#160;supported COS). Bits 31:16&#160;are&#160;<br/>reserved.</p>
<p style="position:absolute;top:359px;left:68px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:360px;left:93px;white-space:nowrap" class="ft06">CAT capability for L2&#160;is enumerated&#160;by&#160;CPUID.(EAX=10H, ECX=2H), see<a href="o_fe12b1e2a880e0ce-630.html">&#160;Figure&#160;17-33. The</a>&#160;specific CAT&#160;<br/>capabilities reported&#160;by CPUID.(EAX=10H, ECX=2)&#160;are:</p>
<p style="position:absolute;top:756px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H, ECX=ResID=2):EAX[4:0] reports the&#160;length&#160;of&#160;the capacity&#160;bitmask length using&#160;</p>
<p style="position:absolute;top:772px;left:119px;white-space:nowrap" class="ft06">minus-one notation,&#160;i.e. a&#160;value of 15 corresponds to&#160;the&#160;capability bitmask&#160;having&#160;length of 16&#160;bits.&#160;Bits&#160;<br/>31:5 of EAX&#160;are reserved.</p>
<p style="position:absolute;top:813px;left:93px;white-space:nowrap" class="ft02">—&#160;CPUID.(EAX=10H, ECX=2):EBX[31:0] reports a&#160;bit&#160;mask.&#160;Each&#160;set bit within the&#160;length of the CBM&#160;</p>
<p style="position:absolute;top:829px;left:119px;white-space:nowrap" class="ft06">indicates&#160;the&#160;corresponding unit&#160;of&#160;the L2 allocation&#160;may be&#160;used&#160;by&#160;other&#160;entities&#160;in&#160;the&#160;platform.&#160;Each&#160;<br/>cleared bit within the&#160;length&#160;of&#160;the CBM indicates the corresponding&#160;allocation&#160;unit can be configured to&#160;<br/>implement&#160;a priority-based&#160;allocation scheme chosen&#160;by&#160;an&#160;OS/VMM&#160;without interference with other&#160;<br/>hardware agents in&#160;the system. Bits outside the&#160;length&#160;of&#160;the CBM are&#160;reserved.</p>
<p style="position:absolute;top:903px;left:93px;white-space:nowrap" class="ft07">—&#160;CPUID.(EAX=10H, ECX=2):ECX: reserved.<br/>—&#160;CPUID.(EAX=10H, ECX=2):EDX[15:0] reports the&#160;maximum COS&#160;supported for the&#160;resource (COS&#160;are&#160;</p>
<p style="position:absolute;top:943px;left:119px;white-space:nowrap" class="ft06">zero-referenced,&#160;meaning&#160;a reported&#160;value of '15'&#160;would indicate 16 total&#160;supported COS). Bits 31:16&#160;are&#160;<br/>reserved.</p>
<p style="position:absolute;top:984px;left:68px;white-space:nowrap" class="ft06">A note on&#160;migration of&#160;Classes of&#160;Service (COS):&#160;Software&#160;should minimize&#160;migrations of&#160;COS across logical&#160;<br/>processors&#160;(across threads or cores), as&#160;a reduction&#160;in&#160;the performance&#160;of&#160;the Cache Allocation Technology feature&#160;<br/>may result&#160;if&#160;COS&#160;are&#160;migrated frequently. This is aligned with&#160;the industry-standard practice&#160;of minimizing&#160;unnec-<br/>essary thread migrations&#160;across processor cores in order&#160;to avoid excessive time&#160;spent&#160;warming up&#160;processor&#160;</p>
<p style="position:absolute;top:701px;left:296px;white-space:nowrap" class="ft04">Figure&#160;17-33. &#160;L2&#160;Cache Allocation Technology&#160;</p>
<p style="position:absolute;top:634px;left:611px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:633px;left:393px;white-space:nowrap" class="ft05">16</p>
<p style="position:absolute;top:634px;left:213px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:448px;left:254px;white-space:nowrap" class="ft00">CPUID.(EAX=10H, ECX=ResID=2) Output:&#160;</p>
<p style="position:absolute;top:648px;left:165px;white-space:nowrap" class="ft00">EDX</p>
<p style="position:absolute;top:579px;left:166px;white-space:nowrap" class="ft00">ECX</p>
<p style="position:absolute;top:566px;left:612px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:566px;left:213px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:587px;left:287px;white-space:nowrap" class="ft05">Reserved</p>
<p style="position:absolute;top:633px;left:406px;white-space:nowrap" class="ft05">15</p>
<p style="position:absolute;top:527px;left:167px;white-space:nowrap" class="ft00">EBX</p>
<p style="position:absolute;top:515px;left:612px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:514px;left:214px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:536px;left:288px;white-space:nowrap" class="ft05">Bitmask of Shareable Resource with&#160;Other executing entities</p>
<p style="position:absolute;top:655px;left:291px;white-space:nowrap" class="ft05">Reserved</p>
<p style="position:absolute;top:654px;left:457px;white-space:nowrap" class="ft00">COS_MAX</p>
<p style="position:absolute;top:467px;left:612px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:466px;left:515px;white-space:nowrap" class="ft05">5</p>
<p style="position:absolute;top:467px;left:214px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:481px;left:165px;white-space:nowrap" class="ft00">EAX</p>
<p style="position:absolute;top:466px;left:528px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:487px;left:343px;white-space:nowrap" class="ft05">Reserved</p>
<p style="position:absolute;top:488px;left:544px;white-space:nowrap" class="ft00">CBM_LEN</p>
</div>
</body>
</html>
