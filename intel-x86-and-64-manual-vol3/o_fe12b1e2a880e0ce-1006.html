<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1006</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1006-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1006.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">22-2&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">ARCHITECTURE&#160;COMPATIBILITY</p>
<p style="position:absolute;top:97px;left:68px;white-space:nowrap" class="ft02">22.2 RESERVED&#160;</p>
<p style="position:absolute;top:97px;left:252px;white-space:nowrap" class="ft02">BITS</p>
<p style="position:absolute;top:133px;left:68px;white-space:nowrap" class="ft06">Throughout this manual,&#160;certain&#160;bits are marked as&#160;reserved in&#160;many&#160;register&#160;and&#160;memory layout&#160;descriptions.&#160;<br/>When bits are&#160;marked as undefined&#160;or reserved, it is essential for compatibility with&#160;future processors that software&#160;<br/>treat these bits as&#160;having&#160;a future, though&#160;unknown&#160;effect. Software&#160;should&#160;follow these guidelines&#160;in dealing&#160;with&#160;<br/>reserved bits:</p>
<p style="position:absolute;top:205px;left:68px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:205px;left:93px;white-space:nowrap" class="ft06">Do not depend&#160;on the&#160;states&#160;of any&#160;reserved&#160;bits when testing the&#160;values&#160;of registers&#160;or memory locations that&#160;<br/>contain such&#160;bits.&#160;Mask out&#160;the reserved bits before testing.</p>
<p style="position:absolute;top:244px;left:68px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:244px;left:93px;white-space:nowrap" class="ft03">Do&#160;not depend&#160;on the&#160;states&#160;of&#160;any reserved&#160;bits&#160;when storing&#160;them to memory or&#160;to&#160;a register.</p>
<p style="position:absolute;top:266px;left:68px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:267px;left:93px;white-space:nowrap" class="ft03">Do not depend on the&#160;ability&#160;to retain&#160;information written into&#160;any reserved bits.</p>
<p style="position:absolute;top:289px;left:68px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:289px;left:93px;white-space:nowrap" class="ft06">When loading a register, always load the reserved bits with&#160;the values indicated in the documentation, if any,&#160;or&#160;<br/>reload&#160;them&#160;with values&#160;previously read&#160;from&#160;the same&#160;register.</p>
<p style="position:absolute;top:330px;left:68px;white-space:nowrap" class="ft06">Software written&#160;for&#160;existing IA-32 processor that handles&#160;reserved bits correctly will&#160;port to&#160;future&#160;IA-32&#160;proces-<br/>sors&#160;without generating protection&#160;exceptions.</p>
<p style="position:absolute;top:402px;left:68px;white-space:nowrap" class="ft02">22.3&#160;</p>
<p style="position:absolute;top:402px;left:147px;white-space:nowrap" class="ft02">ENABLING NEW FUNCTIONS AND MODES</p>
<p style="position:absolute;top:438px;left:68px;white-space:nowrap" class="ft06">Most of&#160;the new&#160;control functions defined for&#160;the P6&#160;family&#160;and&#160;Pentium&#160;processors are enabled&#160;by new mode flags&#160;<br/>in&#160;the control registers&#160;(primarily&#160;register&#160;CR4). This register is&#160;undefined for IA-32 processors earlier than&#160;the&#160;<br/>Pentium&#160;processor.&#160;Attempting&#160;to access this&#160;register&#160;with an Intel486&#160;or earlier IA-32&#160;processor results&#160;in an&#160;<br/>invalid-opcode&#160;exception (#UD).&#160;Consequently, programs that execute correctly&#160;on&#160;the&#160;Intel486 or earlier IA-32&#160;<br/>processor&#160;cannot&#160;erroneously enable these functions.&#160;Attempting&#160;to&#160;set&#160;a reserved bit&#160;in register&#160;CR4 to a&#160;value&#160;<br/>other than its original value results in a general-protection exception (#GP). So,&#160;programs&#160;that&#160;execute on the P6&#160;<br/>family&#160;and Pentium processors cannot erroneously enable&#160;functions&#160;that may&#160;be implemented in&#160;future&#160;IA-32&#160;<br/>processors.&#160;<br/>The&#160;P6&#160;family and Pentium processors do&#160;not&#160;check for attempts to&#160;set reserved&#160;bits in&#160;model-specific&#160;registers;&#160;<br/>however these bits may be checked on&#160;more recent processors.&#160;It is the obligation of the software writer to enforce&#160;<br/>this discipline. These reserved bits may&#160;be&#160;used&#160;in future Intel&#160;processors.</p>
<p style="position:absolute;top:666px;left:68px;white-space:nowrap" class="ft02">22.4&#160;</p>
<p style="position:absolute;top:666px;left:147px;white-space:nowrap" class="ft02">DETECTING THE PRESENCE&#160;OF&#160;NEW FEATURES THROUGH SOFTWARE</p>
<p style="position:absolute;top:702px;left:68px;white-space:nowrap" class="ft07">Software&#160;can check for the&#160;presence&#160;of&#160;new&#160;architectural features&#160;and extensions&#160;in either&#160;of two ways:<br/>1.&#160;Test for the presence of the feature or extension. Software can test for the&#160;presence of new flags in the EFLAGS&#160;</p>
<p style="position:absolute;top:742px;left:93px;white-space:nowrap" class="ft06">register and control registers. If&#160;these&#160;flags&#160;are reserved&#160;(meaning not&#160;present in the processor executing the&#160;<br/>test), an exception is&#160;generated. Likewise,&#160;software&#160;can attempt&#160;to execute&#160;a new&#160;instruction, which results&#160;in&#160;<br/>an invalid-opcode exception&#160;(#UD)&#160;being generated if it&#160;is not&#160;supported.</p>
<p style="position:absolute;top:799px;left:68px;white-space:nowrap" class="ft03">2.&#160;Execute the CPUID&#160;instruction.&#160;The CPUID&#160;instruction (added to&#160;the&#160;IA-32&#160;in&#160;the Pentium&#160;processor)&#160;indicates&#160;</p>
<p style="position:absolute;top:816px;left:93px;white-space:nowrap" class="ft03">the&#160;presence&#160;of new features&#160;directly.</p>
<p style="position:absolute;top:840px;left:68px;white-space:nowrap" class="ft06">Se<a href="˛ˇ">e Chapter&#160;19, ‚ÄúProcessor Identification&#160;and&#160;Feature Determination,‚Äù&#160;</a>in<a href="˛ˇ">&#160;the&#160;<i>Intel¬Æ 64 and&#160;IA-32 Architectures&#160;<br/>Software Developer‚Äôs Manual, Volume&#160;1</i>, for detailed information&#160;</a>on&#160;detecting new&#160;processor&#160;features&#160;and&#160;exten-<br/>sions.</p>
<p style="position:absolute;top:928px;left:68px;white-space:nowrap" class="ft02">22.5 INTEL&#160;</p>
<p style="position:absolute;top:928px;left:206px;white-space:nowrap" class="ft02">MMX&#160;</p>
<p style="position:absolute;top:928px;left:257px;white-space:nowrap" class="ft02">TECHNOLOGY</p>
<p style="position:absolute;top:964px;left:68px;white-space:nowrap" class="ft06">The&#160;Pentium&#160;processor&#160;with MMX technology introduced the&#160;MMX technology&#160;and a&#160;set of&#160;MMX instructions to&#160;the&#160;<br/>IA-32.&#160;The&#160;MMX instructions are descr<a href="˛ˇ">ibed in Chapter&#160;9,&#160;‚ÄúProgramming&#160;with&#160;Intel¬Æ&#160;MMX‚Ñ¢ Technology,‚Äù&#160;</a>in the&#160;<br/><a href="˛ˇ"><i>Intel¬Æ 64&#160;and&#160;IA-32 Architectures Software&#160;Developer‚Äôs&#160;Manual, Volume&#160;1</i></a>, and&#160;in&#160;the&#160;<a href="˛ˇ"><i>Intel¬Æ 64 and&#160;IA-32 Archi-<br/>tectures&#160;Software&#160;Developer‚Äôs Manual,&#160;Volumes&#160;2A,&#160;2B,&#160;2C&#160;&amp;&#160;2D</i></a>. The MMX&#160;technology and&#160;MMX instructions&#160;are&#160;<br/>also included in&#160;the Pentium II, Pentium&#160;III, Pentium 4, and Intel&#160;Xeon&#160;processors.</p>
</div>
</body>
</html>
