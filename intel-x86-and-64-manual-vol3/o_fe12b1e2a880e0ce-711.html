<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 711</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:14px;font-family:Times;color:#0860a8;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page711-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce711.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;18-75</p>
<p style="position:absolute;top:47px;left:672px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:567px;left:69px;white-space:nowrap" class="ft02">Only&#160;IA32_PMC0&#160;through IA32_PMC3 support PEBS.&#160;</p>
<p style="position:absolute;top:601px;left:428px;white-space:nowrap" class="ft03">NOTES</p>
<p style="position:absolute;top:627px;left:122px;white-space:nowrap" class="ft05">Precise events are only&#160;valid&#160;when&#160;the following fields&#160;of IA32_PERFEVTSELx are&#160;all zero:&#160;<br/>AnyThread,&#160;Edge, Invert, CMask.</p>
<p style="position:absolute;top:685px;left:122px;white-space:nowrap" class="ft05">In&#160;a PMU with&#160;PDIR&#160;capability,&#160;PEBS behavior&#160;is unpredictable if&#160;IA32_PERFEVTSELx&#160;or IA32_PMCx&#160;<br/>is changed for a&#160;PEBS-enabled&#160;counter&#160;while an&#160;event&#160;is being counted.&#160;To&#160;avoid this, changes&#160;to&#160;<br/>the programming or&#160;value&#160;of&#160;a PEBS-enabled counter should be&#160;performed&#160;when the counter is&#160;<br/>disabled.</p>
<p style="position:absolute;top:779px;left:69px;white-space:nowrap" class="ft03">18.13.1.1&#160;&#160;&#160;PEBS Data&#160;Format</p>
<p style="position:absolute;top:808px;left:69px;white-space:nowrap" class="ft05">The&#160;PEBS&#160;record&#160;format for the&#160;6th generation&#160;Intel&#160;Core processor is&#160;reporting with encoding 0011b&#160;in&#160;<br/>IA32_PERF_CAPABILITIES[11:8].&#160;The lay out&#160;is shown&#160;in<a href="o_fe12b1e2a880e0ce-712.html">&#160;Table&#160;18-55. The PEBS&#160;</a>record&#160;format, along&#160;with&#160;<br/>debug/store&#160;area storage&#160;format,&#160;does&#160;not change&#160;regardless&#160;of&#160;whether IA-32e&#160;mode&#160;is&#160;active&#160;or not.&#160;<br/>CPUID.01H:ECX.DTES64[bit 2]&#160;reports whether the&#160;processor's&#160;DS storage&#160;format support is mode-independent.&#160;<br/>When&#160;set, it&#160;uses 64-bit&#160;DS&#160;storage format.</p>
<p style="position:absolute;top:118px;left:321px;white-space:nowrap" class="ft04">Table 18-54. &#160;PEBS Facility&#160;Comparison</p>
<p style="position:absolute;top:159px;left:75px;white-space:nowrap" class="ft02">Box</p>
<p style="position:absolute;top:142px;left:253px;white-space:nowrap" class="ft02">Intel® microarchitecture code&#160;</p>
<p style="position:absolute;top:159px;left:253px;white-space:nowrap" class="ft02">name Skylake</p>
<p style="position:absolute;top:142px;left:440px;white-space:nowrap" class="ft02">Intel® microarchitecture&#160;code&#160;</p>
<p style="position:absolute;top:159px;left:440px;white-space:nowrap" class="ft02">name Haswell and&#160;Broadwell</p>
<p style="position:absolute;top:159px;left:640px;white-space:nowrap" class="ft02">Comment</p>
<p style="position:absolute;top:182px;left:75px;white-space:nowrap" class="ft02">Valid&#160;IA32_PMCx</p>
<p style="position:absolute;top:182px;left:253px;white-space:nowrap" class="ft02">PMC0-PMC3</p>
<p style="position:absolute;top:182px;left:440px;white-space:nowrap" class="ft02">PMC0-PMC3</p>
<p style="position:absolute;top:182px;left:640px;white-space:nowrap" class="ft02">No PEBS&#160;on&#160;PMC4-PMC7.</p>
<p style="position:absolute;top:207px;left:75px;white-space:nowrap" class="ft02">PEBS&#160;Buffer&#160;Programming</p>
<p style="position:absolute;top:207px;left:253px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-671.html">Section&#160;18.8.1.1</a></p>
<p style="position:absolute;top:207px;left:440px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-671.html">&#160;Section&#160;18.8.1.1</a></p>
<p style="position:absolute;top:207px;left:640px;white-space:nowrap" class="ft02">Unchanged</p>
<p style="position:absolute;top:231px;left:75px;white-space:nowrap" class="ft02">IA32_PEBS_ENABLE&#160;Layout</p>
<p style="position:absolute;top:231px;left:253px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-672.html">Figure&#160;18-21</a></p>
<p style="position:absolute;top:231px;left:440px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-672.html">&#160;Figure&#160;18-21</a></p>
<p style="position:absolute;top:254px;left:75px;white-space:nowrap" class="ft02">PEBS-EventingIP</p>
<p style="position:absolute;top:254px;left:253px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:254px;left:440px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:278px;left:75px;white-space:nowrap" class="ft02">PEBS&#160;record&#160;format&#160;encoding&#160;0011b</p>
<p style="position:absolute;top:278px;left:440px;white-space:nowrap" class="ft02">0010b</p>
<p style="position:absolute;top:303px;left:75px;white-space:nowrap" class="ft02">PEBS&#160;record&#160;layout</p>
<p style="position:absolute;top:303px;left:253px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-712.html">Table&#160;18-55;</a>&#160;enhanced&#160;fields&#160;</p>
<p style="position:absolute;top:319px;left:253px;white-space:nowrap" class="ft02">at&#160;offsets 98H-&#160;B8H; and&#160;TSC&#160;</p>
<p style="position:absolute;top:335px;left:253px;white-space:nowrap" class="ft02">record&#160;field&#160;at&#160;C0H.</p>
<p style="position:absolute;top:303px;left:440px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-702.html">Table&#160;18-44;</a>&#160;enhanced&#160;fields&#160;at&#160;</p>
<p style="position:absolute;top:319px;left:440px;white-space:nowrap" class="ft02">offsets 98H,&#160;A0H, A8H,&#160;B0H.</p>
<p style="position:absolute;top:359px;left:75px;white-space:nowrap" class="ft02">Multi-counter&#160;PEBS&#160;</p>
<p style="position:absolute;top:376px;left:75px;white-space:nowrap" class="ft02">resolution</p>
<p style="position:absolute;top:359px;left:253px;white-space:nowrap" class="ft02">PEBS&#160;record&#160;90H&#160;resolves&#160;the&#160;</p>
<p style="position:absolute;top:376px;left:253px;white-space:nowrap" class="ft02">eventing&#160;counter&#160;overflow.</p>
<p style="position:absolute;top:359px;left:440px;white-space:nowrap" class="ft02">PEBS&#160;record&#160;90H&#160;reflects&#160;</p>
<p style="position:absolute;top:376px;left:440px;white-space:nowrap" class="ft02">IA32_PERF_GLOBAL_STATUS.</p>
<p style="position:absolute;top:400px;left:75px;white-space:nowrap" class="ft02">Precise Events</p>
<p style="position:absolute;top:400px;left:253px;white-space:nowrap" class="ft02">See&#160;<a href="o_fe12b1e2a880e0ce-713.html">Table&#160;18-56.</a></p>
<p style="position:absolute;top:400px;left:440px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-691.html">&#160;Table&#160;18-32</a>.</p>
<p style="position:absolute;top:400px;left:640px;white-space:nowrap" class="ft02">IA32_PMC4-IA32_PMC7&#160;do&#160;not&#160;</p>
<p style="position:absolute;top:417px;left:640px;white-space:nowrap" class="ft02">support PEBS.</p>
<p style="position:absolute;top:440px;left:75px;white-space:nowrap" class="ft02">PEBS-PDIR</p>
<p style="position:absolute;top:440px;left:253px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:440px;left:440px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:440px;left:640px;white-space:nowrap" class="ft02">IA32_PMC1&#160;only.</p>
<p style="position:absolute;top:465px;left:75px;white-space:nowrap" class="ft02">PEBS-Load Latency</p>
<p style="position:absolute;top:465px;left:253px;white-space:nowrap" class="ft02">See&#160;<a href="o_fe12b1e2a880e0ce-691.html">Section&#160;18.9.4.2</a>.</p>
<p style="position:absolute;top:465px;left:440px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-691.html">e Section 18.9.4.2.</a></p>
<p style="position:absolute;top:489px;left:75px;white-space:nowrap" class="ft02">Data&#160;Address&#160;Profiling</p>
<p style="position:absolute;top:489px;left:253px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:489px;left:440px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:512px;left:75px;white-space:nowrap" class="ft02">FrontEnd&#160;event support</p>
<p style="position:absolute;top:512px;left:253px;white-space:nowrap" class="ft02">FrontEnd_Retried&#160;event and&#160;</p>
<p style="position:absolute;top:529px;left:253px;white-space:nowrap" class="ft02">MSR_PEBS_FRONTEND.</p>
<p style="position:absolute;top:512px;left:440px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:512px;left:640px;white-space:nowrap" class="ft02">IA32_PMC0-PMC3&#160;only.</p>
</div>
</body>
</html>
