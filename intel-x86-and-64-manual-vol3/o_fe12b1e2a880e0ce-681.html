<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 681</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
	.ft09{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft010{font-size:8px;line-height:12px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page681-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce681.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;18-45</p>
<p style="position:absolute;top:47px;left:672px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">18.8.2.2 &#160;&#160;Uncore&#160;Performance Event Configuration Facility</p>
<p style="position:absolute;top:127px;left:69px;white-space:nowrap" class="ft07">MSR_UNCORE_PerfEvtSel0 through MSR_UNCORE_PerfEvtSel7 are&#160;used&#160;to select performance event and&#160;<br/>configure the&#160;counting behavior of the respective&#160;uncore&#160;performance&#160;counter. Each uncore PerfEvtSel&#160;MSR is&#160;<br/>paired&#160;with an uncore&#160;performance counter.&#160;Each&#160;uncore&#160;counter&#160;must be locally configured using&#160;the corre-<br/>sponding MSR_UNCORE_PerfEvtSelx&#160;and counting&#160;must&#160;be&#160;enabled using&#160;the respective&#160;EN_PCx bit in&#160;<br/>MSR_UNCORE_PERF_GLOBAL_CTRL.<a href="o_fe12b1e2a880e0ce-681.html">&#160;Figure&#160;18-28 sh</a>ows the&#160;layout of&#160;MSR_UNCORE_PERFEVTSELx.</p>
<p style="position:absolute;top:484px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:485px;left:95px;white-space:nowrap" class="ft03">Event&#160;Select (bits 7:0): Selects&#160;the event&#160;logic&#160;unit used to&#160;detect&#160;uncore events.</p>
<p style="position:absolute;top:506px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:507px;left:95px;white-space:nowrap" class="ft03">Unit Mask&#160;(bits 15:8)&#160;: Condition qualifiers&#160;for the&#160;event selection logic specified&#160;in&#160;the&#160;Event Select&#160;field.</p>
<p style="position:absolute;top:529px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:530px;left:95px;white-space:nowrap" class="ft07">OCC_CTR_RST&#160;(bit17): When set causes&#160;the&#160;queue&#160;occupancy&#160;counter associated with&#160;this&#160;event to be cleared&#160;<br/>(zeroed).&#160;Writing a&#160;zero to this&#160;bit&#160;will&#160;be&#160;ignored. It&#160;will always read as&#160;a zero.&#160;</p>
<p style="position:absolute;top:568px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:569px;left:95px;white-space:nowrap" class="ft07">Edge&#160;Detect (bit 18): When&#160;set causes the&#160;counter to&#160;increment when a&#160;deasserted&#160;to asserted&#160;transition&#160;<br/>occurs for the&#160;conditions&#160;that&#160;can be expressed by any&#160;of&#160;the fields in&#160;this&#160;register.</p>
<p style="position:absolute;top:607px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:608px;left:95px;white-space:nowrap" class="ft07">PMI (bit 20): When&#160;set,&#160;the&#160;uncore&#160;will&#160;generate&#160;an&#160;interrupt request when&#160;this&#160;counter overflowed. This&#160;<br/>request will be routed&#160;to&#160;the logical processors as&#160;enabled in&#160;the&#160;PMI enable&#160;bits (EN_PMI_COREx)&#160;in the&#160;<br/>register MSR_UNCORE_PERF_GLOBAL_CTRL.</p>
<p style="position:absolute;top:662px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:663px;left:95px;white-space:nowrap" class="ft07">EN (bit 22):&#160;When clear,&#160;this&#160;counter is&#160;locally&#160;disabled. When&#160;set, this&#160;counter is&#160;locally&#160;enabled and counting&#160;<br/>starts&#160;when&#160;the&#160;corresponding EN_PCx bit in&#160;MSR_UNCORE_PERF_GLOBAL_CTRL&#160;is&#160;set.</p>
<p style="position:absolute;top:701px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:702px;left:95px;white-space:nowrap" class="ft07">INV&#160;(bit&#160;23): When&#160;clear,&#160;the&#160;Counter Mask&#160;field is&#160;interpreted&#160;as greater&#160;than&#160;or equal&#160;to. When&#160;set, the&#160;<br/>Counter Mask field is&#160;interpreted&#160;as less&#160;than.</p>
<p style="position:absolute;top:740px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:741px;left:95px;white-space:nowrap" class="ft07">Counter Mask (bits 31:24): When this field is clear,&#160;it has no effect on counting. When set to a value&#160;other than&#160;<br/>zero, the logical&#160;processor compares this field to the event counts on&#160;each&#160;core&#160;clock cycle.&#160;If INV is clear and&#160;<br/>the event&#160;counts are greater than or equal&#160;to this&#160;field,&#160;the counter&#160;is&#160;incremented&#160;by&#160;one. If INV is set and&#160;the&#160;<br/>event counts are less&#160;than this&#160;field, the&#160;counter&#160;is&#160;incremented&#160;by&#160;one.&#160;Otherwise&#160;the&#160;counter is&#160;not incre-<br/>mented.</p>
<p style="position:absolute;top:831px;left:69px;white-space:nowrap" class="ft03"><a href="o_fe12b1e2a880e0ce-681.html">Figure&#160;18-29&#160;</a>shows the&#160;layout&#160;of MSR_UNCORE_FIXED_CTR_CTRL.</p>
<p style="position:absolute;top:430px;left:251px;white-space:nowrap" class="ft05">Figure&#160;18-28. &#160;Layout&#160;of&#160;MSR_UNCORE_PERFEVTSELx&#160;MSRs&#160;</p>
<p style="position:absolute;top:1034px;left:245px;white-space:nowrap" class="ft05">Figure&#160;18-29.&#160;&#160;Layout&#160;of&#160;MSR_UNCORE_FIXED_CTR_CTRL&#160;MSR&#160;</p>
<p style="position:absolute;top:264px;left:319px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:344px;left:237px;white-space:nowrap" class="ft08">INV—Invert counter&#160;mask<br/>EN—Enable counters</p>
<p style="position:absolute;top:386px;left:238px;white-space:nowrap" class="ft09">E—Edge&#160;detect<br/>OCC_CTR_RST—Rest Queue Occ</p>
<p style="position:absolute;top:264px;left:587px;white-space:nowrap" class="ft06">8&#160;7</p>
<p style="position:absolute;top:264px;left:688px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:294px;left:618px;white-space:nowrap" class="ft06">Event&#160;Select</p>
<p style="position:absolute;top:287px;left:327px;white-space:nowrap" class="ft06">Counter Mask&#160;</p>
<p style="position:absolute;top:264px;left:445px;white-space:nowrap" class="ft06">19</p>
<p style="position:absolute;top:264px;left:483px;white-space:nowrap" class="ft06">16</p>
<p style="position:absolute;top:264px;left:458px;white-space:nowrap" class="ft06">18</p>
<p style="position:absolute;top:264px;left:496px;white-space:nowrap" class="ft06">15</p>
<p style="position:absolute;top:264px;left:471px;white-space:nowrap" class="ft06">17</p>
<p style="position:absolute;top:264px;left:433px;white-space:nowrap" class="ft06">20</p>
<p style="position:absolute;top:264px;left:420px;white-space:nowrap" class="ft06">21</p>
<p style="position:absolute;top:264px;left:407px;white-space:nowrap" class="ft06">22</p>
<p style="position:absolute;top:264px;left:395px;white-space:nowrap" class="ft06">23</p>
<p style="position:absolute;top:264px;left:382px;white-space:nowrap" class="ft06">24</p>
<p style="position:absolute;top:360px;left:589px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:294px;left:500px;white-space:nowrap" class="ft06">Unit Mask&#160;(UMASK)</p>
<p style="position:absolute;top:299px;left:336px;white-space:nowrap" class="ft06">(CMASK)</p>
<p style="position:absolute;top:264px;left:256px;white-space:nowrap" class="ft06">63</p>
<p style="position:absolute;top:372px;left:238px;white-space:nowrap" class="ft00">PMI—Enable PMI on overflow</p>
<p style="position:absolute;top:388px;left:562px;white-space:nowrap" class="ft06">RESET&#160;Value&#160;— 00000000_00000000H</p>
<p style="position:absolute;top:896px;left:574px;white-space:nowrap" class="ft06">8&#160;7</p>
<p style="position:absolute;top:896px;left:676px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:896px;left:634px;white-space:nowrap" class="ft06">3</p>
<p style="position:absolute;top:896px;left:660px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:1000px;left:253px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:895px;left:242px;white-space:nowrap" class="ft06">63</p>
<p style="position:absolute;top:896px;left:648px;white-space:nowrap" class="ft06">2</p>
<p style="position:absolute;top:896px;left:625px;white-space:nowrap" class="ft06">4</p>
<p style="position:absolute;top:896px;left:614px;white-space:nowrap" class="ft06">5</p>
<p style="position:absolute;top:896px;left:599px;white-space:nowrap" class="ft06">6</p>
<p style="position:absolute;top:966px;left:222px;white-space:nowrap" class="ft010">PMI&#160;-&#160;Generate&#160;PMI&#160;on&#160;overflow<br/>EN&#160;-&#160;Enable</p>
<p style="position:absolute;top:1000px;left:351px;white-space:nowrap" class="ft06">RESET Value&#160;— 00000000_00000000H</p>
</div>
</body>
</html>
