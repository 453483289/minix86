<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1067</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;font-family:Times;color:#000000;}
	.ft08{font-size:12px;font-family:Times;color:#0860a8;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1067-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1067.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3C&#160;24-21</p>
<p style="position:absolute;top:47px;left:591px;white-space:nowrap" class="ft01">VIRTUAL MACHINE CONTROL STRUCTURES</p>
<p style="position:absolute;top:97px;left:69px;white-space:nowrap" class="ft02">24.9&#160;</p>
<p style="position:absolute;top:97px;left:148px;white-space:nowrap" class="ft02">VM-EXIT INFORMATION FIELDS</p>
<p style="position:absolute;top:133px;left:69px;white-space:nowrap" class="ft010">The VMCS contains&#160;a section&#160;of&#160;fields&#160;that contain information&#160;about the&#160;most recent&#160;VM&#160;exit.<br/>On&#160;some processors,&#160;attempts&#160;to write&#160;to these&#160;fields&#160;with&#160;VMWRITE fail (see “VMWRITE—Write Field to&#160;Virtual-<br/>Machine Control&#160;Structure”<a href="o_fe12b1e2a880e0ce-1181.html">&#160;in&#160;Chapter 30).</a></p>
<p style="position:absolute;top:171px;left:358px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:224px;left:69px;white-space:nowrap" class="ft05">24.9.1&#160;</p>
<p style="position:absolute;top:224px;left:149px;white-space:nowrap" class="ft05">Basic VM-Exit Information</p>
<p style="position:absolute;top:255px;left:69px;white-space:nowrap" class="ft03">The&#160;following VM-exit&#160;information fields provide&#160;basic information&#160;about a&#160;VM&#160;exit:</p>
<p style="position:absolute;top:277px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:277px;left:95px;white-space:nowrap" class="ft07"><b>Exit reason</b>&#160;(32&#160;bits).&#160;This field encodes&#160;the&#160;reason&#160;for the VM&#160;ex<a href="o_fe12b1e2a880e0ce-1067.html">it and has the structure given in Table&#160;24-14.</a></p>
<p style="position:absolute;top:582px;left:95px;white-space:nowrap" class="ft03">—&#160;Bits&#160;15:0 provide basic information&#160;about the&#160;cause&#160;of&#160;the VM&#160;exit (if bit&#160;31&#160;is clear)&#160;or of the&#160;VM-entry&#160;</p>
<p style="position:absolute;top:598px;left:120px;white-space:nowrap" class="ft03">failure (if&#160;bit&#160;31&#160;<a href="o_fe12b1e2a880e0ce-1961.html">is set).&#160;Appendix C enume</a>rates the&#160;basic&#160;exit reasons.</p>
<p style="position:absolute;top:622px;left:95px;white-space:nowrap" class="ft03">—&#160;Bit&#160;28&#160;is&#160;set only by an&#160;SMM VM&#160;exit (see&#160;<a href="o_fe12b1e2a880e0ce-1269.html">Section 34.15.2)</a>&#160;that took&#160;priority&#160;over&#160;an MTF&#160;VM&#160;exit (see&#160;</p>
<p style="position:absolute;top:639px;left:120px;white-space:nowrap" class="ft03"><a href="o_fe12b1e2a880e0ce-1086.html">Section&#160;25.5.2) that would&#160;</a>have occurred&#160;had&#160;the&#160;SMM VM&#160;exit not occurred.&#160;S<a href="o_fe12b1e2a880e0ce-1270.html">ee Section 34.15.2.3.</a></p>
<p style="position:absolute;top:663px;left:95px;white-space:nowrap" class="ft03">—&#160;Bit&#160;29&#160;is&#160;set if&#160;and only if the&#160;processor&#160;was in&#160;VMX root operation&#160;at&#160;the time&#160;the&#160;VM&#160;exit occurred.&#160;This can&#160;</p>
<p style="position:absolute;top:679px;left:120px;white-space:nowrap" class="ft03">happen only&#160;for SMM&#160;VM&#160;exits.&#160;See<a href="o_fe12b1e2a880e0ce-1269.html">&#160;Section&#160;34.15.2.</a></p>
<p style="position:absolute;top:703px;left:95px;white-space:nowrap" class="ft03">—&#160;Because&#160;some&#160;VM-entry failures load processor state&#160;from the&#160;host-state<a href="o_fe12b1e2a880e0ce-1117.html">&#160;area (see&#160;Section 26.7),&#160;</a>software&#160;</p>
<p style="position:absolute;top:720px;left:120px;white-space:nowrap" class="ft03">must&#160;be&#160;able&#160;to distinguish such cases from&#160;true VM&#160;exits.&#160;Bit&#160;31 is&#160;used&#160;for that purpose.</p>
<p style="position:absolute;top:742px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:742px;left:95px;white-space:nowrap" class="ft010"><b>Exit qualification</b>&#160;(64&#160;bits; 32 bits on&#160;processors that&#160;do&#160;not support Intel 64 architecture). This field contains&#160;<br/>additional&#160;information about&#160;the cause of&#160;VM&#160;exits&#160;due to the&#160;following:&#160;debug exceptions;&#160;page-fault&#160;<br/>exceptions; start-up&#160;IPIs&#160;(SIPIs); task switches;&#160;INVEPT; INVLPG;INVVPID; LGDT; LIDT;&#160;LLDT; LTR; SGDT;&#160;<br/>SIDT;&#160;SLDT; STR;&#160;VMCLEAR; VMPTRLD; VMPTRST;&#160;VMREAD;&#160;VMWRITE; VMXON; control-register&#160;accesses;&#160;<br/>MOV&#160;DR; I/O instructions;&#160;and MWAIT.&#160;The&#160;format of the&#160;field depends on the cause of the VM&#160;exit. Se<a href="o_fe12b1e2a880e0ce-1122.html">e Section&#160;<br/>27.2.1&#160;for detail</a>s.</p>
<p style="position:absolute;top:847px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:847px;left:95px;white-space:nowrap" class="ft011"><b>Guest-linear&#160;address</b>&#160;(64 bits; 32 bits on processors that&#160;do&#160;not&#160;support&#160;Intel&#160;64&#160;architecture).&#160;This&#160;field is&#160;<br/>used in the&#160;following&#160;cases:<br/>—&#160;VM&#160;exits due to&#160;attempts&#160;to execute LMSW&#160;with&#160;a memory operand.<br/>—&#160;VM&#160;exits due to&#160;attempts&#160;to execute INS or&#160;OUTS.<br/>—&#160;VM&#160;exits due to&#160;system-management interrupts&#160;(SMIs)&#160;that arrive&#160;immediately&#160;after retirement of I/O&#160;</p>
<p style="position:absolute;top:952px;left:120px;white-space:nowrap" class="ft03">instructions.</p>
<p style="position:absolute;top:976px;left:95px;white-space:nowrap" class="ft012">—&#160;Certain VM&#160;exits due to EPT violations<br/>S<a href="o_fe12b1e2a880e0ce-1122.html">ee Section 27.2.1&#160;</a><a href="o_fe12b1e2a880e0ce-1270.html">and Section 34.15.2.3</a>&#160;for details of&#160;when&#160;and how&#160;this field is&#160;used.</p>
<p style="position:absolute;top:1054px;left:69px;white-space:nowrap" class="ft03">1.&#160;&#160;Software&#160;can&#160;discover whether these&#160;fields&#160;can&#160;be&#160;written&#160;by&#160;reading&#160;the&#160;VMX capability MSR&#160;IA32_VMX_MISC&#160;(see<a href="o_fe12b1e2a880e0ce-1947.html">&#160;Appendix&#160;A.6)</a>.</p>
<p style="position:absolute;top:308px;left:330px;white-space:nowrap" class="ft08">Table&#160;24-14.&#160; Format&#160;of&#160;Exit&#160;Reason</p>
<p style="position:absolute;top:342px;left:81px;white-space:nowrap" class="ft03">Bit&#160;Position(s)</p>
<p style="position:absolute;top:342px;left:199px;white-space:nowrap" class="ft03">Contents</p>
<p style="position:absolute;top:370px;left:81px;white-space:nowrap" class="ft03">15:0</p>
<p style="position:absolute;top:370px;left:199px;white-space:nowrap" class="ft03">Basic exit&#160;reason</p>
<p style="position:absolute;top:399px;left:81px;white-space:nowrap" class="ft03">26:16</p>
<p style="position:absolute;top:399px;left:199px;white-space:nowrap" class="ft03">Reserved (cleared&#160;to&#160;0)</p>
<p style="position:absolute;top:427px;left:81px;white-space:nowrap" class="ft03">27</p>
<p style="position:absolute;top:427px;left:199px;white-space:nowrap" class="ft03">A VM&#160;exit&#160;saves this bit as 1 to&#160;indicate that&#160;the VM&#160;exit&#160;was incident&#160;to&#160;enclave mode.</p>
<p style="position:absolute;top:456px;left:81px;white-space:nowrap" class="ft03">28</p>
<p style="position:absolute;top:456px;left:199px;white-space:nowrap" class="ft03">Pending MTF VM&#160;exit</p>
<p style="position:absolute;top:484px;left:81px;white-space:nowrap" class="ft03">29</p>
<p style="position:absolute;top:484px;left:199px;white-space:nowrap" class="ft03">VM&#160;exit&#160;from&#160;VMX root&#160;operation</p>
<p style="position:absolute;top:512px;left:81px;white-space:nowrap" class="ft03">30</p>
<p style="position:absolute;top:512px;left:199px;white-space:nowrap" class="ft03">Reserved (cleared&#160;to&#160;0)</p>
<p style="position:absolute;top:541px;left:81px;white-space:nowrap" class="ft03">31</p>
<p style="position:absolute;top:541px;left:199px;white-space:nowrap" class="ft03">VM-entry&#160;failure (0 = true&#160;VM&#160;exit; 1 = VM-entry&#160;failure)</p>
</div>
</body>
</html>
