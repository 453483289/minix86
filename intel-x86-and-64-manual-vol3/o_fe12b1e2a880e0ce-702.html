<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 702</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page702-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce702.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-66&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:447px;left:68px;white-space:nowrap" class="ft05">The layout&#160;of&#160;PEBS records are almost identical&#160;to&#160;those&#160;shown&#160;in&#160;<a href="o_fe12b1e2a880e0ce-673.html">Table&#160;18-23.</a>&#160;Offset&#160;B0H is&#160;a new field&#160;that&#160;<br/>records&#160;the eventing&#160;IP&#160;address of the&#160;retired instruction that triggered the&#160;PEBS&#160;assist.<br/>The&#160;PEBS records at&#160;offsets 98H, A0H, and&#160;ABH record data&#160;gathered&#160;from&#160;three&#160;of the&#160;PEBS capabilities in prior&#160;<br/>processor generations:&#160;load latency&#160;facilit<a href="o_fe12b1e2a880e0ce-691.html">y (Section 18.9.4.2</a>),&#160;PDIR<a href="o_fe12b1e2a880e0ce-693.html">&#160;(Section 18.9.4.4), and&#160;</a>the&#160;equivalent capa-<br/>bility&#160;of&#160;precise store&#160;in prior&#160;generation (see<a href="o_fe12b1e2a880e0ce-702.html">&#160;Section 18.11.3</a>).<br/>In the&#160;core PMU of the&#160;4th generation&#160;Intel Core&#160;processor,&#160;load&#160;latency&#160;facility and&#160;PDIR capabilities are&#160;<br/>unchanged. However,&#160;precise&#160;store&#160;is replaced by an enhanced&#160;capability,&#160;data address&#160;profiling,&#160;that is&#160;not&#160;<br/>restricted to&#160;store address. Data address profiling also&#160;records&#160;information in&#160;PEBS records at&#160;offsets&#160;98H,&#160;A0H,&#160;<br/>and ABH.</p>
<p style="position:absolute;top:644px;left:68px;white-space:nowrap" class="ft03">18.11.3&#160;&#160;PEBS Data Address Profiling</p>
<p style="position:absolute;top:675px;left:68px;white-space:nowrap" class="ft06">The Data Linear Address facility&#160;is&#160;also&#160;abbreviated as&#160;DataLA. The facility is&#160;a replacement&#160;or extension of&#160;the&#160;<br/>precise store&#160;facility in&#160;previous processor generations. The&#160;DataLA facility&#160;complements the&#160;load&#160;latency facility&#160;by&#160;<br/>providing a&#160;means to&#160;profile load and&#160;store memory&#160;references&#160;in the&#160;system, leverages&#160;the PEBS facility,&#160;and&#160;<br/>provides&#160;additional&#160;information about sampled loads and&#160;stores. Having precise&#160;memory reference events&#160;with&#160;<br/>linear&#160;address information&#160;for both&#160;loads and stores&#160;provides&#160;information&#160;to improve&#160;data structure layout, elimi-<br/>nate remote node&#160;references,&#160;and identify cache-line conflicts in&#160;NUMA&#160;systems.<br/>The DataLA&#160;facility in&#160;the 4th&#160;generation processor supports&#160;the following events configured&#160;to use&#160;PEBS:</p>
<p style="position:absolute;top:100px;left:180px;white-space:nowrap" class="ft04">Table 18-44.&#160; PEBS Record&#160;Format&#160;for&#160;4th Generation&#160;Intel Core&#160;Processor&#160;Family</p>
<p style="position:absolute;top:124px;left:75px;white-space:nowrap" class="ft02">Byte Offset</p>
<p style="position:absolute;top:124px;left:199px;white-space:nowrap" class="ft02">Field</p>
<p style="position:absolute;top:124px;left:457px;white-space:nowrap" class="ft02">Byte Offset</p>
<p style="position:absolute;top:124px;left:573px;white-space:nowrap" class="ft02">Field</p>
<p style="position:absolute;top:148px;left:75px;white-space:nowrap" class="ft02">00H</p>
<p style="position:absolute;top:148px;left:199px;white-space:nowrap" class="ft02">R/EFLAGS</p>
<p style="position:absolute;top:148px;left:457px;white-space:nowrap" class="ft02">60H</p>
<p style="position:absolute;top:148px;left:573px;white-space:nowrap" class="ft02">R10</p>
<p style="position:absolute;top:172px;left:75px;white-space:nowrap" class="ft02">08H</p>
<p style="position:absolute;top:172px;left:199px;white-space:nowrap" class="ft02">R/EIP</p>
<p style="position:absolute;top:172px;left:457px;white-space:nowrap" class="ft02">68H</p>
<p style="position:absolute;top:172px;left:573px;white-space:nowrap" class="ft02">R11</p>
<p style="position:absolute;top:196px;left:75px;white-space:nowrap" class="ft02">10H</p>
<p style="position:absolute;top:196px;left:199px;white-space:nowrap" class="ft02">R/EAX</p>
<p style="position:absolute;top:196px;left:457px;white-space:nowrap" class="ft02">70H</p>
<p style="position:absolute;top:196px;left:573px;white-space:nowrap" class="ft02">R12</p>
<p style="position:absolute;top:220px;left:75px;white-space:nowrap" class="ft02">18H</p>
<p style="position:absolute;top:220px;left:199px;white-space:nowrap" class="ft02">R/EBX</p>
<p style="position:absolute;top:220px;left:457px;white-space:nowrap" class="ft02">78H</p>
<p style="position:absolute;top:220px;left:573px;white-space:nowrap" class="ft02">R13</p>
<p style="position:absolute;top:244px;left:75px;white-space:nowrap" class="ft02">20H</p>
<p style="position:absolute;top:244px;left:199px;white-space:nowrap" class="ft02">R/ECX</p>
<p style="position:absolute;top:244px;left:457px;white-space:nowrap" class="ft02">80H</p>
<p style="position:absolute;top:244px;left:573px;white-space:nowrap" class="ft02">R14</p>
<p style="position:absolute;top:268px;left:75px;white-space:nowrap" class="ft02">28H</p>
<p style="position:absolute;top:268px;left:199px;white-space:nowrap" class="ft02">R/EDX</p>
<p style="position:absolute;top:268px;left:457px;white-space:nowrap" class="ft02">88H</p>
<p style="position:absolute;top:268px;left:573px;white-space:nowrap" class="ft02">R15</p>
<p style="position:absolute;top:292px;left:75px;white-space:nowrap" class="ft02">30H</p>
<p style="position:absolute;top:292px;left:199px;white-space:nowrap" class="ft02">R/ESI</p>
<p style="position:absolute;top:292px;left:457px;white-space:nowrap" class="ft02">90H</p>
<p style="position:absolute;top:292px;left:573px;white-space:nowrap" class="ft02">IA32_PERF_GLOBAL_STATUS</p>
<p style="position:absolute;top:316px;left:75px;white-space:nowrap" class="ft02">38H</p>
<p style="position:absolute;top:316px;left:199px;white-space:nowrap" class="ft02">R/EDI</p>
<p style="position:absolute;top:316px;left:457px;white-space:nowrap" class="ft02">98H</p>
<p style="position:absolute;top:316px;left:573px;white-space:nowrap" class="ft02">Data Linear Address</p>
<p style="position:absolute;top:340px;left:75px;white-space:nowrap" class="ft02">40H</p>
<p style="position:absolute;top:340px;left:199px;white-space:nowrap" class="ft02">R/EBP</p>
<p style="position:absolute;top:340px;left:457px;white-space:nowrap" class="ft02">A0H</p>
<p style="position:absolute;top:340px;left:573px;white-space:nowrap" class="ft02">Data Source Encoding</p>
<p style="position:absolute;top:364px;left:75px;white-space:nowrap" class="ft02">48H</p>
<p style="position:absolute;top:364px;left:199px;white-space:nowrap" class="ft02">R/ESP</p>
<p style="position:absolute;top:364px;left:457px;white-space:nowrap" class="ft02">A8H</p>
<p style="position:absolute;top:364px;left:573px;white-space:nowrap" class="ft02">Latency&#160;value&#160;(core cycles)</p>
<p style="position:absolute;top:388px;left:75px;white-space:nowrap" class="ft02">50H</p>
<p style="position:absolute;top:388px;left:199px;white-space:nowrap" class="ft02">R8</p>
<p style="position:absolute;top:388px;left:457px;white-space:nowrap" class="ft02">B0H</p>
<p style="position:absolute;top:388px;left:573px;white-space:nowrap" class="ft02">EventingIP</p>
<p style="position:absolute;top:412px;left:75px;white-space:nowrap" class="ft02">58H</p>
<p style="position:absolute;top:412px;left:199px;white-space:nowrap" class="ft02">R9</p>
<p style="position:absolute;top:412px;left:457px;white-space:nowrap" class="ft02">B8H</p>
<p style="position:absolute;top:412px;left:573px;white-space:nowrap" class="ft02">TX&#160;Abort Information<a href="o_fe12b1e2a880e0ce-706.html">&#160;(Section 18.11.5.1</a>)</p>
<p style="position:absolute;top:822px;left:205px;white-space:nowrap" class="ft04">Table 18-45. &#160;Precise&#160;Events That Supports&#160;Data&#160;Linear&#160;Address&#160;Profiling</p>
<p style="position:absolute;top:844px;left:73px;white-space:nowrap" class="ft02">Event Name</p>
<p style="position:absolute;top:844px;left:485px;white-space:nowrap" class="ft02">Event&#160;Name</p>
<p style="position:absolute;top:867px;left:73px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.STLB_MISS_LOADS</p>
<p style="position:absolute;top:867px;left:485px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.STLB_MISS_STORES</p>
<p style="position:absolute;top:889px;left:73px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.LOCK_LOADS</p>
<p style="position:absolute;top:889px;left:485px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.SPLIT_STORES</p>
<p style="position:absolute;top:912px;left:73px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.SPLIT_LOADS</p>
<p style="position:absolute;top:912px;left:485px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.ALL_STORES</p>
<p style="position:absolute;top:934px;left:73px;white-space:nowrap" class="ft02">MEM_UOPS_RETIRED.ALL_LOADS</p>
<p style="position:absolute;top:934px;left:485px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_LLC_MISS_RETIRED.LOCAL_DRAM</p>
<p style="position:absolute;top:957px;left:73px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L1_HIT</p>
<p style="position:absolute;top:957px;left:485px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L2_HIT</p>
<p style="position:absolute;top:979px;left:73px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L3_HIT</p>
<p style="position:absolute;top:979px;left:485px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L1_MISS</p>
<p style="position:absolute;top:1002px;left:73px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L2_MISS</p>
<p style="position:absolute;top:1002px;left:485px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.L3_MISS</p>
<p style="position:absolute;top:1024px;left:73px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_RETIRED.HIT_LFB</p>
<p style="position:absolute;top:1024px;left:485px;white-space:nowrap" class="ft02">MEM_LOAD_UOPS_L3_HIT_RETIRED.XSNP_MISS</p>
</div>
</body>
</html>
