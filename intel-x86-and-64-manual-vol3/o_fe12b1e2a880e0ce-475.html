<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 475</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:7px;font-family:Times;color:#000000;}
	.ft08{font-size:8px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft012{font-size:8px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page475-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce475.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:768px;white-space:nowrap" class="ft00">Vol. 3B&#160;14-9</p>
<p style="position:absolute;top:47px;left:619px;white-space:nowrap" class="ft01">POWER AND THERMAL MANAGEMENT</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft09">rate&#160;of&#160;performance increase /decrease and&#160;the result&#160;of the hardware's&#160;energy&#160;efficiency&#160;and&#160;performance&#160;<br/>optimizations. The default value of this field is 80H. Note: If CPUID.06H:EAX[bit 10] indicates that this field is&#160;<br/>not supported, HWP uses the value of the&#160;IA32_ENERGY_PERF_BIAS MSR to determine&#160;the&#160;energy efficiency /&#160;<br/>performance preference.</p>
<p style="position:absolute;top:172px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:172px;left:95px;white-space:nowrap" class="ft09"><b>Activity_Window (bits 41:32, RW)</b>&#160;— Conveys&#160;a hint to&#160;the HWP&#160;hardware&#160;specifying&#160;a moving&#160;workload&#160;<br/>history observation&#160;window for performance/frequency&#160;optimizations.&#160;If 0, the hardware&#160;will determine the&#160;<br/>appropriate&#160;window size. When writing a non-zero value to this field, this&#160;field is&#160;encoded in the format&#160;of&#160;bits&#160;<br/>38:32 as&#160;a 7-bit mantissa&#160;and bits 41:39&#160;as a&#160;3-bit&#160;exponent&#160;value&#160;in powers&#160;of 10.&#160;The resultant&#160;value is&#160;in&#160;<br/>microseconds.&#160;Thus,&#160;the minimal/maximum activity window size&#160;is 1&#160;microsecond/1270&#160;seconds. Combined&#160;<br/>with&#160;the Energy_Performance_Preference input, Activity_Window influences the rate of performance&#160;increase&#160;<br/>/ decrease. This non-zero hint&#160;only&#160;has meaning&#160;when&#160;Desired_Performance&#160;= 0.&#160;The default value&#160;of&#160;this field&#160;<br/>is 0.</p>
<p style="position:absolute;top:310px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:310px;left:95px;white-space:nowrap" class="ft09"><b>Package_Control (bit&#160;42, RW)</b>&#160;—&#160;When&#160;set causes&#160;this logical processor's&#160;IA32_HWP_REQUEST control&#160;<br/>inputs&#160;to be&#160;derived&#160;from&#160;IA32_HWP_REQUEST_PKG</p>
<p style="position:absolute;top:349px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:349px;left:95px;white-space:nowrap" class="ft02">Bits 63:43 are&#160;reserved&#160;and must be zero.</p>
<p style="position:absolute;top:373px;left:69px;white-space:nowrap" class="ft09">The HWP&#160;hardware clips and resolves the&#160;field&#160;values as&#160;necessary&#160;to the&#160;valid range. Reads&#160;return the&#160;last value&#160;<br/>written&#160;not&#160;the clipped values.<br/>Processors may support&#160;a subset of&#160;IA32_HWP_REQUEST fields as&#160;indicated by CPUID.&#160;Reads of non-supported&#160;<br/>fields&#160;will&#160;return 0. Writes&#160;to non-supported&#160;fields are&#160;ignored.<br/>The&#160;OS may override&#160;HWP's autonomous&#160;selection&#160;of performance&#160;state with a&#160;specific&#160;performance target by&#160;<br/>setting the Desired_Performance field to a non zero value,&#160;however,&#160;the effective frequency delivered&#160;is subject to&#160;<br/>the result&#160;of energy&#160;efficiency and&#160;performance&#160;optimizations, which are&#160;influenced by&#160;the Energy&#160;Performance&#160;<br/>Preference&#160;field.<br/>Software may&#160;disable all hardware&#160;optimizations&#160;by&#160;setting Minimum_Performance&#160;=&#160;Maximum_Performance&#160;<br/>(subject&#160;to package coordination).<br/>Note: The processor&#160;may run below&#160;the Minimum_Performance&#160;level due to hardware constraints including: power,&#160;<br/>thermal, and package coordination constraints. The processor may also run below the Minimum_Performance level&#160;<br/>for short&#160;durations (few milliseconds) following C-state&#160;exit, and when&#160;Hardware Duty&#160;Cycling&#160;<a href="o_fe12b1e2a880e0ce-479.html">(see&#160;Section&#160;14.5)&#160;<br/></a>is enabled.</p>
<p style="position:absolute;top:892px;left:69px;white-space:nowrap" class="ft09">The structure&#160;of&#160;the IA32_HWP_REQUEST_PKG MSR (package-level) is&#160;identical&#160;to the IA32_HWP_REQUEST&#160;MSR&#160;<br/>with the&#160;exception of the&#160;Package Control field,&#160;which does&#160;not exist.&#160;Field&#160;values written to&#160;this MSR apply to&#160;all&#160;<br/>logical&#160;processors&#160;within the&#160;physical&#160;package&#160;with the&#160;exception of logical processors whose&#160;<br/>IA32_HWP_REQUEST.Package Control field is&#160;clear (zero).&#160;Single&#160;P-state Control mode&#160;is only supported&#160;when&#160;<br/>IA32_HWP_REQUEST_PKG&#160;is not supported.&#160;</p>
<p style="position:absolute;top:1008px;left:69px;white-space:nowrap" class="ft05">14.4.5 HWP&#160;</p>
<p style="position:absolute;top:1008px;left:193px;white-space:nowrap" class="ft05">Feedback</p>
<p style="position:absolute;top:1039px;left:69px;white-space:nowrap" class="ft02">The processor provides several&#160;types&#160;of&#160;feedback&#160;to the&#160;OS&#160;during&#160;HWP&#160;operation.&#160;</p>
<p style="position:absolute;top:837px;left:290px;white-space:nowrap" class="ft06">Figure&#160;14-7.&#160;&#160;IA32_HWP_REQUEST_PKG&#160;Register&#160;</p>
<p style="position:absolute;top:689px;left:681px;white-space:nowrap" class="ft07">0</p>
<p style="position:absolute;top:713px;left:243px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:689px;left:535px;white-space:nowrap" class="ft07">24</p>
<p style="position:absolute;top:689px;left:645px;white-space:nowrap" class="ft07">7</p>
<p style="position:absolute;top:689px;left:631px;white-space:nowrap" class="ft07">8</p>
<p style="position:absolute;top:689px;left:597px;white-space:nowrap" class="ft07">15</p>
<p style="position:absolute;top:689px;left:588px;white-space:nowrap" class="ft07">16</p>
<p style="position:absolute;top:689px;left:546px;white-space:nowrap" class="ft07">23</p>
<p style="position:absolute;top:689px;left:490px;white-space:nowrap" class="ft07">31</p>
<p style="position:absolute;top:689px;left:479px;white-space:nowrap" class="ft07">32</p>
<p style="position:absolute;top:772px;left:222px;white-space:nowrap" class="ft012">Energy_Performance_Preference<br/>Desired_Performance<br/>Maximum_Performance</p>
<p style="position:absolute;top:760px;left:222px;white-space:nowrap" class="ft08">Activity_Window</p>
<p style="position:absolute;top:808px;left:222px;white-space:nowrap" class="ft08">Minimum_Performance</p>
<p style="position:absolute;top:689px;left:218px;white-space:nowrap" class="ft07">63</p>
<p style="position:absolute;top:690px;left:378px;white-space:nowrap" class="ft07">42&#160;41</p>
</div>
</body>
</html>
