<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 102</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page102-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481102.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">2-42&#160;Vol. 2A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION FORMAT</p>
<p style="position:absolute;top:377px;left:68px;white-space:nowrap" class="ft02">2.6.11&#160;</p>
<p style="position:absolute;top:377px;left:148px;white-space:nowrap" class="ft02">#UD Equations for EVEX</p>
<p style="position:absolute;top:405px;left:68px;white-space:nowrap" class="ft07">Instructions&#160;encoded using EVEX&#160;can&#160;face&#160;three types of&#160;UD&#160;conditions: state dependent, opcode&#160;independent and&#160;<br/>opcode&#160;dependent.</p>
<p style="position:absolute;top:466px;left:68px;white-space:nowrap" class="ft04">2.6.11.1 &#160;&#160;State&#160;Dependent #UD</p>
<p style="position:absolute;top:491px;left:68px;white-space:nowrap" class="ft07">In&#160;general, attempts of execute an&#160;instruction, which&#160;required OS support for incremental&#160;extended state&#160;compo-<br/>nent, will #UD&#160;if&#160;required state components&#160;were&#160;not enabled by&#160;<a href="o_b5573232dd8f1481-102.html">OS. Table 2-37&#160;</a>lists instruction categories&#160;with&#160;<br/>respect to&#160;required processor state&#160;components.&#160;Attempts to&#160;execute a&#160;given&#160;category of instructions while&#160;<br/>enabled&#160;states&#160;were less than the&#160;required bit ve<a href="o_b5573232dd8f1481-102.html">ctor in XCR0 shown in Table&#160;2-37&#160;wi</a>ll cause&#160;#UD.</p>
<p style="position:absolute;top:794px;left:68px;white-space:nowrap" class="ft04">2.6.11.2 &#160;&#160;Opcode&#160;Independent #UD</p>
<p style="position:absolute;top:819px;left:68px;white-space:nowrap" class="ft07">A&#160;number of bit fields in EVEX encoded&#160;instruction&#160;must&#160;obey mode-specific&#160;but opcode-independent patterns&#160;<br/>listed<a href="o_b5573232dd8f1481-102.html">&#160;in Table&#160;2-38</a>.</p>
<p style="position:absolute;top:113px;left:129px;white-space:nowrap" class="ft05">Table 2-36. &#160;EVEX Embedded&#160;Broadcast/Rounding/SAE&#160;and Vector Length on&#160;Vector&#160;Instructions</p>
<p style="position:absolute;top:137px;left:214px;white-space:nowrap" class="ft03">Position</p>
<p style="position:absolute;top:137px;left:467px;white-space:nowrap" class="ft03">P2[4]</p>
<p style="position:absolute;top:137px;left:615px;white-space:nowrap" class="ft03">P2[6:5]</p>
<p style="position:absolute;top:137px;left:755px;white-space:nowrap" class="ft03">P2[6:5]</p>
<p style="position:absolute;top:162px;left:135px;white-space:nowrap" class="ft03">Broadcast/Rounding/SAE Context</p>
<p style="position:absolute;top:162px;left:461px;white-space:nowrap" class="ft03">EVEX.b</p>
<p style="position:absolute;top:162px;left:611px;white-space:nowrap" class="ft03">EVEX.Lâ€™L</p>
<p style="position:absolute;top:162px;left:750px;white-space:nowrap" class="ft03">EVEX.RC</p>
<p style="position:absolute;top:186px;left:73px;white-space:nowrap" class="ft03">Reg-reg,&#160;FP Instructions&#160;w/&#160;rounding&#160;semantic</p>
<p style="position:absolute;top:186px;left:412px;white-space:nowrap" class="ft03">Enable&#160;static rounding&#160;</p>
<p style="position:absolute;top:202px;left:412px;white-space:nowrap" class="ft03">control (SAE&#160;implied)</p>
<p style="position:absolute;top:186px;left:565px;white-space:nowrap" class="ft03">Vector&#160;length&#160;Implied&#160;</p>
<p style="position:absolute;top:202px;left:565px;white-space:nowrap" class="ft03">(512 bit or scalar)</p>
<p style="position:absolute;top:186px;left:720px;white-space:nowrap" class="ft03">00b: SAE + RNE</p>
<p style="position:absolute;top:202px;left:720px;white-space:nowrap" class="ft03">01b: SAE + RD</p>
<p style="position:absolute;top:218px;left:720px;white-space:nowrap" class="ft03">10b: SAE + RU</p>
<p style="position:absolute;top:235px;left:720px;white-space:nowrap" class="ft03">11b: SAE + RZ</p>
<p style="position:absolute;top:259px;left:73px;white-space:nowrap" class="ft03">FP&#160;Instructions w/o&#160;rounding semantic,&#160;can&#160;cause #XF</p>
<p style="position:absolute;top:259px;left:412px;white-space:nowrap" class="ft03">&#160;SAE&#160;control</p>
<p style="position:absolute;top:259px;left:565px;white-space:nowrap" class="ft03">00b: 128-bit</p>
<p style="position:absolute;top:276px;left:565px;white-space:nowrap" class="ft03">01b:&#160;256-bit</p>
<p style="position:absolute;top:292px;left:565px;white-space:nowrap" class="ft03">10b:&#160;512-bit</p>
<p style="position:absolute;top:308px;left:565px;white-space:nowrap" class="ft03">11b:&#160;Reserved&#160;(#UD)</p>
<p style="position:absolute;top:259px;left:720px;white-space:nowrap" class="ft03">NA</p>
<p style="position:absolute;top:283px;left:73px;white-space:nowrap" class="ft03">Load+op Instructions&#160;w/ memory source</p>
<p style="position:absolute;top:283px;left:412px;white-space:nowrap" class="ft03">Broadcast Control</p>
<p style="position:absolute;top:283px;left:720px;white-space:nowrap" class="ft03">NA</p>
<p style="position:absolute;top:307px;left:73px;white-space:nowrap" class="ft03">Other Instructions&#160;(</p>
<p style="position:absolute;top:324px;left:73px;white-space:nowrap" class="ft03">Explicit Load/Store/Broadcast/Gather/Scatter)</p>
<p style="position:absolute;top:307px;left:412px;white-space:nowrap" class="ft03">Must&#160;be&#160;0&#160;(otherwise&#160;</p>
<p style="position:absolute;top:324px;left:412px;white-space:nowrap" class="ft03">#UD)</p>
<p style="position:absolute;top:307px;left:720px;white-space:nowrap" class="ft03">NA</p>
<p style="position:absolute;top:574px;left:213px;white-space:nowrap" class="ft05">Table&#160;2-37. &#160;OS XSAVE&#160;Enabling Requirements of&#160;Instruction Categories</p>
<p style="position:absolute;top:607px;left:160px;white-space:nowrap" class="ft06"><b>Instruction Categories</b></p>
<p style="position:absolute;top:600px;left:425px;white-space:nowrap" class="ft03">Vector Register State&#160;Access</p>
<p style="position:absolute;top:600px;left:631px;white-space:nowrap" class="ft03">Required XCR0&#160;Bit Vector&#160;[7:0]</p>
<p style="position:absolute;top:626px;left:82px;white-space:nowrap" class="ft03">Legacy SIMD prefix&#160;encoded&#160;Instructions (e.g SSE)</p>
<p style="position:absolute;top:626px;left:498px;white-space:nowrap" class="ft03">XMM&#160;</p>
<p style="position:absolute;top:626px;left:692px;white-space:nowrap" class="ft03">xxxxxx11b</p>
<p style="position:absolute;top:650px;left:82px;white-space:nowrap" class="ft03">VEX-encoded instructions operating on&#160;YMM</p>
<p style="position:absolute;top:650px;left:499px;white-space:nowrap" class="ft03">YMM</p>
<p style="position:absolute;top:650px;left:691px;white-space:nowrap" class="ft03">xxxxx111b</p>
<p style="position:absolute;top:674px;left:82px;white-space:nowrap" class="ft03">EVEX-encoded 128-bit&#160;instructions&#160;</p>
<p style="position:absolute;top:674px;left:499px;white-space:nowrap" class="ft03">ZMM</p>
<p style="position:absolute;top:674px;left:690px;white-space:nowrap" class="ft03">111xx111b</p>
<p style="position:absolute;top:698px;left:82px;white-space:nowrap" class="ft03">EVEX-encoded 256-bit&#160;instructions&#160;</p>
<p style="position:absolute;top:698px;left:499px;white-space:nowrap" class="ft03">ZMM</p>
<p style="position:absolute;top:698px;left:690px;white-space:nowrap" class="ft03">111xx111b</p>
<p style="position:absolute;top:722px;left:82px;white-space:nowrap" class="ft03">EVEX-encoded 512-bit&#160;instructions&#160;</p>
<p style="position:absolute;top:722px;left:499px;white-space:nowrap" class="ft03">ZMM</p>
<p style="position:absolute;top:722px;left:690px;white-space:nowrap" class="ft03">111xx111b</p>
<p style="position:absolute;top:746px;left:82px;white-space:nowrap" class="ft03">VEX-encoded instructions operating on&#160;opmask</p>
<p style="position:absolute;top:746px;left:498px;white-space:nowrap" class="ft03">k-reg</p>
<p style="position:absolute;top:746px;left:691px;white-space:nowrap" class="ft03">xx1xxx11b</p>
<p style="position:absolute;top:869px;left:225px;white-space:nowrap" class="ft05">Table 2-38.&#160;&#160;Opcode Independent, State Dependent EVEX&#160;Bit&#160;Fields</p>
<p style="position:absolute;top:894px;left:94px;white-space:nowrap" class="ft03">Position</p>
<p style="position:absolute;top:894px;left:173px;white-space:nowrap" class="ft03">Notation</p>
<p style="position:absolute;top:894px;left:303px;white-space:nowrap" class="ft03">64-bit&#160;#UD</p>
<p style="position:absolute;top:894px;left:577px;white-space:nowrap" class="ft03">Non-64-bit #UD</p>
<p style="position:absolute;top:918px;left:89px;white-space:nowrap" class="ft03">P[3 : 2]</p>
<p style="position:absolute;top:918px;left:160px;white-space:nowrap" class="ft03">--</p>
<p style="position:absolute;top:918px;left:252px;white-space:nowrap" class="ft03">if&#160;&gt; 0</p>
<p style="position:absolute;top:918px;left:434px;white-space:nowrap" class="ft03">if &gt; 0</p>
<p style="position:absolute;top:942px;left:89px;white-space:nowrap" class="ft03">P[10]</p>
<p style="position:absolute;top:942px;left:160px;white-space:nowrap" class="ft03">--</p>
<p style="position:absolute;top:942px;left:251px;white-space:nowrap" class="ft03">if&#160;0</p>
<p style="position:absolute;top:942px;left:434px;white-space:nowrap" class="ft03">if 0</p>
<p style="position:absolute;top:966px;left:89px;white-space:nowrap" class="ft03">P[1: 0]</p>
<p style="position:absolute;top:966px;left:160px;white-space:nowrap" class="ft03">EVEX.mm</p>
<p style="position:absolute;top:966px;left:252px;white-space:nowrap" class="ft03">if 00b</p>
<p style="position:absolute;top:966px;left:434px;white-space:nowrap" class="ft03">if 00b</p>
<p style="position:absolute;top:990px;left:89px;white-space:nowrap" class="ft03">P[7 : 6]</p>
<p style="position:absolute;top:990px;left:160px;white-space:nowrap" class="ft03">EVEX.RX</p>
<p style="position:absolute;top:990px;left:252px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:990px;left:434px;white-space:nowrap" class="ft03">None (BOUND if&#160;EVEX.RX != 11b)</p>
</div>
</body>
</html>
