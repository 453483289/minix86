<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 494</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:19px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page494-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481494.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:702px;white-space:nowrap" class="ft00">FPREM—Partial Remainder</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-366&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">FPREM—Partial Remainder</p>
<p style="position:absolute;top:236px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:261px;left:68px;white-space:nowrap" class="ft07">Computes&#160;the remainder obtained from dividing the&#160;value&#160;in&#160;the ST(0)&#160;register (the&#160;dividend) by the&#160;value&#160;in the&#160;<br/>ST(1) register&#160;(the divisor&#160;or&#160;<b>modulus</b>),&#160;and&#160;stores&#160;the result in ST(0).&#160;The remainder represents&#160;the&#160;following&#160;<br/>value:<br/>Remainder&#160;←&#160;ST(0)&#160;−&#160;(Q&#160;∗&#160;ST(1))<br/>Here, Q&#160;is an&#160;integer&#160;value that is&#160;obtained by truncating&#160;the&#160;floating-point number&#160;quotient of [ST(0)&#160;/ ST(1)]&#160;<br/>toward zero.&#160;The sign&#160;of the remainder is&#160;the same as&#160;the sign&#160;of the&#160;dividend. The&#160;magnitude&#160;of the&#160;remainder is&#160;<br/>less than&#160;that&#160;of&#160;the modulus, unless&#160;a partial remainder was&#160;computed&#160;(as described&#160;below).<br/>This instruction produces&#160;an exact&#160;result; the inexact-result&#160;exception does not&#160;occur and the&#160;rounding control&#160;has&#160;<br/>no&#160;effect.&#160;The following table shows the&#160;results&#160;obtained&#160;when computing&#160;the remainder of various classes of&#160;<br/>numbers,&#160;assuming&#160;that&#160;underflow does not&#160;occur.</p>
<p style="position:absolute;top:789px;left:68px;white-space:nowrap" class="ft04">When the&#160;result is 0,&#160;its&#160;sign is&#160;the&#160;same&#160;as&#160;that&#160;of&#160;the dividend.&#160;When the modulus is&#160;∞, the&#160;result is equal to the&#160;</p>
<p style="position:absolute;top:805px;left:68px;white-space:nowrap" class="ft07">value&#160;in ST(0).&#160;<br/>The FPREM instruction does not compute the&#160;remainder&#160;specified in IEEE&#160;Std 754.&#160;The&#160;IEEE specified&#160;remainder&#160;<br/>can be computed with the&#160;FPREM1&#160;instruction. The FPREM instruction is&#160;provided for compatibility with the&#160;Intel&#160;<br/>8087 and&#160;Intel287&#160;math&#160;coprocessors.<br/>The FPREM instruction gets its&#160;name “partial&#160;remainder”&#160;because&#160;of&#160;the&#160;way it&#160;computes the&#160;remainder.&#160;This&#160;<br/>instruction&#160;arrives&#160;at a&#160;remainder&#160;through iterative&#160;subtraction.&#160;It can, however,&#160;reduce the&#160;exponent of&#160;ST(0)&#160;by&#160;<br/>no&#160;more&#160;than 63 in one&#160;execution of&#160;the instruction.&#160;If&#160;the&#160;instruction succeeds in&#160;producing&#160;a remainder that is&#160;<br/>less&#160;than&#160;the modulus, the&#160;operation&#160;is complete and the&#160;C2&#160;flag&#160;in&#160;the FPU status word&#160;is cleared. Otherwise, C2&#160;<br/>is&#160;set, and&#160;the result in ST(0)&#160;is called&#160;the&#160;<b>partial remainder</b>. The&#160;exponent of&#160;the partial remainder&#160;will be less&#160;<br/>than the exponent of the original&#160;dividend&#160;by at&#160;least 32. Software&#160;can re-execute&#160;the instruction (using the partial&#160;<br/>remainder in ST(0) as the&#160;dividend) until C2 is cleared. (Note that while&#160;executing such a remainder-computation&#160;<br/>loop, a&#160;higher-priority interrupting routine that&#160;needs&#160;the&#160;FPU&#160;can force a&#160;context switch in-between&#160;the instruc-<br/>tions in the loop.)<br/>An important use of&#160;the&#160;FPREM&#160;instruction is&#160;to reduce the&#160;arguments of&#160;periodic&#160;functions. When&#160;reduction is&#160;<br/>complete, the&#160;instruction&#160;stores the&#160;three&#160;least-significant bits of the&#160;quotient in&#160;the C3,&#160;C1,&#160;and C0 flags&#160;of&#160;the FPU&#160;</p>
<p style="position:absolute;top:128px;left:72px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:128px;left:193px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:128px;left:328px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:144px;left:328px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:128px;left:401px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:144px;left:401px;white-space:nowrap" class="ft04">Leg Mode</p>
<p style="position:absolute;top:128px;left:486px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:166px;left:72px;white-space:nowrap" class="ft04">D9 F8</p>
<p style="position:absolute;top:166px;left:193px;white-space:nowrap" class="ft04">FPREM</p>
<p style="position:absolute;top:166px;left:328px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:401px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:486px;white-space:nowrap" class="ft04">Replace&#160;ST(0) with&#160;the remainder&#160;obtained&#160;from&#160;dividing&#160;</p>
<p style="position:absolute;top:182px;left:486px;white-space:nowrap" class="ft04">ST(0)&#160;by ST(1).</p>
<p style="position:absolute;top:455px;left:360px;white-space:nowrap" class="ft03">Table&#160;3-31.&#160; FPREM Results</p>
<p style="position:absolute;top:480px;left:474px;white-space:nowrap" class="ft04">ST(1)</p>
<p style="position:absolute;top:507px;left:265px;white-space:nowrap" class="ft00">-</p>
<p style="position:absolute;top:503px;left:269px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:505px;left:354px;white-space:nowrap" class="ft04">-F</p>
<p style="position:absolute;top:505px;left:442px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:505px;left:526px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:505px;left:613px;white-space:nowrap" class="ft04">+F</p>
<p style="position:absolute;top:505px;left:699px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:503px;left:707px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:504px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:531px;left:180px;white-space:nowrap" class="ft00">-</p>
<p style="position:absolute;top:527px;left:184px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:529px;left:269px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:357px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:531px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:618px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:705px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:528px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:552px;left:75px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:553px;left:181px;white-space:nowrap" class="ft04">-F</p>
<p style="position:absolute;top:553px;left:255px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:553px;left:338px;white-space:nowrap" class="ft04">-F or -0</p>
<p style="position:absolute;top:553px;left:443px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:553px;left:528px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:553px;left:599px;white-space:nowrap" class="ft04">-F&#160;or&#160;-0</p>
<p style="position:absolute;top:553px;left:691px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:552px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:577px;left:181px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:577px;left:266px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:577px;left:354px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:577px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:577px;left:531px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:577px;left:615px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:577px;left:702px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:576px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:601px;left:179px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:601px;left:264px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:601px;left:352px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:601px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:601px;left:531px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:601px;left:613px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:601px;left:700px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:600px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:625px;left:179px;white-space:nowrap" class="ft04">+F</p>
<p style="position:absolute;top:625px;left:255px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:625px;left:335px;white-space:nowrap" class="ft04">+F or +0</p>
<p style="position:absolute;top:625px;left:443px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:625px;left:528px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:625px;left:595px;white-space:nowrap" class="ft04">+F&#160;or&#160;+0</p>
<p style="position:absolute;top:625px;left:691px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:624px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:649px;left:178px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:647px;left:186px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:649px;left:269px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:357px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:531px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:618px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:705px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:648px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:175px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:260px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:348px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:436px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:521px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:608px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:696px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:672px;left:781px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:696px;left:75px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:715px;left:75px;white-space:nowrap" class="ft010">F&#160;Means&#160;finite&#160;floating-point&#160;value.<br/>*&#160;Indicates&#160;floating-point&#160;invalid-arithmetic-operand&#160;(#IA)&#160;exception.<br/>**&#160;Indicates floating-point&#160;zero-divide&#160;(#Z)&#160;exception.</p>
</div>
</body>
</html>
