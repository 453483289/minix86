<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 642</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page642-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481642.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:682px;white-space:nowrap" class="ft00">LAR—Load&#160;Access&#160;Rights Byte</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-514&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">LAR—Load Access Rights Byte</p>
<p style="position:absolute;top:278px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:362px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:387px;left:68px;white-space:nowrap" class="ft07">Loads&#160;the access rights&#160;from&#160;the segment descriptor&#160;specified by the&#160;second&#160;operand (source&#160;operand) into the&#160;<br/>first operand&#160;(destination operand)&#160;and sets the&#160;ZF&#160;flag&#160;in&#160;the flag&#160;register. The source&#160;operand&#160;(which&#160;can be a&#160;<br/>register or&#160;a memory&#160;location) contains the&#160;segment&#160;selector for the&#160;segment&#160;descriptor being accessed. If&#160;the&#160;<br/>source&#160;operand is&#160;a memory&#160;address, only 16 bits&#160;of&#160;data are accessed. The destination&#160;operand is&#160;a general-<br/>purpose register.<br/>The processor performs access checks&#160;as part&#160;of&#160;the loading process.&#160;Once loaded&#160;in&#160;the destination register,&#160;soft-<br/>ware&#160;can&#160;perform additional checks&#160;on the&#160;access rights information.&#160;<br/>The access rights&#160;for&#160;a segment descriptor&#160;include&#160;fields located&#160;in&#160;the&#160;second doubleword (bytes&#160;4–7) of&#160;the&#160;<br/>segment&#160;descriptor.&#160;The following&#160;fields&#160;are&#160;loaded&#160;by the&#160;LAR instruction:</p>
<p style="position:absolute;top:556px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:556px;left:93px;white-space:nowrap" class="ft04">Bits 7:0 are&#160;returned&#160;as 0</p>
<p style="position:absolute;top:578px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:579px;left:93px;white-space:nowrap" class="ft04">Bits 11:8 return&#160;the segment type.</p>
<p style="position:absolute;top:601px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:601px;left:93px;white-space:nowrap" class="ft04">Bit 12 returns&#160;the S flag.</p>
<p style="position:absolute;top:623px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:624px;left:93px;white-space:nowrap" class="ft04">Bits&#160;14:13&#160;return the&#160;DPL.</p>
<p style="position:absolute;top:646px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:646px;left:93px;white-space:nowrap" class="ft04">Bit 15 returns&#160;the P flag.</p>
<p style="position:absolute;top:668px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:669px;left:93px;white-space:nowrap" class="ft09">The following&#160;fields&#160;are&#160;returned only if&#160;the operand&#160;size&#160;is&#160;greater than 16 bits:<br/>—&#160;Bits&#160;19:16&#160;are&#160;undefined.<br/>—&#160;Bit 20 returns&#160;the software-available&#160;bit in&#160;the descriptor.<br/>—&#160;Bit 21 returns&#160;the L flag.<br/>—&#160;Bit 22 returns&#160;the D/B&#160;flag.<br/>—&#160;Bit 23 returns&#160;the G&#160;flag.<br/>—&#160;Bits&#160;31:24&#160;are&#160;returned&#160;as&#160;0.</p>
<p style="position:absolute;top:837px;left:68px;white-space:nowrap" class="ft04">This&#160;instruction performs the following&#160;checks before&#160;it loads the&#160;access&#160;rights in&#160;the&#160;destination&#160;register:&#160;</p>
<p style="position:absolute;top:859px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:859px;left:93px;white-space:nowrap" class="ft04">Checks that the&#160;segment&#160;selector is&#160;not&#160;NULL.</p>
<p style="position:absolute;top:881px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:882px;left:93px;white-space:nowrap" class="ft07">Checks that the segment&#160;selector points&#160;to a&#160;descriptor&#160;that is&#160;within&#160;the limits&#160;of&#160;the GDT&#160;or LDT being&#160;<br/>accessed</p>
<p style="position:absolute;top:920px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:921px;left:93px;white-space:nowrap" class="ft07">Checks that the descriptor&#160;type is valid&#160;for this instruction.&#160;All code&#160;and data segment descriptors are valid for&#160;<br/>(can be accessed&#160;with)&#160;the LAR&#160;instruction. The&#160;valid&#160;system segment and&#160;gate&#160;descriptor types are&#160;given in&#160;<br/><a href="o_b5573232dd8f1481-643.html">Table 3-52</a>.&#160;</p>
<p style="position:absolute;top:976px;left:68px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:976px;left:93px;white-space:nowrap" class="ft07">If the&#160;segment is&#160;not&#160;a conforming code&#160;segment,&#160;it checks&#160;that the&#160;specified segment descriptor&#160;is visible at&#160;<br/>the&#160;CPL (that is, if the CPL and the RPL&#160;of&#160;the&#160;segment selector are&#160;less than or equal to the DPL of the segment&#160;<br/>selector).</p>
<p style="position:absolute;top:1033px;left:68px;white-space:nowrap" class="ft07">If the&#160;segment descriptor cannot be accessed or is an&#160;invalid&#160;type for the instruction, the ZF&#160;flag&#160;is&#160;cleared&#160;and&#160;no&#160;<br/>access&#160;rights are loaded&#160;in&#160;the destination operand.</p>
<p style="position:absolute;top:123px;left:73px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:123px;left:221px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:389px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:389px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:427px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:427px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:499px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:499px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:123px;left:569px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:73px;white-space:nowrap" class="ft04">0F 02&#160;/<i>r</i></p>
<p style="position:absolute;top:160px;left:221px;white-space:nowrap" class="ft04">LAR&#160;<i>r16, r16/m16</i></p>
<p style="position:absolute;top:160px;left:389px;white-space:nowrap" class="ft04">RM</p>
<p style="position:absolute;top:160px;left:427px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:499px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:569px;white-space:nowrap" class="ft06"><i>r16</i>&#160;←<i>&#160;</i>access rights referenced&#160;by&#160;<i>r16/m16</i></p>
<p style="position:absolute;top:182px;left:73px;white-space:nowrap" class="ft04">0F 02&#160;/<i>r</i></p>
<p style="position:absolute;top:182px;left:221px;white-space:nowrap" class="ft04">LAR<i>&#160;reg, r32/m16</i></p>
<p style="position:absolute;top:180px;left:325px;white-space:nowrap" class="ft00">1</p>
<p style="position:absolute;top:182px;left:389px;white-space:nowrap" class="ft04">RM</p>
<p style="position:absolute;top:182px;left:427px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:182px;left:499px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:182px;left:569px;white-space:nowrap" class="ft06"><i>reg&#160;</i>←&#160;access rights referenced&#160;by&#160;<i>r32/m16</i></p>
<p style="position:absolute;top:205px;left:73px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:222px;left:73px;white-space:nowrap" class="ft04">1. For all loads (regardless&#160;of&#160;source or destination sizing) only bits 16-0&#160;are used.&#160;Other bits are ignored.</p>
<p style="position:absolute;top:301px;left:95px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:301px;left:214px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:301px;left:385px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:301px;left:553px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:301px;left:722px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:325px;left:104px;white-space:nowrap" class="ft04">RM</p>
<p style="position:absolute;top:325px;left:201px;white-space:nowrap" class="ft04">ModRM:reg (w)</p>
<p style="position:absolute;top:325px;left:374px;white-space:nowrap" class="ft04">ModRM:r/m (r)</p>
<p style="position:absolute;top:325px;left:574px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:325px;left:743px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
