<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1217</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1217-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811217.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">RDPMC‚ÄîRead&#160;Performance-Monitoring&#160;Counters</p>
<p style="position:absolute;top:47px;left:635px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE,&#160;M-U</p>
<p style="position:absolute;top:1103px;left:763px;white-space:nowrap" class="ft00">Vol. 2B&#160;4-537</p>
<p style="position:absolute;top:98px;left:69px;white-space:nowrap" class="ft02">RDPMC‚ÄîRead Performance-Monitoring Counters</p>
<p style="position:absolute;top:233px;left:354px;white-space:nowrap" class="ft03">Instruction Operand&#160;Encoding</p>
<p style="position:absolute;top:320px;left:69px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:346px;left:69px;white-space:nowrap" class="ft07">The EAX register&#160;is loaded with&#160;the low-order 32 bits. The EDX register is loaded&#160;with the supported&#160;high-order bits&#160;<br/>of the counter. The number of&#160;high-order bits loaded&#160;into EDX is implementation specific on processors that do no&#160;<br/>support architectural performance monitoring. The width of&#160;fixed-function&#160;and general-purpose performance coun-<br/>ters on&#160;processors&#160;supporting architectural performance&#160;monitoring are reported by&#160;CPUID 0AH leaf.&#160;See below for&#160;<br/>the treatment of the&#160;EDX register&#160;for&#160;‚Äúfast‚Äù&#160;reads.<br/>The ECX register&#160;specifies the&#160;counter&#160;type (if&#160;the processor supports architectural&#160;performance monitoring) and&#160;<br/>counter index. Counter type&#160;is&#160;specified in&#160;ECX[30] to&#160;select&#160;one of&#160;two type of&#160;performance counters. If the&#160;<br/>processor does not&#160;support architectural performance&#160;monitoring,&#160;ECX[30:0] specifies the&#160;counter index;&#160;other-<br/>wise&#160;ECX[29:0] specifies&#160;the&#160;index&#160;relative&#160;to&#160;the&#160;base of&#160;each counter type.&#160;ECX[31]&#160;selects&#160;‚Äúfast‚Äù&#160;read mode&#160;if&#160;<br/>supported. The two counter types are :&#160;</p>
<p style="position:absolute;top:524px;left:69px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:525px;left:95px;white-space:nowrap" class="ft07">General-purpose or special-purpose&#160;performance&#160;counters&#160;are specified&#160;with ECX[30]&#160;= 0:&#160;The&#160;number of&#160;<br/>general-purpose performance&#160;counters on processor supporting architectural performance&#160;monitoring are&#160;<br/>reported by CPUID&#160;0AH&#160;leaf.&#160;The&#160;number of&#160;general-purpose counters&#160;is&#160;model specific if the&#160;processor&#160;does&#160;<br/>not support architectural performance&#160;monitoring,&#160;<a href="˛ˇ">see Chapter 18, ‚ÄúPerformance Monitoring‚Äù</a>&#160;of&#160;<a href="˛ˇ"><i>Intel¬Æ 64&#160;and&#160;<br/>IA-32&#160;Architectures&#160;Software&#160;Developer‚Äôs Manual, Volume&#160;3B</i>.&#160;</a>Special-purpose&#160;counters&#160;are available&#160;only&#160;in&#160;<br/>selected processor members,&#160;se<a href="o_b5573232dd8f1481-1217.html">e&#160;Table&#160;4-16.</a></p>
<p style="position:absolute;top:629px;left:69px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:630px;left:95px;white-space:nowrap" class="ft09">Fixed-function performance counter are specified&#160;with&#160;ECX[30]&#160;=&#160;1. The&#160;number fixed-function&#160;performance&#160;<br/>counters&#160;is enumerated&#160;by&#160;CPUID&#160;0AH&#160;leaf.&#160;See Chapter&#160;30&#160;of&#160;<a href="˛ˇ"><i>Intel¬Æ 64&#160;and IA-32 Architectures&#160;Software&#160;<br/>Developer‚Äôs Manual, Volume&#160;3B</i></a>. This counter type is&#160;selected&#160;if&#160;ECX[30]&#160;is set.</p>
<p style="position:absolute;top:687px;left:69px;white-space:nowrap" class="ft09">The width&#160;of&#160;fixed-function&#160;performance&#160;counters and&#160;general-purpose performance&#160;counters on&#160;processor&#160;<br/>supporting&#160;architectural&#160;performance monitoring are reported&#160;by&#160;CPUID 0AH leaf. The width of general-purpose&#160;<br/>performance counters&#160;are 40-bits&#160;for&#160;processors&#160;that do&#160;not support architectural&#160;performance&#160;monitoring&#160;coun-<br/>ters. The&#160;width of special-purpose performance counters&#160;are implementation&#160;specific.&#160;<br/><a href="o_b5573232dd8f1481-1217.html">Table&#160;4-16&#160;lists&#160;</a>valid indices of&#160;the&#160;general-purpose and&#160;special-purpose performance counters according to&#160;the&#160;<br/>DisplayFamily_DisplayModel values of CPUID encoding&#160;for each processor family (see&#160;CPUID&#160;instruction in&#160;<a href="˛ˇ">Chapter&#160;<br/>3, ‚ÄúInstruction Set&#160;Reference, A-L‚Äù&#160;in the&#160;<i>Intel¬Æ&#160;64&#160;and IA-32&#160;Architectures Software Developer‚Äôs Manual, Volume&#160;<br/>2A</i>).&#160;</a></p>
<p style="position:absolute;top:123px;left:73px;white-space:nowrap" class="ft04">Opcode*</p>
<p style="position:absolute;top:123px;left:221px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:388px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:389px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:426px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:426px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:498px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:498px;white-space:nowrap" class="ft04">Leg Mode</p>
<p style="position:absolute;top:123px;left:568px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:73px;white-space:nowrap" class="ft04">0F&#160;33</p>
<p style="position:absolute;top:160px;left:221px;white-space:nowrap" class="ft04">RDPMC</p>
<p style="position:absolute;top:160px;left:389px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:160px;left:426px;white-space:nowrap" class="ft04">Valid&#160;</p>
<p style="position:absolute;top:160px;left:498px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:568px;white-space:nowrap" class="ft04">Read&#160;performance-monitoring&#160;counter&#160;</p>
<p style="position:absolute;top:177px;left:568px;white-space:nowrap" class="ft04">specified by&#160;ECX into&#160;EDX:EAX.</p>
<p style="position:absolute;top:256px;left:84px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:256px;left:187px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:256px;left:358px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:256px;left:534px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:256px;left:715px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:280px;left:93px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:280px;left:209px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:280px;left:379px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:280px;left:555px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:280px;left:736px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:851px;left:140px;white-space:nowrap" class="ft03">Table 4-16.&#160;&#160;Valid&#160;General and&#160;Special Purpose&#160;Performance Counter&#160;Index Range for&#160;RDPMC</p>
<p style="position:absolute;top:880px;left:76px;white-space:nowrap" class="ft04">Processor Family</p>
<p style="position:absolute;top:880px;left:345px;white-space:nowrap" class="ft04">DisplayFamily_DisplayModel/&#160;</p>
<p style="position:absolute;top:895px;left:345px;white-space:nowrap" class="ft04">Other Signatures</p>
<p style="position:absolute;top:880px;left:549px;white-space:nowrap" class="ft04">Valid PMC&#160;Index&#160;</p>
<p style="position:absolute;top:895px;left:549px;white-space:nowrap" class="ft04">Range</p>
<p style="position:absolute;top:880px;left:699px;white-space:nowrap" class="ft04">General-purpose&#160;</p>
<p style="position:absolute;top:895px;left:699px;white-space:nowrap" class="ft04">Counters</p>
<p style="position:absolute;top:916px;left:76px;white-space:nowrap" class="ft04">P6</p>
<p style="position:absolute;top:916px;left:345px;white-space:nowrap" class="ft04">06H_01H, 06H_03H, 06H_05H,&#160;</p>
<p style="position:absolute;top:933px;left:345px;white-space:nowrap" class="ft04">06H_06H, 06H_07H, 06H_08H,&#160;</p>
<p style="position:absolute;top:949px;left:345px;white-space:nowrap" class="ft04">06H_0AH,&#160;06H_0BH</p>
<p style="position:absolute;top:916px;left:549px;white-space:nowrap" class="ft04">0, 1</p>
<p style="position:absolute;top:916px;left:699px;white-space:nowrap" class="ft04">0, 1</p>
<p style="position:absolute;top:970px;left:76px;white-space:nowrap" class="ft04">Processors&#160;Based&#160;on&#160;Intel&#160;NetBurst&#160;</p>
<p style="position:absolute;top:987px;left:76px;white-space:nowrap" class="ft04">microarchitecture (No L3)</p>
<p style="position:absolute;top:970px;left:345px;white-space:nowrap" class="ft04">0FH_00H,&#160;0FH_01H,&#160;0FH_02H,&#160;</p>
<p style="position:absolute;top:987px;left:345px;white-space:nowrap" class="ft04">0FH_03H,&#160;0FH_04H,&#160;0FH_06H</p>
<p style="position:absolute;top:971px;left:549px;white-space:nowrap" class="ft04">‚â•&#160;0 and&#160;‚â§&#160;17</p>
<p style="position:absolute;top:971px;left:699px;white-space:nowrap" class="ft04">‚â•&#160;0 and&#160;‚â§&#160;17</p>
<p style="position:absolute;top:1008px;left:76px;white-space:nowrap" class="ft04">Pentium M&#160;processors</p>
<p style="position:absolute;top:1008px;left:345px;white-space:nowrap" class="ft04">06H_09H, 06H_0DH</p>
<p style="position:absolute;top:1008px;left:549px;white-space:nowrap" class="ft04">0, 1</p>
<p style="position:absolute;top:1008px;left:699px;white-space:nowrap" class="ft04">0, 1</p>
<p style="position:absolute;top:1029px;left:76px;white-space:nowrap" class="ft04">Processors&#160;Based&#160;on&#160;Intel&#160;NetBurst&#160;</p>
<p style="position:absolute;top:1045px;left:76px;white-space:nowrap" class="ft04">microarchitecture (No L3)</p>
<p style="position:absolute;top:1029px;left:345px;white-space:nowrap" class="ft04">0FH_03H, 0FH_04H) and (L3 is&#160;</p>
<p style="position:absolute;top:1045px;left:345px;white-space:nowrap" class="ft04">present)</p>
<p style="position:absolute;top:1030px;left:549px;white-space:nowrap" class="ft04">‚â•&#160;0 and&#160;‚â§&#160;25</p>
<p style="position:absolute;top:1030px;left:699px;white-space:nowrap" class="ft04">‚â•&#160;0 and&#160;‚â§&#160;17</p>
</div>
</body>
</html>
