<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 249</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:14px;font-family:Times;color:#0860a8;}
	.ft06{font-size:14px;font-family:Times;color:#0860a8;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:12px;font-family:Times;color:#0860a8;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft013{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft014{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
	.ft015{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page249-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a249.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:768px;white-space:nowrap" class="ft00">Vol. 1&#160;10-13</p>
<p style="position:absolute;top:47px;left:420px;white-space:nowrap" class="ft01">PROGRAMMING WITH INTEL¬Æ STREAMING SIMD EXTENSIONS (INTEL¬Æ SSE)</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft02">‚Ä¢</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft03">The non-temporal&#160;data is&#160;written to&#160;memory with WC semantics.</p>
<p style="position:absolute;top:124px;left:69px;white-space:nowrap" class="ft011">See&#160;<a href="˛ˇ">also: Chapter&#160;11, ‚ÄúMemory Cache&#160;Control,‚Äù in the&#160;</a><i>Intel¬Æ 64 and IA-32 Architectures&#160;Software&#160;Developer‚Äôs&#160;<br/>Manual, Volume&#160;3A.<br/></i>Using the WC semantics, the store&#160;transaction will be&#160;weakly&#160;ordered, meaning&#160;that&#160;the data&#160;may not be written to&#160;<br/>memory&#160;in&#160;program&#160;order,&#160;and&#160;the store&#160;will not write&#160;allocate (that is, the processor&#160;will not fetch&#160;the corre-<br/>sponding&#160;cache&#160;line into the cache&#160;hierarchy,&#160;prior to&#160;performing&#160;the store). Also, different processor implementa-<br/>tions&#160;may choose&#160;to collapse and combine&#160;these&#160;stores.<br/>The&#160;memory type of&#160;the region&#160;being written to&#160;can override the&#160;non-temporal hint, if&#160;the&#160;memory&#160;address speci-<br/>fied&#160;for the non-temporal store is in&#160;uncacheable&#160;memory. Uncacheable as referred to here means&#160;that the region&#160;<br/>being&#160;written to&#160;has&#160;been mapped&#160;with either an&#160;uncacheable (UC)&#160;or write protected (WP)&#160;memory&#160;type.<br/>In general, WC semantics&#160;require&#160;software&#160;to ensure&#160;coherence, with respect&#160;to other&#160;processors&#160;and other&#160;system&#160;<br/>agents (such&#160;as&#160;graphics cards).&#160;Appropriate&#160;use of&#160;synchronization and&#160;fencing must be performed for producer-<br/>consumer usage models.&#160;Fencing ensures&#160;that all&#160;system&#160;agents have&#160;global visibility&#160;of the&#160;stored&#160;data; for&#160;<br/>instance, failure to fence&#160;may&#160;result&#160;in a written cache line&#160;staying within a&#160;processor and not being&#160;visible&#160;to&#160;other&#160;<br/>agents.&#160;<br/>The&#160;memory type&#160;visible on&#160;the&#160;bus&#160;in the&#160;presence&#160;of memory type&#160;aliasing&#160;is implementation specific.&#160;As&#160;one&#160;<br/>possible example, the memory type written to the bus may reflect the memory type for the first store to this line,&#160;<br/>as seen in&#160;program&#160;order; other&#160;alternatives are possible.&#160;This&#160;behavior should be&#160;considered&#160;reserved,&#160;and&#160;<br/>dependence&#160;on the&#160;behavior of any&#160;particular&#160;implementation risks future incompatibility.</p>
<p style="position:absolute;top:469px;left:433px;white-space:nowrap" class="ft05">NOTE</p>
<p style="position:absolute;top:495px;left:122px;white-space:nowrap" class="ft011">Some&#160;older CPU implementations&#160;(e.g.,&#160;Pentium&#160;M)&#160;may implement non-temporal&#160;stores by&#160;<br/>updating in&#160;place&#160;data&#160;that&#160;already&#160;reside&#160;in the&#160;cache&#160;hierarchy.&#160;For such processors,&#160;the&#160;<br/>destination&#160;region&#160;should also be mapped as WC. If&#160;mapped as WB&#160;or WT, there is&#160;the&#160;potential for&#160;<br/>speculative processor reads to&#160;bring&#160;the data into&#160;the caches;&#160;in this case,&#160;non-temporal&#160;stores&#160;<br/>would&#160;then update in&#160;place, and data&#160;would&#160;not&#160;be flushed&#160;from&#160;the processor by a&#160;subsequent&#160;<br/>fencing operation.</p>
<p style="position:absolute;top:622px;left:69px;white-space:nowrap" class="ft05">10.4.6.3 &#160;&#160;PREFETCH<i>h</i>&#160;Instructions</p>
<p style="position:absolute;top:650px;left:69px;white-space:nowrap" class="ft012">The PREFETCH<i>h</i>&#160;instructions permit programs to&#160;load&#160;data into the&#160;processor at a&#160;suggested&#160;cache&#160;level,&#160;so&#160;that&#160;<br/>the data is closer to the processor‚Äôs load and store unit when it is needed.&#160;These instructions fetch 32 aligned bytes&#160;<br/>(or more, depending on the&#160;implementation) containing&#160;the addressed byte&#160;to a&#160;location in the&#160;cache&#160;hierarchy&#160;<br/>specified&#160;by&#160;the&#160;temporal&#160;locality&#160;hint&#160;(see<a href="o_7281d5ea06a5b67a-249.html">&#160;Table&#160;10-1</a>).&#160;In&#160;this&#160;table, the first-level cache is closest to the processor&#160;<br/>and second-level cache&#160;is&#160;farther&#160;away&#160;from&#160;the processor&#160;than&#160;the&#160;first-level cache.&#160;The hints&#160;specify a&#160;prefetch&#160;<br/>of either temporal or&#160;non-tempor<a href="o_7281d5ea06a5b67a-248.html">al data (see Section 10.4.6.2, ‚ÄúCaching of&#160;Temporal&#160;vs. Non-Temporal Data‚Äù</a>).&#160;<br/>Subsequent accesses&#160;to temporal data are&#160;treated like&#160;normal&#160;accesses, while&#160;those to&#160;non-temporal data will&#160;<br/>continue to minimize cache pollution. If the&#160;data&#160;is already&#160;present&#160;at a&#160;level of the&#160;cache hierarchy that&#160;is closer&#160;<br/>to the processor,&#160;the&#160;PREFETCH<i>h</i>&#160;instruction will&#160;not&#160;result in any data movement. The&#160;PREFETCH<i>h</i>&#160;instructions&#160;do&#160;<br/>not affect functional behavior of the program.<br/>Se<a href="o_7281d5ea06a5b67a-279.html">e Section 11.6.13,&#160;‚ÄúCacheability Hint Instructions,‚Äù</a>&#160;for additional information about the&#160;PREFETCH<i>h</i>&#160;instructions.</p>
<p style="position:absolute;top:853px;left:280px;white-space:nowrap" class="ft07">Table&#160;10-1.&#160;&#160;PREFETCH<i>h</i>&#160;Instructions&#160;Caching&#160;Hints</p>
<p style="position:absolute;top:878px;left:97px;white-space:nowrap" class="ft03">PREFETCH<i>h</i>&#160;Instruction&#160;</p>
<p style="position:absolute;top:894px;left:136px;white-space:nowrap" class="ft03">Mnemonic</p>
<p style="position:absolute;top:894px;left:526px;white-space:nowrap" class="ft03">Actions</p>
<p style="position:absolute;top:918px;left:77px;white-space:nowrap" class="ft03">PREFETCHT0</p>
<p style="position:absolute;top:918px;left:268px;white-space:nowrap" class="ft014">Temporal data‚Äîfetch&#160;data into&#160;all levels of&#160;cache hierarchy:<br/>‚Ä¢ Pentium III processor‚Äî1st-level cache or 2nd-level cache<br/>‚Ä¢ Pentium&#160;4&#160;and Intel Xeon&#160;processor‚Äî2nd-level cache</p>
<p style="position:absolute;top:984px;left:77px;white-space:nowrap" class="ft03">PREFETCHT1</p>
<p style="position:absolute;top:984px;left:268px;white-space:nowrap" class="ft015">Temporal data‚Äîfetch&#160;data into&#160;level&#160;2 cache&#160;and higher<br/>‚Ä¢ Pentium III processor‚Äî2nd-level cache<br/>‚Ä¢ Pentium&#160;4&#160;and Intel Xeon&#160;processor‚Äî2nd-level cache</p>
</div>
</body>
</html>
