<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 284</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page284-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a284.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">12-4&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH INTEL® SSE3, SSSE3,&#160;INTEL®&#160;SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">12.3.4&#160;</p>
<p style="position:absolute;top:98px;left:148px;white-space:nowrap" class="ft02">SIMD Floating-Point&#160;Instructions&#160;Provide Packed Addition/Subtraction</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft06">The&#160;ADDSUBPS&#160;instruction has&#160;two&#160;128-bit operands.&#160;The&#160;instruction performs single-precision addition on the&#160;<br/>second&#160;and fourth pairs&#160;of 32-bit data elements within&#160;the&#160;operands; and&#160;single-precision subtraction on the&#160;first&#160;<br/>and third&#160;pairs.</p>
<p style="position:absolute;top:184px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:184px;left:93px;white-space:nowrap" class="ft07">ADDSUBPS OperandA,&#160;OperandB<br/>—&#160;OperandA&#160;(128&#160;bits,&#160;four data&#160;elements):&#160;3</p>
<p style="position:absolute;top:215px;left:412px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:208px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:215px;left:436px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:208px;left:443px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:215px;left:461px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:208px;left:467px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:215px;left:485px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:232px;left:93px;white-space:nowrap" class="ft03">—&#160;OperandB&#160;(128&#160;bits,&#160;four data elements): 3</p>
<p style="position:absolute;top:239px;left:412px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:232px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:239px;left:436px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:232px;left:443px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:239px;left:461px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:232px;left:467px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:239px;left:485px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:256px;left:93px;white-space:nowrap" class="ft03">—&#160;Result (stored in&#160;OperandA): 3</p>
<p style="position:absolute;top:263px;left:326px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:256px;left:333px;white-space:nowrap" class="ft03">+3</p>
<p style="position:absolute;top:263px;left:352px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:256px;left:359px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:263px;left:376px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:256px;left:383px;white-space:nowrap" class="ft03">-2</p>
<p style="position:absolute;top:263px;left:398px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:256px;left:404px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:263px;left:422px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:256px;left:428px;white-space:nowrap" class="ft03">+1</p>
<p style="position:absolute;top:263px;left:448px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:256px;left:455px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:263px;left:472px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:256px;left:479px;white-space:nowrap" class="ft03">-0</p>
<p style="position:absolute;top:263px;left:493px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:280px;left:68px;white-space:nowrap" class="ft06">The&#160;ADDSUBPD&#160;instruction has&#160;two&#160;128-bit operands.&#160;The&#160;instruction performs&#160;double-precision addition on the&#160;<br/>second pair of&#160;quadwords, and double-precision&#160;subtraction&#160;on&#160;the first&#160;pair.</p>
<p style="position:absolute;top:319px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:319px;left:93px;white-space:nowrap" class="ft07">ADDSUBPD OperandA,&#160;OperandB<br/>—&#160;OperandA&#160;(128&#160;bits,&#160;two data&#160;elements):&#160;1</p>
<p style="position:absolute;top:350px;left:409px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:343px;left:416px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:350px;left:434px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:367px;left:93px;white-space:nowrap" class="ft03">—&#160;OperandB&#160;(128&#160;bits,&#160;two data elements): 1</p>
<p style="position:absolute;top:374px;left:409px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:367px;left:416px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:374px;left:434px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:391px;left:93px;white-space:nowrap" class="ft03">—&#160;Result (stored in&#160;OperandA): 1</p>
<p style="position:absolute;top:398px;left:326px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:391px;left:333px;white-space:nowrap" class="ft03">+1</p>
<p style="position:absolute;top:398px;left:352px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:391px;left:359px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:398px;left:376px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:391px;left:383px;white-space:nowrap" class="ft03">-0</p>
<p style="position:absolute;top:398px;left:398px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:442px;left:68px;white-space:nowrap" class="ft02">12.3.5&#160;</p>
<p style="position:absolute;top:442px;left:148px;white-space:nowrap" class="ft02">SIMD Floating-Point&#160;Instructions&#160;Provide Horizontal Addition/Subtraction</p>
<p style="position:absolute;top:472px;left:68px;white-space:nowrap" class="ft06">Most&#160;SIMD instructions operate&#160;vertically. This means&#160;that&#160;the result in position i is&#160;a&#160;function of the&#160;elements&#160;in&#160;<br/>position i&#160;of&#160;both operands. Horizontal addition/subtraction&#160;operates horizontally. This means&#160;that contiguous data&#160;<br/>elements in&#160;the same&#160;source operand&#160;are used to&#160;produce&#160;a result.<br/>The HADDPS&#160;instruction&#160;performs a single-precision addition&#160;on&#160;contiguous data elements. The first&#160;data&#160;element&#160;<br/>of&#160;the result is obtained by adding the first and second elements of the first operand;&#160;the second&#160;element by adding&#160;<br/>the third and fourth elements of the first operand; the third by adding the first and second elements of the second&#160;<br/>operand; and&#160;the fourth by adding&#160;the third&#160;and&#160;fourth elements of the&#160;second&#160;operand.</p>
<p style="position:absolute;top:601px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:601px;left:93px;white-space:nowrap" class="ft08">HADDPS&#160;OperandA,&#160;OperandB<br/>—&#160;OperandA&#160;(128&#160;bits,&#160;four data&#160;elements):&#160;3</p>
<p style="position:absolute;top:632px;left:412px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:625px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:632px;left:436px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:625px;left:443px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:632px;left:461px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:625px;left:467px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:632px;left:485px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:649px;left:93px;white-space:nowrap" class="ft03">—&#160;OperandB&#160;(128&#160;bits,&#160;four data elements): 3</p>
<p style="position:absolute;top:656px;left:412px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:649px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:656px;left:436px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:649px;left:443px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:656px;left:461px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:649px;left:467px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:656px;left:485px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:673px;left:93px;white-space:nowrap" class="ft03">—&#160;Result&#160;(Stored in OperandA): 3</p>
<p style="position:absolute;top:680px;left:328px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:673px;left:335px;white-space:nowrap" class="ft03">+2</p>
<p style="position:absolute;top:680px;left:355px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:673px;left:361px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:680px;left:379px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:673px;left:386px;white-space:nowrap" class="ft03">+0</p>
<p style="position:absolute;top:680px;left:405px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:673px;left:412px;white-space:nowrap" class="ft03">, 3</p>
<p style="position:absolute;top:680px;left:429px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:673px;left:436px;white-space:nowrap" class="ft03">+2</p>
<p style="position:absolute;top:680px;left:456px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:673px;left:462px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:680px;left:480px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:673px;left:486px;white-space:nowrap" class="ft03">+0</p>
<p style="position:absolute;top:680px;left:506px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:697px;left:68px;white-space:nowrap" class="ft06">The&#160;HSUBPS instruction performs&#160;a single-precision&#160;subtraction&#160;on&#160;contiguous&#160;data&#160;elements. The&#160;first data&#160;<br/>element of the&#160;result&#160;is obtained by&#160;subtracting&#160;the second element of the&#160;first operand&#160;from the&#160;first element of&#160;<br/>the first operand;&#160;the second&#160;element&#160;by&#160;subtracting&#160;the fourth&#160;element&#160;of&#160;the first operand from the&#160;third element&#160;<br/>of the first operand;&#160;the third&#160;by subtracting the&#160;second&#160;element&#160;of&#160;the second operand&#160;from&#160;the first element of&#160;<br/>the&#160;second&#160;operand; and&#160;the fourth by subtracting&#160;the&#160;fourth element of the second&#160;operand from the&#160;third&#160;<br/>element of the&#160;second&#160;operand.</p>
<p style="position:absolute;top:802px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:802px;left:93px;white-space:nowrap" class="ft07">HSUBPS OperandA,&#160;OperandB<br/>—&#160;OperandA&#160;(128&#160;bits,&#160;four data&#160;elements):&#160;3</p>
<p style="position:absolute;top:833px;left:412px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:826px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:833px;left:436px;white-space:nowrap" class="ft05">a,</p>
<p style="position:absolute;top:826px;left:447px;white-space:nowrap" class="ft03">&#160;1</p>
<p style="position:absolute;top:833px;left:460px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:826px;left:466px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:833px;left:484px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:850px;left:93px;white-space:nowrap" class="ft03">—&#160;OperandB&#160;(128&#160;bits,&#160;four data elements): 3</p>
<p style="position:absolute;top:857px;left:412px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:850px;left:419px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:857px;left:436px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:850px;left:443px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:857px;left:461px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:850px;left:467px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:857px;left:485px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:874px;left:93px;white-space:nowrap" class="ft03">—&#160;Result&#160;(Stored in OperandA): 2</p>
<p style="position:absolute;top:881px;left:328px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:874px;left:335px;white-space:nowrap" class="ft03">-3</p>
<p style="position:absolute;top:881px;left:350px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:874px;left:356px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:881px;left:374px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:874px;left:381px;white-space:nowrap" class="ft03">-1</p>
<p style="position:absolute;top:881px;left:395px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:874px;left:402px;white-space:nowrap" class="ft03">, 2</p>
<p style="position:absolute;top:881px;left:420px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:874px;left:426px;white-space:nowrap" class="ft03">-3</p>
<p style="position:absolute;top:881px;left:441px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:874px;left:447px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:881px;left:465px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:874px;left:472px;white-space:nowrap" class="ft03">-1</p>
<p style="position:absolute;top:881px;left:486px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:898px;left:68px;white-space:nowrap" class="ft06">The HADDPD instruction performs&#160;a double-precision&#160;addition&#160;on contiguous data elements.&#160;The first&#160;data element&#160;<br/>of&#160;the result is obtained by adding the first and second elements of the first operand;&#160;the second&#160;element by adding&#160;<br/>the first&#160;and second&#160;elements of the&#160;second&#160;operand.</p>
<p style="position:absolute;top:953px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:954px;left:93px;white-space:nowrap" class="ft07">HADDPD&#160;OperandA,&#160;OperandB<br/>—&#160;OperandA&#160;(128&#160;bits,&#160;two data&#160;elements):&#160;1</p>
<p style="position:absolute;top:984px;left:409px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:978px;left:416px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:984px;left:434px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:1002px;left:93px;white-space:nowrap" class="ft03">—&#160;OperandB&#160;(128&#160;bits,&#160;two data elements): 1</p>
<p style="position:absolute;top:1008px;left:409px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:1002px;left:416px;white-space:nowrap" class="ft03">, 0</p>
<p style="position:absolute;top:1008px;left:434px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:1026px;left:93px;white-space:nowrap" class="ft03">—&#160;Result&#160;(Stored in OperandA): 1</p>
<p style="position:absolute;top:1032px;left:328px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:1026px;left:335px;white-space:nowrap" class="ft03">+0</p>
<p style="position:absolute;top:1032px;left:355px;white-space:nowrap" class="ft05">b</p>
<p style="position:absolute;top:1026px;left:361px;white-space:nowrap" class="ft03">, 1</p>
<p style="position:absolute;top:1032px;left:379px;white-space:nowrap" class="ft05">a</p>
<p style="position:absolute;top:1026px;left:385px;white-space:nowrap" class="ft03">+0</p>
<p style="position:absolute;top:1032px;left:405px;white-space:nowrap" class="ft05">a</p>
</div>
</body>
</html>
