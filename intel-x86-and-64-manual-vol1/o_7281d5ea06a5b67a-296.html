<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 296</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page296-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a296.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">12-16&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH INTEL® SSE3, SSSE3,&#160;INTEL®&#160;SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:289px;left:68px;white-space:nowrap" class="ft02">12.10.9&#160;&#160;Improved&#160;Sums of&#160;Absolute Differences (SAD)&#160;for 4-Byte Blocks</p>
<p style="position:absolute;top:319px;left:68px;white-space:nowrap" class="ft06">SSE4.1 adds an instruction (MPSADBW) that&#160;performs&#160;eight 4-byte&#160;wide SAD operations per instruction to produce&#160;<br/>eight results. Compared to PSADBW, MPSADBW operates on&#160;smaller&#160;chunks (4-byte instead of 8-byte chunks); this&#160;<br/>makes the&#160;instruction&#160;better suited&#160;to&#160;video coding standards&#160;such&#160;as VC.1&#160;and H.264. &#160;MPSADBW performs&#160;four&#160;<br/>times the number of&#160;absolute difference operations&#160;than&#160;that of PSADBW&#160;(per&#160;instruction). This&#160;can improve&#160;<br/>performance for dense&#160;motion&#160;searches.<br/>MPSADBW uses&#160;a 4-byte wide&#160;field&#160;from a&#160;source operand;&#160;the offset&#160;of&#160;the 4-byte field within the&#160;128-bit source&#160;<br/>operand is&#160;specified by&#160;two immediate control&#160;bits. MPSADBW produces&#160;eight 16-bit&#160;SAD results.&#160;Each 16-bit SAD&#160;<br/>result is formed&#160;from overlapping pairs&#160;of&#160;4&#160;bytes in the&#160;destination with&#160;the&#160;4-byte&#160;field from the source operand.&#160;<br/>MPSADBW&#160;uses eleven&#160;consecutive&#160;bytes in&#160;the destination operand,&#160;its offset is&#160;specified&#160;by&#160;a control bit in&#160;the&#160;<br/>immediate&#160;byte (i.e.&#160;the&#160;offset&#160;can be&#160;from byte&#160;0 or&#160;from byte&#160;<a href="o_7281d5ea06a5b67a-296.html">4). Figure 12-4 i</a>llustrates&#160;the operation of&#160;<br/>MPSADBW.&#160;MPSADBW can simplify&#160;coding&#160;of&#160;dense motion estimation by&#160;providing source&#160;and&#160;destination offset&#160;<br/>control, higher&#160;throughput of&#160;SAD&#160;operations, and&#160;the smaller chunk&#160;size.</p>
<p style="position:absolute;top:884px;left:68px;white-space:nowrap" class="ft02">12.10.10 Horizontal&#160;Search</p>
<p style="position:absolute;top:915px;left:68px;white-space:nowrap" class="ft06">SSE4.1&#160;adds a search&#160;instruction (PHMINPOSUW) that&#160;finds the value&#160;and location of&#160;the minimum&#160;unsigned&#160;word&#160;<br/>from&#160;one of 8&#160;horizontally packed unsigned words. &#160;The resulting value&#160;and&#160;location&#160;(offset within&#160;the source)&#160;are&#160;<br/>packed into&#160;the low dword&#160;of&#160;the destination XMM&#160;register.<br/>Rapid search&#160;is often&#160;a significant component&#160;of&#160;motion&#160;estimation. MPSADBW and&#160;PHMINPOSUW&#160;can&#160;be used&#160;<br/>together&#160;to improve video encode.</p>
<p style="position:absolute;top:100px;left:231px;white-space:nowrap" class="ft04">Table 12-6. &#160;New SIMD&#160;Integer&#160;Conversions Supported by&#160;SSE4.1&#160;</p>
<p style="position:absolute;top:128px;left:323px;white-space:nowrap" class="ft09">Source&#160;Type<br/>Byte</p>
<p style="position:absolute;top:150px;left:497px;white-space:nowrap" class="ft03">Word</p>
<p style="position:absolute;top:150px;left:670px;white-space:nowrap" class="ft03">Dword</p>
<p style="position:absolute;top:236px;left:83px;white-space:nowrap" class="ft05">Des</p>
<p style="position:absolute;top:214px;left:83px;white-space:nowrap" class="ft05">tinat</p>
<p style="position:absolute;top:185px;left:83px;white-space:nowrap" class="ft05">ion</p>
<p style="position:absolute;top:236px;left:98px;white-space:nowrap" class="ft05">Ty</p>
<p style="position:absolute;top:222px;left:98px;white-space:nowrap" class="ft05">pe</p>
<p style="position:absolute;top:171px;left:138px;white-space:nowrap" class="ft03">Word</p>
<p style="position:absolute;top:171px;left:323px;white-space:nowrap" class="ft03">8&#160;(64 bits)</p>
<p style="position:absolute;top:191px;left:138px;white-space:nowrap" class="ft03">Dword</p>
<p style="position:absolute;top:191px;left:323px;white-space:nowrap" class="ft03">4&#160;(32 bits)</p>
<p style="position:absolute;top:191px;left:497px;white-space:nowrap" class="ft03">4&#160;(64&#160;bits)</p>
<p style="position:absolute;top:213px;left:138px;white-space:nowrap" class="ft03">Qword</p>
<p style="position:absolute;top:213px;left:323px;white-space:nowrap" class="ft03">2&#160;(16 bits)</p>
<p style="position:absolute;top:213px;left:497px;white-space:nowrap" class="ft03">2&#160;(32 bits)</p>
<p style="position:absolute;top:213px;left:670px;white-space:nowrap" class="ft03">2&#160;(64 bits)</p>
<p style="position:absolute;top:841px;left:337px;white-space:nowrap" class="ft04">Figure&#160;12-4. &#160;MPSADBW Operation</p>
<p style="position:absolute;top:642px;left:520px;white-space:nowrap" class="ft00">Abs.&#160;Diff.</p>
<p style="position:absolute;top:732px;left:576px;white-space:nowrap" class="ft00">Sum</p>
<p style="position:absolute;top:572px;left:545px;white-space:nowrap" class="ft00">Imm[1:0]*32</p>
<p style="position:absolute;top:647px;left:597px;white-space:nowrap" class="ft00">Imm[2]*32</p>
<p style="position:absolute;top:636px;left:236px;white-space:nowrap" class="ft00">Source</p>
<p style="position:absolute;top:722px;left:233px;white-space:nowrap" class="ft00">Destination</p>
<p style="position:absolute;top:766px;left:656px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:767px;left:257px;white-space:nowrap" class="ft00">127</p>
<p style="position:absolute;top:766px;left:598px;white-space:nowrap" class="ft00">16</p>
<p style="position:absolute;top:584px;left:659px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:586px;left:230px;white-space:nowrap" class="ft00">127</p>
<p style="position:absolute;top:586px;left:324px;white-space:nowrap" class="ft00">96</p>
<p style="position:absolute;top:586px;left:434px;white-space:nowrap" class="ft00">64</p>
</div>
</body>
</html>
