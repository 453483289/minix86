<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 178</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page178-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a178.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">7-14&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH GENERAL-PURPOSE INSTRUCTIONS</p>
<p style="position:absolute;top:99px;left:68px;white-space:nowrap" class="ft02">7.3.7.1&#160;&#160;</p>
<p style="position:absolute;top:99px;left:152px;white-space:nowrap" class="ft02">Bit&#160;Test&#160;and&#160;Modify&#160;Instructions</p>
<p style="position:absolute;top:127px;left:68px;white-space:nowrap" class="ft08">The&#160;bit&#160;test&#160;and modify&#160;instructions&#160;(see<a href="o_7281d5ea06a5b67a-178.html">&#160;Table 7-3)</a>&#160;operate on a&#160;single&#160;bit, which can be in&#160;an operand.&#160;The&#160;loca-<br/>tion&#160;of&#160;the bit is&#160;specified as&#160;an offset from the&#160;least&#160;significant bit of the operand.&#160;When the processor identifies&#160;<br/>the&#160;bit&#160;to be tested&#160;and modified,&#160;it first loads the&#160;CF&#160;flag&#160;with&#160;the&#160;current&#160;value of the&#160;bit. Then&#160;it assigns a&#160;new&#160;<br/>value to&#160;the selected&#160;bit, as&#160;determined&#160;by&#160;the modify&#160;operation for the instruction.&#160;</p>
<p style="position:absolute;top:367px;left:68px;white-space:nowrap" class="ft02">7.3.7.2 &#160;</p>
<p style="position:absolute;top:367px;left:152px;white-space:nowrap" class="ft02">Bit Scan Instructions</p>
<p style="position:absolute;top:395px;left:68px;white-space:nowrap" class="ft08">The BSF (bit scan&#160;forward) and&#160;BSR&#160;(bit&#160;scan reverse)&#160;instructions scan&#160;a bit string in&#160;a source&#160;operand for a&#160;set&#160;bit&#160;<br/>and store the&#160;bit&#160;index of the&#160;first set&#160;bit&#160;found&#160;in a&#160;destination register. The&#160;bit&#160;index is&#160;the offset&#160;from the least&#160;<br/>significant bit (bit&#160;0)&#160;in the&#160;bit string to the first set&#160;bit.&#160;The BSF instruction scans&#160;the&#160;source&#160;operand low-to-high&#160;<br/>(from bit&#160;0 of the source operand toward the&#160;most significant bit); the BSR instruction scans high-to-low&#160;(from the&#160;<br/>most significant bit toward the&#160;least significant&#160;bit).</p>
<p style="position:absolute;top:505px;left:68px;white-space:nowrap" class="ft02">7.3.7.3&#160;&#160;</p>
<p style="position:absolute;top:505px;left:152px;white-space:nowrap" class="ft02">Byte&#160;Set on&#160;Condition Instructions</p>
<p style="position:absolute;top:534px;left:68px;white-space:nowrap" class="ft08">The SET<i>cc</i>&#160;(set byte&#160;on&#160;condition) instructions set a&#160;destination-operand byte&#160;to 0&#160;or 1,&#160;depending&#160;on the&#160;state&#160;of&#160;<br/>selected status&#160;flags (CF,&#160;OF, SF,&#160;ZF,&#160;and PF) in&#160;the EFLAGS&#160;register. The suffix&#160;(<i>cc</i>) added to&#160;the SET&#160;mnemonic&#160;<br/>determines&#160;the&#160;condition being tested&#160;for.&#160;<br/>For example,&#160;the SETO&#160;instruction&#160;tests for overflow.&#160;If the&#160;OF&#160;flag is&#160;set, the&#160;destination byte&#160;is set to&#160;1; if&#160;OF is&#160;<br/>clear,&#160;the&#160;destination byte is cleared to 0.<a href="o_7281d5ea06a5b67a-413.html">&#160;Appendix B,&#160;“EFLAGS Condition Codes,” lists the</a>&#160;conditions it is possible&#160;<br/>to test for with this instruction.</p>
<p style="position:absolute;top:668px;left:68px;white-space:nowrap" class="ft02">7.3.7.4 &#160;</p>
<p style="position:absolute;top:668px;left:152px;white-space:nowrap" class="ft02">Test&#160;Instruction</p>
<p style="position:absolute;top:697px;left:68px;white-space:nowrap" class="ft08">The TEST instruction performs&#160;a logical AND&#160;of&#160;two&#160;operands&#160;and sets the&#160;SF, ZF, and&#160;PF&#160;flags according to&#160;the&#160;<br/>results. The&#160;flags can&#160;then be tested&#160;by&#160;the conditional jump or&#160;loop instructions or&#160;the SET<i>cc</i>&#160;instructions.&#160;The&#160;<br/>TEST instruction differs&#160;from the&#160;AND instruction in&#160;that&#160;it does not alter either of&#160;the&#160;operands.</p>
<p style="position:absolute;top:780px;left:68px;white-space:nowrap" class="ft05">7.3.8&#160;</p>
<p style="position:absolute;top:780px;left:148px;white-space:nowrap" class="ft05">Control Transfer Instructions</p>
<p style="position:absolute;top:811px;left:68px;white-space:nowrap" class="ft09">The processor provides both&#160;conditional and&#160;unconditional&#160;control&#160;transfer instructions to&#160;direct&#160;the flow of&#160;<br/>program&#160;execution.&#160;Conditional&#160;transfers&#160;are taken only for&#160;specified states of the&#160;status flags&#160;in the&#160;EFLAGS&#160;<br/>register. Unconditional control&#160;transfers are&#160;always executed.<br/>For&#160;the purpose of&#160;this&#160;discussion, these&#160;instructions are&#160;further divided&#160;into subordinate subgroups that&#160;process:</p>
<p style="position:absolute;top:889px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:890px;left:93px;white-space:nowrap" class="ft03">Unconditional transfers</p>
<p style="position:absolute;top:912px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:913px;left:93px;white-space:nowrap" class="ft03">Conditional transfers</p>
<p style="position:absolute;top:934px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:935px;left:93px;white-space:nowrap" class="ft03">Software interrupts</p>
<p style="position:absolute;top:979px;left:68px;white-space:nowrap" class="ft02">7.3.8.1&#160;&#160;</p>
<p style="position:absolute;top:979px;left:152px;white-space:nowrap" class="ft02">Unconditional Transfer&#160;Instructions</p>
<p style="position:absolute;top:1008px;left:68px;white-space:nowrap" class="ft08">The&#160;JMP,&#160;CALL, RET,&#160;INT,&#160;and&#160;IRET instructions&#160;transfer&#160;program control to&#160;another location (destination address)&#160;<br/>in&#160;the instruction stream. The destination&#160;can be within&#160;the&#160;same code segment (near&#160;transfer) or&#160;in a&#160;different&#160;<br/>code segment (far&#160;transfer).</p>
<p style="position:absolute;top:208px;left:308px;white-space:nowrap" class="ft07">Table 7-3. &#160;Bit&#160;Test&#160;and Modify Instructions</p>
<p style="position:absolute;top:232px;left:75px;white-space:nowrap" class="ft03">Instruction</p>
<p style="position:absolute;top:232px;left:322px;white-space:nowrap" class="ft03">Effect&#160;on CF Flag</p>
<p style="position:absolute;top:232px;left:550px;white-space:nowrap" class="ft03">Effect on&#160;Selected Bit</p>
<p style="position:absolute;top:256px;left:75px;white-space:nowrap" class="ft03">BT&#160;(Bit&#160;Test)</p>
<p style="position:absolute;top:256px;left:322px;white-space:nowrap" class="ft03">CF&#160;flag&#160;←&#160;Selected Bit</p>
<p style="position:absolute;top:256px;left:550px;white-space:nowrap" class="ft03">No effect</p>
<p style="position:absolute;top:280px;left:75px;white-space:nowrap" class="ft03">BTS (Bit&#160;Test&#160;and&#160;Set)</p>
<p style="position:absolute;top:280px;left:322px;white-space:nowrap" class="ft03">CF&#160;flag&#160;←&#160;Selected&#160;Bit</p>
<p style="position:absolute;top:280px;left:550px;white-space:nowrap" class="ft03">Selected&#160;Bit&#160;←&#160;1</p>
<p style="position:absolute;top:304px;left:75px;white-space:nowrap" class="ft03">BTR (Bit&#160;Test&#160;and Reset)</p>
<p style="position:absolute;top:304px;left:322px;white-space:nowrap" class="ft03">CF flag&#160;←&#160;Selected&#160;Bit</p>
<p style="position:absolute;top:304px;left:550px;white-space:nowrap" class="ft03">Selected&#160;Bit&#160;←&#160;0</p>
<p style="position:absolute;top:328px;left:75px;white-space:nowrap" class="ft03">BTC&#160;(Bit Test and Complement)</p>
<p style="position:absolute;top:328px;left:322px;white-space:nowrap" class="ft03">CF&#160;flag&#160;←&#160;Selected&#160;Bit</p>
<p style="position:absolute;top:328px;left:550px;white-space:nowrap" class="ft03">Selected&#160;Bit&#160;←&#160;NOT (Selected Bit)</p>
</div>
</body>
</html>
