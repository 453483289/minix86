<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 168</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:12px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page168-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a168.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">7-4&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH GENERAL-PURPOSE INSTRUCTIONS</p>
<p style="position:absolute;top:99px;left:68px;white-space:nowrap" class="ft02">7.3.1.2 &#160;</p>
<p style="position:absolute;top:99px;left:152px;white-space:nowrap" class="ft02">Exchange Instructions&#160;</p>
<p style="position:absolute;top:127px;left:68px;white-space:nowrap" class="ft07">The exchange&#160;instructions swap the contents&#160;of one or&#160;more&#160;operands&#160;and, in&#160;some cases, perform&#160;additional oper-<br/>ations&#160;such&#160;as asserting the LOCK&#160;signal&#160;or modifying&#160;flags in&#160;the&#160;EFLAGS&#160;register.<br/>The&#160;XCHG (exchange) instruction swaps the&#160;contents of&#160;two operands.&#160;This&#160;instruction takes the&#160;place&#160;of&#160;three&#160;<br/>MOV instructions&#160;and does not&#160;require&#160;a temporary location&#160;to&#160;save&#160;the contents&#160;of one&#160;operand location&#160;while&#160;the&#160;<br/>other is&#160;being loaded. When&#160;a memory&#160;operand&#160;is used with the&#160;XCHG instruction,&#160;the processor‚Äôs&#160;LOCK&#160;signal is&#160;<br/>automatically&#160;asserted.&#160;This instruction is&#160;thus useful for implementing semaphores&#160;or&#160;similar data&#160;structures for&#160;<br/>process&#160;synchronization.&#160;See&#160;‚ÄúBus&#160;Locking‚Äù in&#160;<a href="˛ˇ">Chapter 8,&#160;‚ÄúMultiple-Processor Management,‚Äù</a>of&#160;the&#160;<i>Intel¬Æ 64 and&#160;<br/>IA-32&#160;Architectures&#160;Software Developer‚Äôs Manual, Volume&#160;3A,</i>&#160;for more information on bus&#160;locking.<br/>The BSWAP (byte&#160;swap) instruction reverses the byte order in a 32-bit register operand. Bit positions 0 through 7&#160;<br/>are&#160;exchanged&#160;with 24&#160;through 31,&#160;and bit positions&#160;8&#160;through 15 are&#160;exchanged with 16 through&#160;23.&#160;Executing&#160;<br/>this&#160;instruction&#160;twice in&#160;a row leaves the register&#160;with the same&#160;value as&#160;before. The BSWAP instruction is&#160;useful for&#160;<br/>converting between&#160;‚Äúbig-endian‚Äù&#160;and ‚Äúlittle-endian‚Äù data formats. This&#160;instruction&#160;also&#160;speeds execution of&#160;decimal&#160;<br/>arithmetic. (The XCHG&#160;instruction&#160;can be used&#160;to&#160;swap the&#160;bytes in&#160;a word.)</p>
<p style="position:absolute;top:898px;left:68px;white-space:nowrap" class="ft07">The XADD (exchange and add) instruction swaps two operands&#160;and then stores the sum of&#160;the two operands in the&#160;<br/>destination operand. The status&#160;flags in&#160;the&#160;EFLAGS register&#160;indicate&#160;the result&#160;of the&#160;addition. This instruction can&#160;<br/>be combined with the&#160;LOCK&#160;prefix&#160;(see ‚ÄúLOCK‚ÄîAssert&#160;LOCK# Signal&#160;Prefix‚Äù in<a href="˛ˇ">&#160;Chapter&#160;3,&#160;‚ÄúInstruction&#160;Set&#160;Refer-<br/>ence, A-L,‚Äù of the&#160;</a><i>Intel¬Æ 64&#160;and IA-32 Architectures Software&#160;Developer‚Äôs&#160;Manual, Volume 2A)</i>&#160;in&#160;a&#160;multiprocessing&#160;<br/>system&#160;to allow multiple processors&#160;to execute one DO&#160;loop.<br/>The&#160;CMPXCHG&#160;(compare&#160;and exchange)&#160;and CMPXCHG8B (compare and&#160;exchange 8 bytes) instructions are used&#160;<br/>to synchronize operations in systems that use multiple&#160;processors.&#160;The CMPXCHG&#160;instruction requires three&#160;oper-<br/>ands:&#160;a source&#160;operand&#160;in&#160;a register,&#160;another source operand&#160;in the EAX&#160;register, and&#160;a destination operand. If&#160;<br/>the values contained in&#160;the&#160;destination operand and the&#160;EAX register&#160;are&#160;equal,&#160;the&#160;destination operand&#160;is&#160;<br/>replaced with&#160;the value of&#160;the&#160;other&#160;source operand (the&#160;value not in&#160;the&#160;EAX register). Otherwise,&#160;the original&#160;</p>
<p style="position:absolute;top:371px;left:313px;white-space:nowrap" class="ft05">Table 7-2.&#160;&#160;Conditional Move&#160;Instructions</p>
<p style="position:absolute;top:396px;left:74px;white-space:nowrap" class="ft03">Instruction Mnemonic</p>
<p style="position:absolute;top:396px;left:359px;white-space:nowrap" class="ft03">Status Flag&#160;States</p>
<p style="position:absolute;top:396px;left:584px;white-space:nowrap" class="ft03">Condition Description</p>
<p style="position:absolute;top:420px;left:74px;white-space:nowrap" class="ft08">Unsigned Conditional Moves<br/>&#160; CMOVA/CMOVNBE</p>
<p style="position:absolute;top:444px;left:359px;white-space:nowrap" class="ft03">(CF or&#160;ZF) =</p>
<p style="position:absolute;top:447px;left:426px;white-space:nowrap" class="ft06">&#160;</p>
<p style="position:absolute;top:444px;left:430px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:444px;left:584px;white-space:nowrap" class="ft03">Above/not&#160;&#160;below&#160;&#160;or&#160;&#160;equal</p>
<p style="position:absolute;top:468px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVAE/CMOVNB</p>
<p style="position:absolute;top:468px;left:359px;white-space:nowrap" class="ft03">CF =&#160;0</p>
<p style="position:absolute;top:468px;left:584px;white-space:nowrap" class="ft03">Above&#160;or&#160;equal/not&#160;below</p>
<p style="position:absolute;top:492px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVNC</p>
<p style="position:absolute;top:492px;left:359px;white-space:nowrap" class="ft03">CF = 0</p>
<p style="position:absolute;top:492px;left:584px;white-space:nowrap" class="ft03">Not&#160;carry</p>
<p style="position:absolute;top:516px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVB/CMOVNAE</p>
<p style="position:absolute;top:516px;left:359px;white-space:nowrap" class="ft03">CF =&#160;1</p>
<p style="position:absolute;top:516px;left:584px;white-space:nowrap" class="ft03">Below/not&#160;above&#160;or&#160;equal</p>
<p style="position:absolute;top:539px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVC</p>
<p style="position:absolute;top:539px;left:359px;white-space:nowrap" class="ft03">CF =&#160;1</p>
<p style="position:absolute;top:539px;left:584px;white-space:nowrap" class="ft03">Carry</p>
<p style="position:absolute;top:564px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVBE/CMOVNA</p>
<p style="position:absolute;top:564px;left:359px;white-space:nowrap" class="ft03">(CF or&#160;ZF) = 1</p>
<p style="position:absolute;top:564px;left:584px;white-space:nowrap" class="ft03">Below&#160;or&#160;equal/not above</p>
<p style="position:absolute;top:588px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVE/CMOVZ</p>
<p style="position:absolute;top:588px;left:359px;white-space:nowrap" class="ft03">ZF&#160;= 1</p>
<p style="position:absolute;top:588px;left:584px;white-space:nowrap" class="ft03">Equal/zero</p>
<p style="position:absolute;top:611px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVNE/CMOVNZ</p>
<p style="position:absolute;top:611px;left:359px;white-space:nowrap" class="ft03">ZF = 0</p>
<p style="position:absolute;top:611px;left:584px;white-space:nowrap" class="ft03">Not&#160;equal/not zero</p>
<p style="position:absolute;top:636px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVP/CMOVPE</p>
<p style="position:absolute;top:636px;left:359px;white-space:nowrap" class="ft03">PF = 1</p>
<p style="position:absolute;top:636px;left:584px;white-space:nowrap" class="ft03">Parity/parity even</p>
<p style="position:absolute;top:660px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVNP/CMOVPO</p>
<p style="position:absolute;top:660px;left:359px;white-space:nowrap" class="ft03">PF = 0</p>
<p style="position:absolute;top:660px;left:584px;white-space:nowrap" class="ft03">Not&#160;parity/parity odd</p>
<p style="position:absolute;top:683px;left:74px;white-space:nowrap" class="ft08">Signed Conditional Moves<br/>&#160; CMOVGE/CMOVNL</p>
<p style="position:absolute;top:708px;left:359px;white-space:nowrap" class="ft03">(SF xor OF) = 0</p>
<p style="position:absolute;top:708px;left:584px;white-space:nowrap" class="ft03">Greater or equal/not less</p>
<p style="position:absolute;top:732px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVL/CMOVNGE</p>
<p style="position:absolute;top:732px;left:359px;white-space:nowrap" class="ft03">(SF&#160;xor OF) = 1</p>
<p style="position:absolute;top:732px;left:584px;white-space:nowrap" class="ft03">Less/not greater or&#160;equal</p>
<p style="position:absolute;top:755px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVLE/CMOVNG</p>
<p style="position:absolute;top:755px;left:359px;white-space:nowrap" class="ft03">((SF xor OF) or&#160;ZF) = 1</p>
<p style="position:absolute;top:755px;left:584px;white-space:nowrap" class="ft03">Less or&#160;equal/not greater</p>
<p style="position:absolute;top:780px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVO</p>
<p style="position:absolute;top:780px;left:359px;white-space:nowrap" class="ft03">OF = 1</p>
<p style="position:absolute;top:780px;left:584px;white-space:nowrap" class="ft03">Overflow</p>
<p style="position:absolute;top:804px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVNO</p>
<p style="position:absolute;top:804px;left:359px;white-space:nowrap" class="ft03">OF = 0</p>
<p style="position:absolute;top:804px;left:584px;white-space:nowrap" class="ft03">Not&#160;overflow</p>
<p style="position:absolute;top:827px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVS</p>
<p style="position:absolute;top:827px;left:359px;white-space:nowrap" class="ft03">SF =&#160;1</p>
<p style="position:absolute;top:827px;left:584px;white-space:nowrap" class="ft03">Sign (negative)</p>
<p style="position:absolute;top:852px;left:74px;white-space:nowrap" class="ft03">&#160; CMOVNS</p>
<p style="position:absolute;top:852px;left:359px;white-space:nowrap" class="ft03">SF = 0</p>
<p style="position:absolute;top:852px;left:584px;white-space:nowrap" class="ft03">Not&#160;sign (non-negative)</p>
</div>
</body>
</html>
