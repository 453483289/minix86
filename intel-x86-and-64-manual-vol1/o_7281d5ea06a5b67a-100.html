<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 100</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page100-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a100.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-16&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">DATA&#160;TYPES</p>
<p style="position:absolute;top:99px;left:68px;white-space:nowrap" class="ft02">4.8.3.5&#160;&#160;</p>
<p style="position:absolute;top:99px;left:152px;white-space:nowrap" class="ft02">Operating&#160;on SNaNs and QNaNs</p>
<p style="position:absolute;top:127px;left:68px;white-space:nowrap" class="ft07">When a&#160;floating-point operation is&#160;performed on an&#160;SNaN&#160;and/or&#160;a QNaN, the&#160;result of the&#160;operation is&#160;either&#160;a&#160;<br/>QNaN delivered&#160;to the&#160;destination operand&#160;or the&#160;generation of a&#160;floating-point invalid operation exception,&#160;<br/>depending on&#160;the following&#160;rules:</p>
<p style="position:absolute;top:182px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:183px;left:93px;white-space:nowrap" class="ft07">If one&#160;of the source&#160;operands is an SNaN and the floating-point&#160;invalid-operation exception is not masked&#160;(see&#160;<br/><a href="o_7281d5ea06a5b67a-104.html">Section&#160;4.9.1.1, “Invalid Operation Exception&#160;(#I)”),&#160;</a>then a&#160;floating-point invalid-operation&#160;exception is&#160;<br/>signaled&#160;and no result&#160;is&#160;stored&#160;in&#160;the destination operand.</p>
<p style="position:absolute;top:238px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:238px;left:93px;white-space:nowrap" class="ft07">If either or both of the source operands are&#160;NaNs and&#160;floating-point invalid-operation exception is masked, the&#160;<br/>result&#160;<a href="o_7281d5ea06a5b67a-100.html">is as shown in Table&#160;4-7. When an SNaN is conv</a>erted to a QNaN, the conversion is handled by setting&#160;the&#160;<br/>most-significant&#160;fraction bit of&#160;the&#160;SNaN&#160;to 1. Also,&#160;when&#160;one of&#160;the&#160;source operands&#160;is an&#160;SNaN, the&#160;floating-<br/>point invalid-operation exception flag is set. Note&#160;that&#160;for some combinations of source operands, the&#160;result is&#160;<br/>different for x87 FPU&#160;operations&#160;and for&#160;SSE/SSE2/SSE3/SSE4.1 operations. Intel&#160;AVX follows the&#160;same&#160;<br/>behavior&#160;as&#160;SSE/SSE2/SSE3/SSE4.1&#160;in&#160;this&#160;respect.</p>
<p style="position:absolute;top:343px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:343px;left:93px;white-space:nowrap" class="ft07">When&#160;neither of&#160;the source&#160;operands is&#160;a NaN, but&#160;the operation generates a&#160;floating-point invalid-operation&#160;<br/>exception (see Tabl<a href="o_7281d5ea06a5b67a-218.html">es 8-10 and&#160;</a><a href="o_7281d5ea06a5b67a-268.html">11-1),</a>&#160;the result&#160;is&#160;commonly a&#160;QNaN FP&#160;Indefinite<a href="o_7281d5ea06a5b67a-101.html">&#160;(Section 4.8.3.7).</a></p>
<p style="position:absolute;top:384px;left:68px;white-space:nowrap" class="ft07">Any&#160;exceptions to the&#160;behavior described<a href="o_7281d5ea06a5b67a-100.html">&#160;in Table&#160;4-7&#160;</a>are&#160;described<a href="o_7281d5ea06a5b67a-217.html">&#160;in Section&#160;8.5.1.2, “Invalid&#160;Arithmetic&#160;Operand&#160;<br/>Exception (#IA),”&#160;</a><a href="o_7281d5ea06a5b67a-268.html">and Section 11.5.2.1,&#160;“Invalid&#160;Operation&#160;Exception&#160;(#I).”</a></p>
<p style="position:absolute;top:892px;left:68px;white-space:nowrap" class="ft02">4.8.3.6&#160;&#160;</p>
<p style="position:absolute;top:892px;left:152px;white-space:nowrap" class="ft02">Using SNaNs and QNaNs in Applications</p>
<p style="position:absolute;top:920px;left:68px;white-space:nowrap" class="ft07">Except&#160;for the&#160;rules given at the&#160;beginning&#160;<a href="o_7281d5ea06a5b67a-99.html">of&#160;Section 4.8.3.4,&#160;“NaNs,”&#160;</a>for encoding SNaNs and QNaNs, software&#160;is&#160;<br/>free to&#160;use the bits in the&#160;significand of a NaN&#160;for&#160;any purpose.&#160;Both SNaNs and&#160;QNaNs can be&#160;encoded to carry and&#160;<br/>store data, such&#160;as diagnostic information.<br/>By&#160;unmasking&#160;the&#160;invalid operation exception,&#160;the programmer can&#160;use signaling NaNs&#160;to trap to&#160;the exception&#160;<br/>handler.&#160;The generality of this&#160;approach and&#160;the large&#160;number of&#160;NaN values&#160;that are available provide the sophis-<br/>ticated programmer with a tool&#160;that can&#160;be&#160;applied to&#160;a variety&#160;of&#160;special situations.<br/>For&#160;example, a&#160;compiler can&#160;use signaling NaNs&#160;as references to&#160;uninitialized&#160;(real)&#160;array elements.&#160;The compiler&#160;<br/>can preinitialize each array element with a signaling NaN&#160;whose significand contains the index (relative position) of&#160;</p>
<p style="position:absolute;top:455px;left:330px;white-space:nowrap" class="ft05">Table&#160;4-7.&#160;&#160;Rules for Handling&#160;NaNs&#160;</p>
<p style="position:absolute;top:480px;left:74px;white-space:nowrap" class="ft03">Source&#160;Operands</p>
<p style="position:absolute;top:480px;left:382px;white-space:nowrap" class="ft03">Result</p>
<p style="position:absolute;top:477px;left:421px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:504px;left:74px;white-space:nowrap" class="ft03">SNaN&#160;and QNaN</p>
<p style="position:absolute;top:504px;left:382px;white-space:nowrap" class="ft09">x87 FPU&#160;— QNaN&#160;source operand.<br/>SSE/SSE2/SSE3/SSE4.1/AVX&#160;— First source operand (if&#160;this&#160;operand&#160;is&#160;an&#160;</p>
<p style="position:absolute;top:541px;left:382px;white-space:nowrap" class="ft03">SNaN, it&#160;is converted to a&#160;QNaN)</p>
<p style="position:absolute;top:565px;left:74px;white-space:nowrap" class="ft03">Two&#160;SNaNs</p>
<p style="position:absolute;top:565px;left:382px;white-space:nowrap" class="ft03">x87&#160;FPU—SNaN source operand&#160;with&#160;the larger&#160;significand,&#160;converted&#160;into&#160;a&#160;</p>
<p style="position:absolute;top:582px;left:382px;white-space:nowrap" class="ft010">QNaN<br/>SSE/SSE2/SSE3/SSE4.1/AVX&#160;— First source operand converted&#160;to&#160;a QNaN</p>
<p style="position:absolute;top:627px;left:74px;white-space:nowrap" class="ft03">Two&#160;QNaNs</p>
<p style="position:absolute;top:627px;left:382px;white-space:nowrap" class="ft03">x87&#160;FPU —&#160;QNaN&#160;source&#160;operand&#160;with&#160;the larger</p>
<p style="position:absolute;top:643px;left:382px;white-space:nowrap" class="ft09">significand<br/>SSE/SSE2/SSE3/SSE4.1/AVX&#160;— First source operand</p>
<p style="position:absolute;top:688px;left:74px;white-space:nowrap" class="ft03">SNaN&#160;and a&#160;floating-point&#160;value</p>
<p style="position:absolute;top:688px;left:382px;white-space:nowrap" class="ft03">SNaN source&#160;operand,&#160;converted&#160;into&#160;a QNaN</p>
<p style="position:absolute;top:712px;left:74px;white-space:nowrap" class="ft03">QNaN&#160;and a&#160;floating-point&#160;value</p>
<p style="position:absolute;top:712px;left:382px;white-space:nowrap" class="ft03">QNaN source operand</p>
<p style="position:absolute;top:736px;left:74px;white-space:nowrap" class="ft03">SNaN (for instructions that&#160;take&#160;only one operand)</p>
<p style="position:absolute;top:736px;left:382px;white-space:nowrap" class="ft03">SNaN&#160;source&#160;operand,&#160;converted&#160;into&#160;a QNaN</p>
<p style="position:absolute;top:760px;left:74px;white-space:nowrap" class="ft03">QNaN&#160;(for instructions&#160;that&#160;take&#160;only one operand)</p>
<p style="position:absolute;top:760px;left:382px;white-space:nowrap" class="ft03">QNaN&#160;source operand</p>
<p style="position:absolute;top:784px;left:74px;white-space:nowrap" class="ft01">NOTE:</p>
<p style="position:absolute;top:804px;left:74px;white-space:nowrap" class="ft03">1.&#160;For&#160;SSE/SSE2/SSE3/SSE4.1&#160;instructions,&#160;the&#160;first operand&#160;is&#160;generally a&#160;source&#160;operand&#160;that&#160;becomes&#160;the&#160;destination&#160;operand.&#160;For&#160;</p>
<p style="position:absolute;top:820px;left:88px;white-space:nowrap" class="ft03">AVX instructions, the first&#160;source operand is&#160;usually the 2nd&#160;operand&#160;in&#160;a&#160;non-destructive&#160;source&#160;syntax.&#160;Within&#160;the&#160;Result&#160;column,&#160;</p>
<p style="position:absolute;top:836px;left:88px;white-space:nowrap" class="ft03">the x87 FPU notation also applies to&#160;the FISTTP&#160;instruction in&#160;SSE3;&#160;the&#160;SSE3&#160;notation&#160;applies to&#160;the SIMD floating-point&#160;instruc-</p>
<p style="position:absolute;top:853px;left:88px;white-space:nowrap" class="ft03">tions.</p>
</div>
</body>
</html>
