<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 83</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:9px;line-height:15px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page83-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a083.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:775px;white-space:nowrap" class="ft00">Vol. 1&#160;3-23</p>
<p style="position:absolute;top:47px;left:645px;white-space:nowrap" class="ft01">BASIC EXECUTION ENVIRONMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft06">The offset which results&#160;from&#160;adding these components&#160;is called an&#160;<b>effective address</b>. Each of these components&#160;<br/>can have&#160;either&#160;a positive&#160;or&#160;negative&#160;(2s&#160;complement)&#160;value,&#160;with the&#160;exception of the&#160;scaling factor<a href="o_7281d5ea06a5b67a-83.html">.&#160;Figure&#160;3-11</a>&#160;<br/>shows all&#160;the possible&#160;ways that these components&#160;can be combined to&#160;create&#160;an effective address&#160;in the&#160;selected&#160;<br/>segment.</p>
<p style="position:absolute;top:423px;left:69px;white-space:nowrap" class="ft02">The&#160;uses&#160;of general-purpose&#160;registers&#160;as base&#160;or index&#160;components&#160;are&#160;restricted in the&#160;following&#160;manner:</p>
<p style="position:absolute;top:444px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:445px;left:95px;white-space:nowrap" class="ft02">The&#160;ESP&#160;register cannot be&#160;used&#160;as&#160;an index&#160;register.</p>
<p style="position:absolute;top:467px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:468px;left:95px;white-space:nowrap" class="ft06">When&#160;the ESP or EBP&#160;register is&#160;used&#160;as&#160;the&#160;base, the&#160;SS&#160;segment is&#160;the default&#160;segment. In&#160;all other&#160;cases,&#160;<br/>the&#160;DS segment is&#160;the default&#160;segment.</p>
<p style="position:absolute;top:508px;left:69px;white-space:nowrap" class="ft07">The base, index, and displacement components can be&#160;used&#160;in any combination, and any of these components can&#160;<br/>be&#160;NULL.&#160;A&#160;scale&#160;factor&#160;may&#160;be&#160;used&#160;only&#160;when&#160;an&#160;index&#160;also is&#160;used. Each possible&#160;combination is&#160;useful for data&#160;<br/>structures&#160;commonly used by programmers in&#160;high-level languages and&#160;assembly&#160;language.&#160;<br/>The&#160;following addressing&#160;modes&#160;suggest uses&#160;for common combinations&#160;of address&#160;components.</p>
<p style="position:absolute;top:587px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:588px;left:95px;white-space:nowrap" class="ft03"><b>Displacement</b>&#160;⎯&#160;A displacement&#160;alone represents&#160;a direct (uncomputed) offset to&#160;the operand. Because the&#160;</p>
<p style="position:absolute;top:604px;left:95px;white-space:nowrap" class="ft06">displacement&#160;is encoded&#160;in&#160;the instruction, this form of&#160;an&#160;address is&#160;sometimes called an&#160;absolute&#160;or static&#160;<br/>address.&#160;It is&#160;commonly used&#160;to&#160;access a&#160;statically allocated&#160;scalar operand.</p>
<p style="position:absolute;top:642px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:643px;left:95px;white-space:nowrap" class="ft03"><b>Base&#160;</b>⎯&#160;A&#160;base&#160;alone&#160;represents an indirect offset&#160;to&#160;the&#160;operand.&#160;Since&#160;the&#160;value in&#160;the base register&#160;can&#160;</p>
<p style="position:absolute;top:660px;left:94px;white-space:nowrap" class="ft02">change, it&#160;can be used for dynamic storage of variables and&#160;data&#160;structures.</p>
<p style="position:absolute;top:681px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:682px;left:95px;white-space:nowrap" class="ft08"><b>Base + Displacement</b>&#160;⎯&#160;A&#160;base&#160;register and&#160;a displacement&#160;can be used together for two distinct&#160;purposes:<br/>—&#160;As&#160;an index&#160;into an array&#160;when&#160;the element size&#160;is&#160;not&#160;2, 4, or&#160;8 bytes—The&#160;displacement&#160;component&#160;</p>
<p style="position:absolute;top:723px;left:120px;white-space:nowrap" class="ft06">encodes&#160;the static&#160;offset to the beginning&#160;of the array.&#160;The base register&#160;holds the&#160;results&#160;of&#160;a calculation&#160;<br/>to determine&#160;the offset to&#160;a specific element within&#160;the&#160;array.</p>
<p style="position:absolute;top:763px;left:94px;white-space:nowrap" class="ft02">—&#160;To&#160;access&#160;a field&#160;of a&#160;record: the base register&#160;holds the&#160;address of the&#160;beginning of the&#160;record, while the&#160;</p>
<p style="position:absolute;top:780px;left:120px;white-space:nowrap" class="ft02">displacement&#160;is&#160;a static offset to&#160;the field.</p>
<p style="position:absolute;top:802px;left:94px;white-space:nowrap" class="ft06">An important&#160;special&#160;case&#160;of&#160;this combination&#160;is access to&#160;parameters&#160;in a&#160;procedure activation record.&#160;A&#160;<br/>procedure activation record is&#160;the stack&#160;frame&#160;created when&#160;a procedure&#160;is entered.&#160;Here,&#160;the&#160;EBP&#160;register is&#160;<br/>the best choice&#160;for the&#160;base&#160;register, because&#160;it automatically selects the&#160;stack segment.&#160;This is&#160;a compact&#160;<br/>encoding&#160;for this&#160;common function.</p>
<p style="position:absolute;top:873px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:874px;left:95px;white-space:nowrap" class="ft03"><b>(Index&#160;</b>∗<b>&#160;Scale)&#160;+ Displacement&#160;</b>⎯<b>&#160;</b>This address&#160;mode offers an&#160;efficient way to&#160;index into a&#160;static&#160;array&#160;</p>
<p style="position:absolute;top:891px;left:94px;white-space:nowrap" class="ft06">when&#160;the&#160;element&#160;size&#160;is&#160;2,&#160;4,&#160;or 8&#160;bytes.&#160;The&#160;displacement locates&#160;the beginning&#160;of the&#160;array,&#160;the index&#160;<br/>register holds the&#160;subscript&#160;of&#160;the desired array element,&#160;and the processor automatically&#160;converts the&#160;<br/>subscript into an&#160;index by&#160;applying&#160;the&#160;scaling factor.</p>
<p style="position:absolute;top:945px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:946px;left:95px;white-space:nowrap" class="ft03"><b>Base&#160;+ Index +&#160;Displacement</b>&#160;⎯&#160;Using two&#160;registers together&#160;supports either a&#160;two-dimensional array&#160;(the&#160;</p>
<p style="position:absolute;top:963px;left:94px;white-space:nowrap" class="ft06">displacement holds&#160;the address of the beginning of the array) or one of several&#160;instances of an array of&#160;records&#160;<br/>(the displacement&#160;is an&#160;offset&#160;to a&#160;field within the&#160;record).</p>
<p style="position:absolute;top:1001px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:1002px;left:95px;white-space:nowrap" class="ft03"><b>Base + (Index&#160;</b>∗<b>&#160;Scale)&#160;+ Displacement&#160;</b>⎯&#160;Using all&#160;the addressing components together allows&#160;efficient&#160;</p>
<p style="position:absolute;top:1018px;left:94px;white-space:nowrap" class="ft02">indexing of&#160;a two-dimensional array when the&#160;elements of the&#160;array are&#160;2,&#160;4,&#160;or&#160;8 bytes&#160;in size.</p>
<p style="position:absolute;top:377px;left:266px;white-space:nowrap" class="ft05">Figure&#160;3-11.&#160;&#160;Offset&#160;(or Effective Address)&#160;Computation</p>
<p style="position:absolute;top:351px;left:322px;white-space:nowrap" class="ft00">Offset&#160;=&#160;Base&#160;+ (Index&#160;*&#160;Scale)&#160;+&#160;Displacement</p>
<p style="position:absolute;top:204px;left:333px;white-space:nowrap" class="ft00">Base</p>
<p style="position:absolute;top:229px;left:335px;white-space:nowrap" class="ft00">EAX</p>
<p style="position:absolute;top:243px;left:335px;white-space:nowrap" class="ft00">EBX</p>
<p style="position:absolute;top:257px;left:335px;white-space:nowrap" class="ft00">ECX</p>
<p style="position:absolute;top:271px;left:335px;white-space:nowrap" class="ft00">EDX</p>
<p style="position:absolute;top:285px;left:335px;white-space:nowrap" class="ft00">ESP</p>
<p style="position:absolute;top:299px;left:335px;white-space:nowrap" class="ft00">EBP</p>
<p style="position:absolute;top:313px;left:337px;white-space:nowrap" class="ft00">ESI</p>
<p style="position:absolute;top:327px;left:337px;white-space:nowrap" class="ft00">EDI</p>
<p style="position:absolute;top:235px;left:407px;white-space:nowrap" class="ft00">EAX</p>
<p style="position:absolute;top:249px;left:407px;white-space:nowrap" class="ft00">EBX</p>
<p style="position:absolute;top:263px;left:407px;white-space:nowrap" class="ft00">ECX</p>
<p style="position:absolute;top:277px;left:407px;white-space:nowrap" class="ft09">EDX<br/>EBP</p>
<p style="position:absolute;top:306px;left:409px;white-space:nowrap" class="ft00">ESI</p>
<p style="position:absolute;top:320px;left:409px;white-space:nowrap" class="ft00">EDI</p>
<p style="position:absolute;top:243px;left:479px;white-space:nowrap" class="ft00">1</p>
<p style="position:absolute;top:241px;left:534px;white-space:nowrap" class="ft00">None</p>
<p style="position:absolute;top:268px;left:479px;white-space:nowrap" class="ft00">2</p>
<p style="position:absolute;top:293px;left:479px;white-space:nowrap" class="ft00">4</p>
<p style="position:absolute;top:317px;left:479px;white-space:nowrap" class="ft00">8</p>
<p style="position:absolute;top:266px;left:537px;white-space:nowrap" class="ft00">8-bit</p>
<p style="position:absolute;top:290px;left:534px;white-space:nowrap" class="ft00">16-bit</p>
<p style="position:absolute;top:315px;left:535px;white-space:nowrap" class="ft00">32-bit</p>
<p style="position:absolute;top:204px;left:404px;white-space:nowrap" class="ft00">Index</p>
<p style="position:absolute;top:204px;left:467px;white-space:nowrap" class="ft00">Scale</p>
<p style="position:absolute;top:204px;left:514px;white-space:nowrap" class="ft00">Displacement</p>
<p style="position:absolute;top:290px;left:448px;white-space:nowrap" class="ft00">*</p>
<p style="position:absolute;top:279px;left:374px;white-space:nowrap" class="ft00">+</p>
<p style="position:absolute;top:279px;left:512px;white-space:nowrap" class="ft00">+</p>
</div>
</body>
</html>
