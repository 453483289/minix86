<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1947</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1947-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1947.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3D&#160;A-5</p>
<p style="position:absolute;top:47px;left:614px;white-space:nowrap" class="ft01">VMX CAPABILITY&#160;REPORTING FACILITY</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32 indicate the allowed 1-settings&#160;of these controls. VM&#160;entry allows control X&#160;to be&#160;1 if bit 32+X in&#160;the&#160;<br/>MSR is&#160;set&#160;to 1;&#160;if bit 32+X in the MSR is&#160;cleared to&#160;0,&#160;VM&#160;entry&#160;fails&#160;if control X is&#160;1.</p>
<p style="position:absolute;top:141px;left:69px;white-space:nowrap" class="ft06">It&#160;is necessary for software&#160;to&#160;consult only one&#160;of&#160;the&#160;capability MSRs to&#160;determine the&#160;allowed settings of the&#160;<br/>VM-exit controls:</p>
<p style="position:absolute;top:179px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:180px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read&#160;as&#160;0,&#160;all&#160;information about&#160;the allowed&#160;settings&#160;of the&#160;VM-exit&#160;<br/>controls is&#160;contained&#160;in the&#160;IA32_VMX_EXIT_CTLS&#160;MSR.&#160;(The IA32_VMX_TRUE_EXIT_CTLS&#160;MSR&#160;is not&#160;<br/>supported.)</p>
<p style="position:absolute;top:235px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:235px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read&#160;as&#160;1,&#160;all&#160;information about&#160;the allowed&#160;settings&#160;of the&#160;VM-exit&#160;<br/>controls is contained in the IA32_VMX_TRUE_EXIT_CTLS&#160;MSR. Assuming&#160;that software knows that the default1&#160;<br/>class of VM-exit&#160;controls contains bits&#160;0–8, 10, 11, 13, 14, 16,&#160;and 17, there is no need for software to consult&#160;<br/>the IA32_VMX_EXIT_CTLS&#160;MSR.</p>
<p style="position:absolute;top:340px;left:69px;white-space:nowrap" class="ft04">A.5&#160;VM-ENTRY&#160;</p>
<p style="position:absolute;top:340px;left:254px;white-space:nowrap" class="ft04">CONTROLS</p>
<p style="position:absolute;top:376px;left:69px;white-space:nowrap" class="ft06">The IA32_VMX_ENTRY_CTLS MSR&#160;(index&#160;484H)&#160;reports&#160;on the&#160;allowed settings of&#160;<b>most</b>&#160;of the&#160;VM-entry&#160;controls&#160;<br/><a href="o_fe12b1e2a880e0ce-1065.html">(see Section 24.8.1):</a></p>
<p style="position:absolute;top:415px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:415px;left:95px;white-space:nowrap" class="ft08">Bits&#160;31:0&#160;indicate&#160;the allowed&#160;0-settings of these controls. VM&#160;entry allows control X (bit X of the&#160;VM-entry&#160;<br/>controls)&#160;to&#160;be&#160;0 if&#160;bit&#160;X&#160;in the MSR is cleared&#160;to 0;&#160;if bit X in&#160;the MSR&#160;is set to&#160;1,&#160;VM&#160;entry fails if&#160;control X is&#160;0.<br/>Exceptions&#160;are made for the&#160;VM-entry&#160;controls in&#160;the&#160;default1 class (see<a href="o_fe12b1e2a880e0ce-1944.html">&#160;Appendix&#160;A.2).</a>&#160;These are&#160;bits&#160;0–8&#160;and&#160;<br/>12; the&#160;corresponding&#160;bits&#160;of the&#160;IA32_VMX_ENTRY_CTLS&#160;MSR&#160;are&#160;always&#160;read&#160;as 1.&#160;The treatment of these&#160;<br/>controls by&#160;VM&#160;entry is&#160;determined&#160;by bit&#160;55&#160;in&#160;the IA32_VMX_BASIC MSR:<br/>—&#160;If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read as&#160;0,&#160;VM&#160;entry fails&#160;if&#160;any VM-entry control&#160;in&#160;the default1&#160;</p>
<p style="position:absolute;top:528px;left:120px;white-space:nowrap" class="ft03">class is&#160;0.</p>
<p style="position:absolute;top:552px;left:95px;white-space:nowrap" class="ft03">—&#160;If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read as&#160;1,&#160;the&#160;IA32_VMX_TRUE_ENTRY_CTLS&#160;MSR (see&#160;below)&#160;</p>
<p style="position:absolute;top:568px;left:120px;white-space:nowrap" class="ft03">reports which of the&#160;VM-entry&#160;controls in&#160;the&#160;default1&#160;class&#160;can be 0 on VM&#160;entry.</p>
<p style="position:absolute;top:590px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:591px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32&#160;indicate the&#160;allowed 1-settings&#160;of these controls.&#160;VM&#160;entry&#160;fails if bit&#160;X&#160;is 1 in&#160;the VM-entry controls&#160;<br/>and bit&#160;32+X&#160;is 0&#160;in this&#160;MSR.</p>
<p style="position:absolute;top:631px;left:69px;white-space:nowrap" class="ft06">If&#160;bit&#160;55 in the&#160;IA32_VMX_BASIC MSR is read as 1,&#160;the&#160;IA32_VMX_TRUE_ENTRY_CTLS MSR (index 490H) reports&#160;<br/>on the&#160;allowed settings of&#160;<b>all</b>&#160;of the VM-entry controls:</p>
<p style="position:absolute;top:670px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:670px;left:95px;white-space:nowrap" class="ft06">Bits&#160;31:0 indicate the allowed 0-settings of these controls.&#160;VM&#160;entry allows control X to&#160;be&#160;0 if&#160;bit X in&#160;the&#160;MSR&#160;<br/>is&#160;cleared to 0;&#160;if bit X in&#160;the MSR&#160;is set&#160;to 1,&#160;VM&#160;entry fails&#160;if&#160;control X is&#160;0.&#160;There&#160;are&#160;no&#160;exceptions.</p>
<p style="position:absolute;top:709px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:709px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32 indicate the allowed 1-settings&#160;of these controls. VM&#160;entry allows control 32+X to&#160;be 1 if bit&#160;X in&#160;the&#160;<br/>MSR is&#160;set&#160;to 1;&#160;if bit 32+X in the MSR is&#160;cleared to&#160;0,&#160;VM&#160;entry&#160;fails&#160;if control X is&#160;1.</p>
<p style="position:absolute;top:750px;left:69px;white-space:nowrap" class="ft06">It&#160;is necessary for software&#160;to&#160;consult only one&#160;of&#160;the&#160;capability MSRs to&#160;determine the&#160;allowed settings of the&#160;<br/>VM-entry&#160;controls:</p>
<p style="position:absolute;top:788px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:789px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read&#160;as&#160;0,&#160;all&#160;information about&#160;the allowed&#160;settings&#160;of the&#160;VM-entry&#160;<br/>controls&#160;is contained in&#160;the IA32_VMX_ENTRY_CTLS MSR.&#160;(The&#160;IA32_VMX_TRUE_ENTRY_CTLS MSR is&#160;not&#160;<br/>supported.)</p>
<p style="position:absolute;top:844px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:844px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in&#160;the IA32_VMX_BASIC MSR&#160;is read&#160;as&#160;1,&#160;all&#160;information about&#160;the allowed&#160;settings&#160;of the&#160;VM-entry&#160;<br/>controls&#160;is contained in&#160;the IA32_VMX_TRUE_ENTRY_CTLS MSR.&#160;Assuming&#160;that software&#160;knows that the&#160;<br/>default1 class&#160;of&#160;VM-entry&#160;controls contains bits 0–8&#160;and 12,&#160;there is&#160;no need for software&#160;to consult the&#160;<br/>IA32_VMX_ENTRY_CTLS&#160;MSR.</p>
<p style="position:absolute;top:949px;left:69px;white-space:nowrap" class="ft04">A.6 MISCELLANEOUS&#160;</p>
<p style="position:absolute;top:949px;left:310px;white-space:nowrap" class="ft04">DATA</p>
<p style="position:absolute;top:985px;left:69px;white-space:nowrap" class="ft03">The&#160;IA32_VMX_MISC MSR&#160;(index 485H) consists&#160;of&#160;the&#160;following&#160;fields:</p>
<p style="position:absolute;top:1007px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:1008px;left:95px;white-space:nowrap" class="ft06">Bits&#160;4:0&#160;report a&#160;value&#160;X&#160;that specifies the&#160;relationship&#160;between the&#160;rate of the VMX-preemption timer&#160;and that&#160;<br/>of the timestamp&#160;counter (TSC). Specifically, the&#160;VMX-preemption timer (if it is&#160;active)&#160;counts down by 1&#160;every&#160;<br/>time bit&#160;X&#160;in&#160;the TSC changes&#160;due&#160;to a&#160;TSC&#160;increment.</p>
</div>
</body>
</html>
