<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 84</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:10px;font-family:Times;color:#000000;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft011{font-size:10px;line-height:17px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page84-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce084.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">2-22&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">SYSTEM&#160;ARCHITECTURE&#160;OVERVIEW</p>
<p style="position:absolute;top:350px;left:68px;white-space:nowrap" class="ft02">2.8.1&#160;</p>
<p style="position:absolute;top:350px;left:148px;white-space:nowrap" class="ft02">Loading and Storing System Registers</p>
<p style="position:absolute;top:381px;left:68px;white-space:nowrap" class="ft08">The GDTR,&#160;LDTR, IDTR,&#160;and TR registers each have&#160;a load and&#160;store instruction&#160;for&#160;loading data into&#160;and storing&#160;<br/>data from the&#160;register:</p>
<p style="position:absolute;top:419px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:420px;left:93px;white-space:nowrap" class="ft05"><b>LGDT (Load GDTR Register)</b>&#160;—&#160;Loads&#160;the GDT base address&#160;and limit&#160;from&#160;memory into&#160;the GDTR&#160;register.</p>
<p style="position:absolute;top:442px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:442px;left:93px;white-space:nowrap" class="ft05"><b>SGDT&#160;(Store&#160;GDTR Register)&#160;</b>—&#160;Stores&#160;the&#160;GDT&#160;base&#160;address and limit&#160;from the&#160;GDTR&#160;register into&#160;memory.</p>
<p style="position:absolute;top:464px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:465px;left:93px;white-space:nowrap" class="ft05"><b>LIDT&#160;(Load&#160;IDTR Register)&#160;</b>— Loads&#160;the&#160;IDT&#160;base&#160;address and limit from memory into the&#160;IDTR&#160;register.</p>
<p style="position:absolute;top:487px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:487px;left:93px;white-space:nowrap" class="ft05"><b>SIDT (Store IDTR Register)&#160;</b>—&#160;Stores&#160;the IDT&#160;base&#160;address&#160;and limit&#160;from&#160;the&#160;IDTR&#160;register&#160;into&#160;memory.</p>
<p style="position:absolute;top:509px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:510px;left:93px;white-space:nowrap" class="ft08"><b>LLDT&#160;(Load LDTR Register)&#160;</b>—&#160;Loads&#160;the LDT segment selector&#160;and segment descriptor from memory into&#160;<br/>the LDTR.&#160;(The&#160;segment&#160;selector&#160;operand can&#160;also be located in&#160;a general-purpose register.)</p>
<p style="position:absolute;top:548px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:549px;left:93px;white-space:nowrap" class="ft08"><b>SLDT&#160;(Store&#160;LDTR Register)</b>&#160;— Stores the&#160;LDT segment selector from&#160;the&#160;LDTR&#160;register&#160;into memory or a&#160;<br/>general-purpose&#160;register.</p>
<p style="position:absolute;top:587px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:588px;left:93px;white-space:nowrap" class="ft08"><b>LTR (Load&#160;Task Register)</b>&#160;— Loads segment selector&#160;and segment&#160;descriptor for a&#160;TSS from memory&#160;into&#160;the&#160;<br/>task register. (The&#160;segment&#160;selector&#160;operand can&#160;also be&#160;located in&#160;a general-purpose register.)</p>
<p style="position:absolute;top:626px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:627px;left:93px;white-space:nowrap" class="ft08"><b>STR&#160;(Store&#160;Task Register)&#160;</b>— Stores the segment selector&#160;for the&#160;current task&#160;TSS from the&#160;task register&#160;into&#160;<br/>memory or a&#160;general-purpose register.</p>
<p style="position:absolute;top:667px;left:68px;white-space:nowrap" class="ft08">The&#160;LMSW (load machine status&#160;word) and&#160;SMSW&#160;(store&#160;machine status&#160;word) instructions operate&#160;on bits&#160;0&#160;<br/>through 15&#160;of control register&#160;CR0.&#160;These&#160;instructions&#160;are provided for compatibility with the&#160;16-bit Intel&#160;286&#160;<br/>processor.&#160;Programs written to&#160;run&#160;on&#160;32-bit IA-32 processors should&#160;not&#160;use&#160;these instructions. Instead,&#160;they&#160;<br/>should&#160;access the&#160;control&#160;register CR0&#160;using the&#160;MOV CR&#160;instruction.<br/>The CLTS&#160;(clear TS flag in CR0) instruction is provided&#160;for use in handling a&#160;device-not-available&#160;exception (#NM)&#160;<br/>that occurs when the processor&#160;attempts&#160;to execute a&#160;floating-point instruction when the&#160;TS&#160;flag&#160;is set.&#160;This&#160;<br/>instruction&#160;allows the TS&#160;flag&#160;to be cleared&#160;after the&#160;x87&#160;FPU context has&#160;been&#160;saved,&#160;preventing further #NM&#160;<br/>exceptions. Se<a href="o_fe12b1e2a880e0ce-75.html">e&#160;Section&#160;2.5,&#160;“Control Registers,” for more</a>&#160;information on the&#160;TS flag.<br/>The&#160;control&#160;registers (CR0,&#160;CR1,&#160;CR2,&#160;CR3,&#160;CR4,&#160;and&#160;CR8)&#160;are loaded&#160;using the&#160;MOV&#160;instruction. The instruction&#160;<br/>loads a&#160;control&#160;register from a&#160;general-purpose&#160;register or&#160;stores the&#160;content of a&#160;control&#160;register in&#160;a general-<br/>purpose register.</p>
<p style="position:absolute;top:898px;left:68px;white-space:nowrap" class="ft02">2.8.2&#160;</p>
<p style="position:absolute;top:898px;left:148px;white-space:nowrap" class="ft02">Verifying of&#160;Access Privileges</p>
<p style="position:absolute;top:928px;left:68px;white-space:nowrap" class="ft08">The processor provides several instructions for examining segment selectors and segment descriptors to determine&#160;<br/>if access to their associated&#160;segments is allowed.&#160;These&#160;instructions duplicate some of the automatic access rights&#160;<br/>and&#160;type&#160;checking&#160;done by the processor,&#160;thus allowing&#160;operating-system or&#160;executive&#160;software&#160;to prevent&#160;excep-<br/>tions from being generated.&#160;<br/>The ARPL (adjust&#160;RPL)&#160;instruction adjusts the RPL (requestor privilege level) of a segment&#160;selector to match that of&#160;<br/>the program or&#160;procedure&#160;that&#160;supplied&#160;the&#160;segment&#160;selector.&#160;Se<a href="o_fe12b1e2a880e0ce-178.html">e Section 5.10.4, “Checking&#160;Caller Access&#160;Privi-<br/>leges (ARPL&#160;Instruction)” for a&#160;</a>detailed explanation&#160;of&#160;the function and use of this&#160;instruction. Note&#160;that&#160;ARPL is&#160;not&#160;<br/>supported&#160;in&#160;64-bit mode.</p>
<p style="position:absolute;top:163px;left:75px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:181px;left:75px;white-space:nowrap" class="ft011">1.&#160;Useful&#160;to&#160;application programs running&#160;at&#160;a&#160;CPL of&#160;1 or 2.<br/>2.&#160;The TSD and PCE flags in control register CR4 control access to&#160;these instructions by&#160;application programs running&#160;at&#160;a&#160;CPL of 3.<br/>3.&#160;These&#160;instructions were&#160;introduced into&#160;the IA-32 Architecture&#160;with the Pentium processor.<br/>4.&#160;This&#160;instruction&#160;was introduced into&#160;the IA-32&#160;Architecture&#160;with the&#160;Pentium Pro processor and&#160;the&#160;Pentium&#160;processor&#160;with&#160;MMX&#160;technol-</p>
<p style="position:absolute;top:249px;left:89px;white-space:nowrap" class="ft06">ogy.</p>
<p style="position:absolute;top:266px;left:75px;white-space:nowrap" class="ft011">5.&#160;This instruction is not supported in 64-bit mode.<br/>6.&#160;Application&#160;uses XGETBV&#160;to&#160;query which set of&#160;processor extended states are enabled.<br/>7. RDTSCP is introduced in Intel Core&#160;i7 processor.</p>
<p style="position:absolute;top:100px;left:277px;white-space:nowrap" class="ft07">Table 2-3. &#160;Summary of&#160;System Instructions&#160;(Contd.)</p>
<p style="position:absolute;top:139px;left:75px;white-space:nowrap" class="ft03">Instruction</p>
<p style="position:absolute;top:139px;left:218px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:124px;left:526px;white-space:nowrap" class="ft03">Useful to</p>
<p style="position:absolute;top:139px;left:526px;white-space:nowrap" class="ft03">Application?</p>
<p style="position:absolute;top:124px;left:680px;white-space:nowrap" class="ft03">Protected from</p>
<p style="position:absolute;top:139px;left:680px;white-space:nowrap" class="ft03">Application?</p>
</div>
</body>
</html>
