<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 440</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:14px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:17px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page440-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce440.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">11-28&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">MEMORY&#160;CACHE CONTROL</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft07">IA32_MTRR_PHYSBASE1 = &#160;0000&#160;0000 0400&#160;0006H<br/>IA32_MTRR_PHYSMASK1&#160;= &#160;0000&#160;00FF FE00&#160;0800H &#160;<br/>Caches 64-96 MByte as&#160;WB cache type.</p>
<p style="position:absolute;top:166px;left:68px;white-space:nowrap" class="ft07">IA32_MTRR_PHYSBASE2 = &#160;0000&#160;0000 0600&#160;0006H<br/>IA32_MTRR_PHYSMASK2&#160;= &#160;0000&#160;00FF FFC0&#160;0800H &#160;<br/>Caches 96-100&#160;MByte&#160;as WB cache type.</p>
<p style="position:absolute;top:232px;left:68px;white-space:nowrap" class="ft07">IA32_MTRR_PHYSBASE3 = &#160;0000&#160;0000 0400&#160;0000H<br/>IA32_MTRR_PHYSMASK3&#160;= &#160;0000&#160;00FF FFC0&#160;0800H &#160;<br/>Caches 64-68 MByte as&#160;UC cache type.</p>
<p style="position:absolute;top:298px;left:68px;white-space:nowrap" class="ft07">IA32_MTRR_PHYSBASE4 = &#160;0000&#160;0000 00F0&#160;0000H<br/>IA32_MTRR_PHYSMASK4&#160;= &#160;0000&#160;00FF FFF0&#160;0800H &#160;<br/>Caches 15-16 MByte as&#160;UC cache type.</p>
<p style="position:absolute;top:364px;left:68px;white-space:nowrap" class="ft07">IA32_MTRR_PHYSBASE5 = &#160;0000&#160;0000 A000&#160;0001H<br/>IA32_MTRR_PHYSMASK5&#160;= &#160;0000&#160;00FF FF80&#160;0800H &#160;<br/>Caches A0000000-A0800000&#160;as WC&#160;type.</p>
<p style="position:absolute;top:451px;left:68px;white-space:nowrap" class="ft03">11.11.4&#160;&#160;Range Size&#160;and Alignment Requirement</p>
<p style="position:absolute;top:481px;left:68px;white-space:nowrap" class="ft09">A range that&#160;is to&#160;be&#160;mapped to&#160;a variable-range&#160;MTRR must&#160;meet the&#160;following&#160;“power of 2”&#160;size&#160;and&#160;alignment&#160;<br/>rules:<br/>1.&#160;The minimum range size&#160;is&#160;4&#160;KBytes&#160;and&#160;the base&#160;address&#160;of&#160;the range must&#160;be&#160;on at least a 4-KByte</p>
<p style="position:absolute;top:538px;left:93px;white-space:nowrap" class="ft02">boundary.</p>
<p style="position:absolute;top:562px;left:68px;white-space:nowrap" class="ft02">2.&#160;For ranges greater&#160;than&#160;4 KBytes,&#160;each&#160;range&#160;must&#160;be&#160;of length&#160;2</p>
<p style="position:absolute;top:560px;left:536px;white-space:nowrap" class="ft04"><i>n</i></p>
<p style="position:absolute;top:562px;left:543px;white-space:nowrap" class="ft05"><i>&#160;</i>and its&#160;base&#160;address must be aligned&#160;on&#160;a&#160;</p>
<p style="position:absolute;top:579px;left:93px;white-space:nowrap" class="ft02">2</p>
<p style="position:absolute;top:576px;left:102px;white-space:nowrap" class="ft04"><i>n</i></p>
<p style="position:absolute;top:579px;left:109px;white-space:nowrap" class="ft05"><i>&#160;</i>boundary, where<i>&#160;n</i>&#160;is a&#160;value&#160;equal to or greater than 12. The base-address alignment&#160;value&#160;cannot be less&#160;</p>
<p style="position:absolute;top:595px;left:93px;white-space:nowrap" class="ft08">than its&#160;length. For example,&#160;an 8-KByte&#160;range&#160;cannot be&#160;aligned on&#160;a 4-KByte boundary.&#160;It must be&#160;aligned&#160;on&#160;<br/>at least an&#160;8-KByte&#160;boundary.</p>
<p style="position:absolute;top:656px;left:68px;white-space:nowrap" class="ft06">11.11.4.1&#160;&#160;&#160;MTRR Precedences</p>
<p style="position:absolute;top:685px;left:68px;white-space:nowrap" class="ft010">If the MTRRs&#160;are not enabled&#160;(by&#160;setting the E flag in&#160;the&#160;IA32_MTRR_DEF_TYPE&#160;MSR), then&#160;all memory&#160;accesses&#160;<br/>are&#160;of&#160;the UC&#160;memory&#160;type.&#160;If&#160;the&#160;MTRRs are&#160;enabled,&#160;then the&#160;memory&#160;type used for&#160;a&#160;memory&#160;access&#160;is deter-<br/>mined as&#160;follows:<br/>1.&#160;If the physical address falls within&#160;the&#160;first&#160;1 MByte of physical&#160;memory and fixed MTRRs&#160;are enabled, the</p>
<p style="position:absolute;top:758px;left:93px;white-space:nowrap" class="ft02">processor&#160;uses&#160;the memory&#160;type&#160;stored for the appropriate fixed-range MTRR.</p>
<p style="position:absolute;top:782px;left:68px;white-space:nowrap" class="ft02">2.&#160;Otherwise,&#160;the processor attempts to&#160;match&#160;the physical&#160;address&#160;with&#160;a memory type set&#160;by the&#160;variable-range&#160;</p>
<p style="position:absolute;top:799px;left:93px;white-space:nowrap" class="ft010">MTRRs:<br/>—&#160;If&#160;one variable memory&#160;range matches, the&#160;processor uses&#160;the memory type stored in&#160;the&#160;</p>
<p style="position:absolute;top:839px;left:119px;white-space:nowrap" class="ft02">IA32_MTRR_PHYSBASE<i>n</i>&#160;register for that&#160;range.</p>
<p style="position:absolute;top:863px;left:93px;white-space:nowrap" class="ft02">—&#160;If&#160;two or more&#160;variable memory ranges match and the&#160;memory types are&#160;identical, then that memory type&#160;</p>
<p style="position:absolute;top:880px;left:119px;white-space:nowrap" class="ft02">is used.</p>
<p style="position:absolute;top:904px;left:93px;white-space:nowrap" class="ft02">—&#160;If&#160;two&#160;or more variable memory ranges match and one&#160;of&#160;the memory types is&#160;UC,&#160;the UC memory&#160;type&#160;</p>
<p style="position:absolute;top:920px;left:119px;white-space:nowrap" class="ft02">used.</p>
<p style="position:absolute;top:944px;left:93px;white-space:nowrap" class="ft02">—&#160;If&#160;two&#160;or more variable memory&#160;ranges match and the memory&#160;types&#160;are&#160;WT and WB, the WT&#160;memory&#160;type&#160;</p>
<p style="position:absolute;top:961px;left:119px;white-space:nowrap" class="ft02">is used.</p>
<p style="position:absolute;top:985px;left:93px;white-space:nowrap" class="ft02">—&#160;For overlaps&#160;not defined by the above rules, processor behavior&#160;is undefined.</p>
<p style="position:absolute;top:1009px;left:68px;white-space:nowrap" class="ft02">3.&#160;If&#160;no&#160;fixed&#160;or&#160;variable memory&#160;range matches,&#160;the&#160;processor uses&#160;the default&#160;memory&#160;type.</p>
</div>
</body>
</html>
