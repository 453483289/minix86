<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 714</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page714-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce714.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-78&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:368px;left:68px;white-space:nowrap" class="ft02">18.13.1.4&#160;&#160;&#160;PEBS Facility for&#160;Front End Events</p>
<p style="position:absolute;top:397px;left:68px;white-space:nowrap" class="ft07">In the&#160;6th generation&#160;Intel Core processor,&#160;the&#160;PEBS facility&#160;has been extended&#160;to allow capturing PEBS&#160;data&#160;for&#160;<br/>some microarchitectural&#160;conditions related&#160;to front end&#160;events. The frontend microarchitectural&#160;conditions&#160;<br/>supported&#160;by PEBS requires the&#160;following&#160;interfaces:</p>
<p style="position:absolute;top:451px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:452px;left:93px;white-space:nowrap" class="ft07">The&#160;IA32_PERFEVTSELx&#160;MSR must select “FrontEnd_Retired”&#160;(C6H)&#160;in&#160;the EventSelect field&#160;(bits&#160;7:0)&#160;and&#160;<br/>umask = 01H,</p>
<p style="position:absolute;top:490px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:491px;left:93px;white-space:nowrap" class="ft07">The&#160;“FRONTEND_RETIRED” event employs&#160;a new&#160;MSR,&#160;MSR_PEBS_FRONTEND,&#160;to specify the&#160;supported&#160;<br/>frontend event details,&#160;s<a href="o_fe12b1e2a880e0ce-714.html">ee Table&#160;18-58.</a></p>
<p style="position:absolute;top:529px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:530px;left:93px;white-space:nowrap" class="ft03">Program&#160;the PEBS_EN_PMCx field&#160;of IA32_PEBS_ENABLE&#160;MSR&#160;as required.</p>
<p style="position:absolute;top:554px;left:68px;white-space:nowrap" class="ft03">Note the&#160;AnyThread field of IA32_PERFEVTSELx is&#160;ignored&#160;by&#160;the processor for&#160;the “FRONTEND_RETIRED”&#160;event.</p>
<p style="position:absolute;top:602px;left:68px;white-space:nowrap" class="ft03">The sub-event&#160;encodings&#160;supported by MSR_PEBS_FRONTEND.EVTSEL&#160;is given in&#160;<a href="o_fe12b1e2a880e0ce-714.html">Table&#160;18-58.&#160;</a></p>
<p style="position:absolute;top:118px;left:209px;white-space:nowrap" class="ft05">Table&#160;18-57.&#160;&#160;Layout&#160;of&#160;Data Linear Address Information In&#160;PEBS&#160;Record</p>
<p style="position:absolute;top:142px;left:76px;white-space:nowrap" class="ft03">Field Offset&#160;</p>
<p style="position:absolute;top:142px;left:231px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:166px;left:76px;white-space:nowrap" class="ft03">Data&#160;Linear&#160;</p>
<p style="position:absolute;top:182px;left:76px;white-space:nowrap" class="ft03">Address</p>
<p style="position:absolute;top:166px;left:177px;white-space:nowrap" class="ft03">98H</p>
<p style="position:absolute;top:166px;left:231px;white-space:nowrap" class="ft03">The&#160;linear&#160;address of&#160;the load&#160;or&#160;the destination of&#160;the store.</p>
<p style="position:absolute;top:207px;left:76px;white-space:nowrap" class="ft03">Store&#160;Status</p>
<p style="position:absolute;top:207px;left:177px;white-space:nowrap" class="ft03">A0H</p>
<p style="position:absolute;top:207px;left:231px;white-space:nowrap" class="ft03">•&#160;DCU Hit&#160;(Bit&#160;0): The store hit the&#160;data&#160;cache closest to&#160;the core&#160;(L1 cache) if this bit is set,&#160;otherwise&#160;</p>
<p style="position:absolute;top:222px;left:247px;white-space:nowrap" class="ft03">the store missed the data&#160;cache.&#160;This information&#160;is valid only for the&#160;following&#160;store events:&#160;</p>
<p style="position:absolute;top:236px;left:247px;white-space:nowrap" class="ft03">UOPS_RETIRED.ALL (if&#160;store&#160;is tagged),</p>
<p style="position:absolute;top:252px;left:247px;white-space:nowrap" class="ft03">MEM_INST_RETIRED.STLB_MISS_STORES,</p>
<p style="position:absolute;top:267px;left:247px;white-space:nowrap" class="ft03">MEM_INST_RETIRED.ALL_STORES,</p>
<p style="position:absolute;top:281px;left:247px;white-space:nowrap" class="ft03">MEM_INST_RETIRED.SPLIT_STORES.</p>
<p style="position:absolute;top:296px;left:231px;white-space:nowrap" class="ft03">•&#160;Other&#160;&#160;bits&#160;&#160;are&#160;&#160;zero.</p>
<p style="position:absolute;top:321px;left:76px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:321px;left:178px;white-space:nowrap" class="ft03">A8H</p>
<p style="position:absolute;top:321px;left:231px;white-space:nowrap" class="ft03">Always zero.</p>
<p style="position:absolute;top:643px;left:120px;white-space:nowrap" class="ft05">Table 18-58. &#160;FrontEnd_Retired Sub-Event&#160;Encodings&#160;Supported&#160;by&#160;MSR_PEBS_FRONTEND.EVTSEL</p>
<p style="position:absolute;top:668px;left:74px;white-space:nowrap" class="ft03">Sub-Event Name</p>
<p style="position:absolute;top:668px;left:208px;white-space:nowrap" class="ft03">EVTSEL&#160;Description</p>
<p style="position:absolute;top:692px;left:74px;white-space:nowrap" class="ft03">DSB_MISS</p>
<p style="position:absolute;top:692px;left:208px;white-space:nowrap" class="ft03">11H</p>
<p style="position:absolute;top:692px;left:268px;white-space:nowrap" class="ft03">Retired&#160;Instructions&#160;which&#160;experienced&#160;decode&#160;stream&#160;buffer&#160;(DSB) miss.</p>
<p style="position:absolute;top:716px;left:74px;white-space:nowrap" class="ft03">L1I_MISS</p>
<p style="position:absolute;top:716px;left:208px;white-space:nowrap" class="ft03">12H</p>
<p style="position:absolute;top:716px;left:267px;white-space:nowrap" class="ft03">The&#160;fetch&#160;of&#160;retired&#160;Instructions which&#160;experienced&#160;Instruction L1&#160;Cache true&#160;miss</p>
<p style="position:absolute;top:713px;left:736px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:716px;left:742px;white-space:nowrap" class="ft03">. Additional&#160;</p>
<p style="position:absolute;top:732px;left:268px;white-space:nowrap" class="ft03">requests to&#160;the same cache&#160;line&#160;as an&#160;in-flight L1I cache&#160;miss will not be&#160;counted.</p>
<p style="position:absolute;top:1013px;left:69px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:1031px;left:68px;white-space:nowrap" class="ft03">1. A true miss&#160;is the&#160;first miss&#160;for a cacheline/page&#160;(excluding&#160;secondary misses that&#160;fall into&#160;same cacheline/page).</p>
<p style="position:absolute;top:756px;left:74px;white-space:nowrap" class="ft03">L2_MISS</p>
<p style="position:absolute;top:756px;left:208px;white-space:nowrap" class="ft03">13H</p>
<p style="position:absolute;top:756px;left:268px;white-space:nowrap" class="ft03">The fetch of&#160;retired Instructions&#160;which experienced L2&#160;Cache true&#160;miss.&#160;Additional requests to&#160;the&#160;</p>
<p style="position:absolute;top:773px;left:268px;white-space:nowrap" class="ft03">same cache line as an&#160;in-flight MLC cache miss will not be counted.</p>
<p style="position:absolute;top:797px;left:74px;white-space:nowrap" class="ft03">ITLB_MISS</p>
<p style="position:absolute;top:797px;left:208px;white-space:nowrap" class="ft03">14H</p>
<p style="position:absolute;top:797px;left:268px;white-space:nowrap" class="ft03">The&#160;fetch&#160;of&#160;retired&#160;Instructions&#160;which&#160;experienced&#160;ITLB true miss.&#160;Additional requests to&#160;the&#160;same&#160;</p>
<p style="position:absolute;top:813px;left:268px;white-space:nowrap" class="ft03">cache line&#160;as an&#160;in-flight ITLB&#160;miss will not be&#160;counted.</p>
<p style="position:absolute;top:837px;left:74px;white-space:nowrap" class="ft03">STLB_MISS</p>
<p style="position:absolute;top:837px;left:208px;white-space:nowrap" class="ft03">15H</p>
<p style="position:absolute;top:837px;left:268px;white-space:nowrap" class="ft03">The&#160;fetch&#160;of&#160;retired Instructions which&#160;experienced&#160;STLB&#160;true&#160;miss. Additional requests to&#160;the&#160;</p>
<p style="position:absolute;top:854px;left:268px;white-space:nowrap" class="ft03">same cache line as&#160;an in-flight STLB miss will not be counted.</p>
<p style="position:absolute;top:878px;left:74px;white-space:nowrap" class="ft03">IDQ_READ_BUBBLES&#160;6H</p>
<p style="position:absolute;top:878px;left:268px;white-space:nowrap" class="ft03">An&#160;IDQ read&#160;bubble is&#160;defined as&#160;any one of&#160;the 4&#160;allocation&#160;slots of&#160;IDQ&#160;that&#160;is&#160;not filled by the&#160;</p>
<p style="position:absolute;top:894px;left:268px;white-space:nowrap" class="ft03">front-end on&#160;any&#160;cycle where&#160;there is&#160;no&#160;back&#160;end stall.&#160;Using the threshold and latency fields&#160;in&#160;</p>
<p style="position:absolute;top:911px;left:268px;white-space:nowrap" class="ft08">MSR_PEBS_FRONTEND allows&#160;counting&#160;of&#160;IDQ read&#160;bubbles of&#160;various magnitude and&#160;duration.&#160;<br/>Latency controls the number of&#160;cycles and Threshold controls the number of&#160;allocation slots that&#160;</p>
<p style="position:absolute;top:948px;left:268px;white-space:nowrap" class="ft09">contain&#160;bubbles.<br/>The event counts&#160;if and&#160;only if&#160;a sequence of&#160;at&#160;least FE_LATENCY&#160;consecutive&#160;cycles contain at&#160;</p>
<p style="position:absolute;top:986px;left:268px;white-space:nowrap" class="ft03">least&#160;FE_TRESHOLD number&#160;of&#160;bubbles&#160;each.</p>
</div>
</body>
</html>
