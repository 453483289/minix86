<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 197</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:7px;font-family:Times;color:#000000;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:9px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:7px;line-height:10px;font-family:Times;color:#000000;}
	.ft011{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft012{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page197-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce197.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 3A&#160;6-11</p>
<p style="position:absolute;top:47px;left:609px;white-space:nowrap" class="ft01">INTERRUPT&#160;AND&#160;EXCEPTION HANDLING</p>
<p style="position:absolute;top:746px;left:69px;white-space:nowrap" class="ft02">6.12&#160;</p>
<p style="position:absolute;top:746px;left:148px;white-space:nowrap" class="ft02">EXCEPTION AND INTERRUPT&#160;HANDLING</p>
<p style="position:absolute;top:782px;left:69px;white-space:nowrap" class="ft09">The processor handles&#160;calls&#160;to&#160;exception-&#160;and&#160;interrupt-handlers similar to&#160;the way it&#160;handles&#160;calls with a&#160;CALL&#160;<br/>instruction&#160;to a&#160;procedure&#160;or a&#160;task.&#160;When responding to&#160;an&#160;exception or interrupt,&#160;the processor uses&#160;the excep-<br/>tion or interrupt vector as&#160;an index&#160;to a descriptor&#160;in the&#160;IDT.&#160;If&#160;the index points&#160;to an interrupt gate&#160;or&#160;trap&#160;gate,&#160;<br/>the processor calls&#160;the&#160;exception&#160;or interrupt handler&#160;in&#160;a manner similar&#160;to&#160;a CALL&#160;to a&#160;<a href="o_fe12b1e2a880e0ce-165.html">call gate (see Section&#160;<br/>5.8.2,&#160;“Gate&#160;Descriptors,”</a>&#160;throug<a href="o_fe12b1e2a880e0ce-172.html">h Section 5.8.6, “Returning&#160;from&#160;a Called Procedure”).&#160;</a>If index&#160;points to&#160;a task&#160;<br/>gate,&#160;the&#160;processor&#160;executes&#160;a task switch to the&#160;exception-&#160;or interrupt-handler task in&#160;a manner&#160;similar to&#160;a CALL&#160;<br/>to a&#160;task&#160;<a href="o_fe12b1e2a880e0ce-247.html">gate (see Section 7.3, “Task&#160;Switching”).</a></p>
<p style="position:absolute;top:932px;left:69px;white-space:nowrap" class="ft04">6.12.1&#160;</p>
<p style="position:absolute;top:932px;left:150px;white-space:nowrap" class="ft04">Exception- or Interrupt-Handler Procedures</p>
<p style="position:absolute;top:962px;left:69px;white-space:nowrap" class="ft09">An interrupt&#160;gate&#160;or trap gate references&#160;an&#160;exception-&#160;or interrupt-handler procedure that&#160;runs&#160;in the&#160;context of&#160;<br/>the currently executing&#160;task (see<a href="o_fe12b1e2a880e0ce-198.html">&#160;Figure&#160;6-3</a>).&#160;The segment&#160;selector for the gate points&#160;to a segment descriptor for&#160;<br/>an&#160;executable code segment in&#160;either the&#160;GDT&#160;or&#160;the current&#160;LDT.&#160;The&#160;offset field of&#160;the&#160;gate&#160;descriptor points&#160;to&#160;<br/>the beginning&#160;of&#160;the exception-&#160;or interrupt-handling&#160;procedure.</p>
<p style="position:absolute;top:697px;left:344px;white-space:nowrap" class="ft05">Figure&#160;6-2. &#160;IDT Gate&#160;Descriptors</p>
<p style="position:absolute;top:297px;left:249px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:297px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:298px;left:478px;white-space:nowrap" class="ft06">13</p>
<p style="position:absolute;top:298px;left:465px;white-space:nowrap" class="ft06">14</p>
<p style="position:absolute;top:298px;left:490px;white-space:nowrap" class="ft06">12</p>
<p style="position:absolute;top:298px;left:545px;white-space:nowrap" class="ft06">8&#160;7</p>
<p style="position:absolute;top:298px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:328px;left:454px;white-space:nowrap" class="ft06">P</p>
<p style="position:absolute;top:327px;left:322px;white-space:nowrap" class="ft07">Offset&#160;31..16</p>
<p style="position:absolute;top:318px;left:473px;white-space:nowrap" class="ft010">D<br/>P</p>
<p style="position:absolute;top:339px;left:473px;white-space:nowrap" class="ft06">L</p>
<p style="position:absolute;top:328px;left:494px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:327px;left:659px;white-space:nowrap" class="ft00">4</p>
<p style="position:absolute;top:364px;left:248px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:364px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:364px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:393px;left:305px;white-space:nowrap" class="ft07">Segment&#160;Selector</p>
<p style="position:absolute;top:393px;left:529px;white-space:nowrap" class="ft07">Offset&#160;15..0</p>
<p style="position:absolute;top:393px;left:659px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:328px;left:542px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:328px;left:529px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:328px;left:517px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:328px;left:506px;white-space:nowrap" class="ft06">D</p>
<p style="position:absolute;top:281px;left:411px;white-space:nowrap" class="ft08"><b>Interrupt Gate</b></p>
<p style="position:absolute;top:595px;left:293px;white-space:nowrap" class="ft012">DPL<br/>Offset<br/>P<br/>Selector</p>
<p style="position:absolute;top:595px;left:361px;white-space:nowrap" class="ft012">Descriptor&#160;Privilege Level<br/>Offset to procedure entry&#160;point<br/>Segment Present flag<br/>Segment Selector&#160;for destination code segment</p>
<p style="position:absolute;top:141px;left:249px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:141px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:141px;left:478px;white-space:nowrap" class="ft06">13</p>
<p style="position:absolute;top:141px;left:465px;white-space:nowrap" class="ft06">14</p>
<p style="position:absolute;top:141px;left:490px;white-space:nowrap" class="ft06">12</p>
<p style="position:absolute;top:141px;left:545px;white-space:nowrap" class="ft06">8&#160;7</p>
<p style="position:absolute;top:141px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:172px;left:454px;white-space:nowrap" class="ft06">P</p>
<p style="position:absolute;top:162px;left:473px;white-space:nowrap" class="ft010">D<br/>P</p>
<p style="position:absolute;top:182px;left:473px;white-space:nowrap" class="ft06">L</p>
<p style="position:absolute;top:171px;left:493px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:171px;left:659px;white-space:nowrap" class="ft00">4</p>
<p style="position:absolute;top:207px;left:248px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:207px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:207px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:237px;left:299px;white-space:nowrap" class="ft07">TSS&#160;Segment&#160;Selector</p>
<p style="position:absolute;top:237px;left:659px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:171px;left:543px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:171px;left:529px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:171px;left:517px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:171px;left:505px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:124px;left:423px;white-space:nowrap" class="ft08"><b>Task Gate</b></p>
<p style="position:absolute;top:298px;left:603px;white-space:nowrap" class="ft06">4</p>
<p style="position:absolute;top:298px;left:590px;white-space:nowrap" class="ft06">5</p>
<p style="position:absolute;top:327px;left:559px;white-space:nowrap" class="ft07">0 &#160;&#160;0 &#160;&#160;0</p>
<p style="position:absolute;top:455px;left:249px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:455px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:456px;left:478px;white-space:nowrap" class="ft06">13</p>
<p style="position:absolute;top:455px;left:465px;white-space:nowrap" class="ft06">14</p>
<p style="position:absolute;top:455px;left:490px;white-space:nowrap" class="ft06">12</p>
<p style="position:absolute;top:456px;left:545px;white-space:nowrap" class="ft06">8&#160;7</p>
<p style="position:absolute;top:456px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:486px;left:454px;white-space:nowrap" class="ft06">P</p>
<p style="position:absolute;top:485px;left:322px;white-space:nowrap" class="ft07">Offset&#160;31..16</p>
<p style="position:absolute;top:476px;left:473px;white-space:nowrap" class="ft010">D<br/>P</p>
<p style="position:absolute;top:497px;left:473px;white-space:nowrap" class="ft06">L</p>
<p style="position:absolute;top:486px;left:494px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:485px;left:659px;white-space:nowrap" class="ft00">4</p>
<p style="position:absolute;top:521px;left:248px;white-space:nowrap" class="ft06">31</p>
<p style="position:absolute;top:521px;left:440px;white-space:nowrap" class="ft06">16&#160;15</p>
<p style="position:absolute;top:522px;left:648px;white-space:nowrap" class="ft06">0</p>
<p style="position:absolute;top:551px;left:305px;white-space:nowrap" class="ft07">Segment&#160;Selector</p>
<p style="position:absolute;top:551px;left:529px;white-space:nowrap" class="ft07">Offset&#160;15..0</p>
<p style="position:absolute;top:551px;left:659px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:486px;left:543px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:486px;left:530px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:486px;left:518px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:486px;left:506px;white-space:nowrap" class="ft06">D</p>
<p style="position:absolute;top:439px;left:423px;white-space:nowrap" class="ft08"><b>Trap&#160;Gate</b></p>
<p style="position:absolute;top:456px;left:603px;white-space:nowrap" class="ft06">4</p>
<p style="position:absolute;top:456px;left:590px;white-space:nowrap" class="ft06">5</p>
<p style="position:absolute;top:485px;left:559px;white-space:nowrap" class="ft07">0 &#160;&#160;0 &#160;&#160;0</p>
<p style="position:absolute;top:674px;left:322px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:651px;left:361px;white-space:nowrap" class="ft00">Size of gate: 1&#160;=&#160;32 bits; 0 = 16&#160;bits</p>
<p style="position:absolute;top:651px;left:293px;white-space:nowrap" class="ft00">D</p>
</div>
</body>
</html>
