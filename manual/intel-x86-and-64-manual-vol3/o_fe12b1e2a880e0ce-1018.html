<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1018</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1018-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1018.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">22-14&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">ARCHITECTURE&#160;COMPATIBILITY</p>
<p style="position:absolute;top:99px;left:68px;white-space:nowrap" class="ft02">22.18.7.14&#160;&#160;FSETPM Instruction</p>
<p style="position:absolute;top:127px;left:68px;white-space:nowrap" class="ft06">With the&#160;32-bit x87 FPUs, the&#160;FSETPM instruction is&#160;treated as&#160;NOP (no&#160;operation). This&#160;instruction informs&#160;the&#160;<br/>Intel&#160;287 math coprocessor that the processor is&#160;in&#160;protected mode.&#160;This change&#160;has no&#160;impact on&#160;existing&#160;soft-<br/>ware.&#160;The 32-bit x87 FPUs handle all addressing and&#160;exception-pointer information, whether in protected mode or&#160;<br/>not.</p>
<p style="position:absolute;top:221px;left:68px;white-space:nowrap" class="ft02">22.18.7.15&#160;&#160;FXAM Instruction</p>
<p style="position:absolute;top:250px;left:68px;white-space:nowrap" class="ft06">With the&#160;32-bit x87 FPUs, if the&#160;FPU encounters&#160;an empty&#160;register when executing the&#160;FXAM&#160;instruction, it&#160;not&#160;<br/>generate combinations&#160;of C0 through C3 equal&#160;to 1101 or&#160;1111.&#160;The 16-bit IA-32&#160;math coprocessors may generate&#160;<br/>these combinations, among others. This&#160;difference&#160;has no&#160;impact on existing software;&#160;it provides a&#160;performance&#160;<br/>upgrade&#160;to provide repeatable results.</p>
<p style="position:absolute;top:343px;left:68px;white-space:nowrap" class="ft02">22.18.7.16 &#160;FSAVE&#160;and FSTENV&#160;Instructions</p>
<p style="position:absolute;top:372px;left:68px;white-space:nowrap" class="ft06">With&#160;the&#160;32-bit x87&#160;FPUs,&#160;the&#160;address of a memory&#160;operand&#160;pointer stored by&#160;FSAVE&#160;or FSTENV&#160;is undefined if&#160;the&#160;<br/>previous floating-point&#160;instruction&#160;did not refer to memory</p>
<p style="position:absolute;top:439px;left:68px;white-space:nowrap" class="ft04">22.18.8 Transcendental&#160;</p>
<p style="position:absolute;top:439px;left:277px;white-space:nowrap" class="ft04">Instructions</p>
<p style="position:absolute;top:469px;left:68px;white-space:nowrap" class="ft06">The floating-point&#160;results of the&#160;P6 family and&#160;Pentium&#160;processors&#160;for&#160;transcendental instructions in the&#160;core&#160;range&#160;<br/>may differ from the Intel486 processors by&#160;about&#160;2&#160;or 3 ulps (see ‚ÄúTranscendental&#160;Instruction Accura<a href="˛ˇ">cy‚Äù in Chapter&#160;<br/>8, ‚ÄúProgramming&#160;with&#160;the x87 FPU,‚Äù&#160;of the&#160;<i>Intel¬Æ 64&#160;and&#160;IA-32&#160;Architectures Software&#160;Developer‚Äôs&#160;Manual,&#160;<br/>Volume 1</i></a>). Condition code&#160;flag C1&#160;of the&#160;status word&#160;may differ&#160;as a&#160;result. The exact&#160;threshold for underflow and&#160;<br/>overflow&#160;will vary by a few ulps.&#160;The P6 family and Pentium&#160;processors‚Äô&#160;results will&#160;have&#160;a worst case&#160;error of&#160;less&#160;<br/>than 1&#160;ulp&#160;when&#160;rounding&#160;to&#160;the&#160;nearest-even and&#160;less than&#160;1.5 ulps&#160;when rounding&#160;in other modes.&#160;The&#160;transcen-<br/>dental instructions&#160;are guaranteed&#160;to be monotonic,&#160;with&#160;respect&#160;to the&#160;input operands, throughout the&#160;domain&#160;<br/>supported&#160;by the&#160;instruction.<br/>Transcendental instructions may&#160;generate&#160;different results in the&#160;round-up flag&#160;(C1) on&#160;the 32-bit&#160;x87 FPUs. The&#160;<br/>round-up flag&#160;is undefined for these instructions on&#160;the&#160;16-bit IA-32&#160;math coprocessors.&#160;This difference has&#160;no&#160;<br/>impact on&#160;existing&#160;software.</p>
<p style="position:absolute;top:692px;left:68px;white-space:nowrap" class="ft04">22.18.9 Obsolete&#160;</p>
<p style="position:absolute;top:692px;left:225px;white-space:nowrap" class="ft04">Instructions</p>
<p style="position:absolute;top:723px;left:68px;white-space:nowrap" class="ft06">The&#160;8087&#160;math coprocessor instructions FENI&#160;and FDISI&#160;and&#160;the&#160;Intel&#160;287&#160;math coprocessor instruction FSETPM&#160;<br/>are treated as&#160;integer NOP&#160;instructions&#160;in the&#160;32-bit x87&#160;FPUs. If these opcodes&#160;are detected in&#160;the instruction&#160;<br/>stream, no&#160;specific&#160;operation&#160;is performed and&#160;no internal&#160;states are affected.</p>
<p style="position:absolute;top:806px;left:68px;white-space:nowrap" class="ft04">22.18.10&#160;WAIT/FWAIT Prefix Differences</p>
<p style="position:absolute;top:837px;left:68px;white-space:nowrap" class="ft06">On the&#160;Intel486&#160;processor,&#160;when a&#160;WAIT/FWAIT&#160;instruction&#160;precedes a floating-point instruction (one&#160;which itself&#160;<br/>automatically synchronizes with&#160;the previous floating-point&#160;instruction), the&#160;WAIT/FWAIT instruction&#160;is&#160;treated as&#160;<br/>a&#160;no-op.&#160;Pending floating-point&#160;exceptions from&#160;a previous&#160;floating-point&#160;instruction&#160;are processed&#160;not on&#160;the&#160;<br/>WAIT/FWAIT instruction but on the&#160;floating-point instruction following the WAIT/FWAIT&#160;instruction. In such a&#160;case,&#160;<br/>the report of a&#160;floating-point exception&#160;may&#160;appear one&#160;instruction later on the&#160;Intel486&#160;processor than&#160;on&#160;a P6&#160;<br/>family or&#160;Pentium&#160;FPU,&#160;or on&#160;Intel&#160;387&#160;math&#160;coprocessor.</p>
<p style="position:absolute;top:970px;left:68px;white-space:nowrap" class="ft04">22.18.11&#160;Operands Split Across Segments and/or Pages</p>
<p style="position:absolute;top:1000px;left:68px;white-space:nowrap" class="ft06">On the&#160;P6 family, Pentium, and Intel486&#160;processor FPUs, when&#160;the first half of an operand to be written is inside a&#160;<br/>page&#160;or segment and&#160;the second half is&#160;outside,&#160;a&#160;memory&#160;fault can cause the&#160;first&#160;half to be stored&#160;but not the&#160;<br/>second half. In this&#160;situation,&#160;the Intel&#160;387 math coprocessor stores nothing.</p>
</div>
</body>
</html>
