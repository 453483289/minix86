<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1096</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1096-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1096.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">26-4&#160;Vol. 3C</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">VM&#160;ENTRIES</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft05">If&#160;the “virtualize x2APIC&#160;mode” VM-execution control is 1,&#160;the&#160;“virtualize&#160;APIC&#160;accesses” VM-execution&#160;control&#160;<br/>must be 0.</p>
<p style="position:absolute;top:139px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:139px;left:93px;white-space:nowrap" class="ft05">If the “virtual-interrupt delivery” VM-execution&#160;control is&#160;1,&#160;the&#160;“external-interrupt exiting”&#160;VM-execution&#160;<br/>control must be&#160;1.</p>
<p style="position:absolute;top:178px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:178px;left:93px;white-space:nowrap" class="ft03">If the&#160;“process&#160;posted interrupts”&#160;VM-execution&#160;control is&#160;1, the&#160;following must&#160;be&#160;true:</p>
<p style="position:absolute;top:176px;left:686px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:202px;left:93px;white-space:nowrap" class="ft06">—&#160;The “virtual-interrupt delivery”&#160;VM-execution&#160;control is&#160;1.<br/>—&#160;The&#160;“acknowledge interrupt on&#160;exit”&#160;VM-exit control is&#160;1.<br/>—&#160;The posted-interrupt&#160;notification&#160;vector&#160;has a&#160;value&#160;in the&#160;range&#160;0–255&#160;(bits&#160;15:8 are&#160;all&#160;0).<br/>—&#160;Bits&#160;5:0&#160;of the&#160;posted-interrupt descriptor&#160;address are&#160;all&#160;0.<br/>—&#160;The posted-interrupt descriptor address&#160;does&#160;not set&#160;any bits beyond&#160;the processor's&#160;physical-address&#160;</p>
<p style="position:absolute;top:315px;left:119px;white-space:nowrap" class="ft03">width.</p>
<p style="position:absolute;top:312px;left:161px;white-space:nowrap" class="ft04">2</p>
<p style="position:absolute;top:337px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:337px;left:93px;white-space:nowrap" class="ft05">If the “enable VPID”&#160;VM-execution&#160;control is&#160;1,&#160;the value of the&#160;VPID&#160;VM-execution control field must not be&#160;<br/>0000H.</p>
<p style="position:absolute;top:351px;left:142px;white-space:nowrap" class="ft04">3</p>
<p style="position:absolute;top:376px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:376px;left:93px;white-space:nowrap" class="ft05">If the “enable EPT” VM-execution&#160;control&#160;is&#160;1,&#160;the EPTP&#160;VM-executi<a href="o_fe12b1e2a880e0ce-1061.html">on control field (see Table&#160;24-8&#160;in Section&#160;<br/>24.6.11</a>)&#160;must satisfy the&#160;following&#160;checks:</p>
<p style="position:absolute;top:390px;left:385px;white-space:nowrap" class="ft04">4</p>
<p style="position:absolute;top:417px;left:93px;white-space:nowrap" class="ft03">—&#160;The EPT memory&#160;type&#160;(bits&#160;2:0) must be&#160;a&#160;value&#160;supported&#160;by&#160;the processor as&#160;indicated&#160;in the&#160;</p>
<p style="position:absolute;top:433px;left:119px;white-space:nowrap" class="ft03">IA32_VMX_EPT_VPID_CAP&#160;MS<a href="o_fe12b1e2a880e0ce-1949.html">R (see Appendix A.10).</a></p>
<p style="position:absolute;top:457px;left:93px;white-space:nowrap" class="ft03">—&#160;Bits&#160;5:3&#160;(1 less than the&#160;EPT&#160;page-walk length) must be&#160;3,&#160;indicating&#160;an EPT&#160;page-walk&#160;length&#160;of&#160;4; see&#160;</p>
<p style="position:absolute;top:474px;left:119px;white-space:nowrap" class="ft03"><a href="o_fe12b1e2a880e0ce-1151.html">Section 28.2.2</a>.</p>
<p style="position:absolute;top:498px;left:93px;white-space:nowrap" class="ft03">—&#160;Bit 6 (enable bit for accessed&#160;and dirty flags&#160;for&#160;EPT)&#160;must be&#160;0&#160;if bit&#160;21 of the&#160;IA32_VMX_EPT_VPID_CAP&#160;</p>
<p style="position:absolute;top:514px;left:119px;white-space:nowrap" class="ft05"><a href="o_fe12b1e2a880e0ce-1949.html">MSR (see Appendix A.10) is&#160;</a>read&#160;as 0,&#160;indicating that&#160;the processor does not&#160;support accessed&#160;and&#160;dirty&#160;<br/>flags for EPT.</p>
<p style="position:absolute;top:555px;left:93px;white-space:nowrap" class="ft03">—&#160;Reserved&#160;bits&#160;11:7 and&#160;63:N (where N&#160;is the&#160;processor’s&#160;physical-address width) must all&#160;be&#160;0.</p>
<p style="position:absolute;top:577px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:577px;left:93px;white-space:nowrap" class="ft03">If the “enable PML”&#160;VM-execution&#160;control is&#160;1,&#160;the&#160;“enable EPT”&#160;VM-execution control must&#160;also be&#160;1.</p>
<p style="position:absolute;top:575px;left:773px;white-space:nowrap" class="ft04">5</p>
<p style="position:absolute;top:577px;left:780px;white-space:nowrap" class="ft03">&#160;In&#160;</p>
<p style="position:absolute;top:594px;left:93px;white-space:nowrap" class="ft06">addition,&#160;the PML&#160;address must satisfy&#160;the&#160;following checks:<br/>—&#160;Bits&#160;11:0&#160;of the&#160;address must be 0.<br/>—&#160;The address&#160;should not set any&#160;bits&#160;beyond&#160;the&#160;processor’s physical-address&#160;width.</p>
<p style="position:absolute;top:639px;left:681px;white-space:nowrap" class="ft04">6</p>
<p style="position:absolute;top:664px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:664px;left:93px;white-space:nowrap" class="ft03">If the “unrestricted&#160;guest”&#160;VM-execution control&#160;is 1, the&#160;“enable&#160;EPT” VM-execution&#160;control&#160;must&#160;also&#160;be&#160;1.</p>
<p style="position:absolute;top:662px;left:821px;white-space:nowrap" class="ft04">7</p>
<p style="position:absolute;top:686px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:687px;left:93px;white-space:nowrap" class="ft05">If the&#160;“enable&#160;VM functions”&#160;processor-based VM-execution control&#160;is 1, reserved&#160;bits in&#160;the&#160;VM-function&#160;<br/>controls&#160;must be clear.</p>
<p style="position:absolute;top:701px;left:246px;white-space:nowrap" class="ft04">8</p>
<p style="position:absolute;top:703px;left:253px;white-space:nowrap" class="ft03">&#160;Software&#160;may consult&#160;the&#160;VMX capability MSRs&#160;to determine which bits&#160;are&#160;reserved&#160;</p>
<p style="position:absolute;top:720px;left:93px;white-space:nowrap" class="ft07">(see<a href="o_fe12b1e2a880e0ce-1950.html">&#160;Appendix A.11</a>).&#160;In&#160;addition,&#160;the&#160;following&#160;check&#160;is performed based&#160;on&#160;the setting of bits in&#160;the VM-<br/>function&#160;<a href="o_fe12b1e2a880e0ce-1062.html">controls (see Section 24.6.14):<br/></a>—&#160;If “EPTP switching”&#160;VM-function control&#160;is 1, the&#160;“enable EPT” VM-execution control must&#160;also be&#160;1. In&#160;</p>
<p style="position:absolute;top:777px;left:119px;white-space:nowrap" class="ft03">addition, the&#160;EPTP-list&#160;address must satisfy&#160;the following checks:</p>
<p style="position:absolute;top:808px;left:68px;white-space:nowrap" class="ft03">1.&#160;“Process&#160;posted&#160;interrupts” is&#160;a secondary processor-based VM-execution&#160;control. If&#160;bit&#160;31 of&#160;the primary&#160;processor-based&#160;VM-exe-</p>
<p style="position:absolute;top:825px;left:89px;white-space:nowrap" class="ft03">cution controls is 0, VM&#160;entry functions as&#160;if&#160;the “process posted&#160;interrupts” VM-execution&#160;control were&#160;0.&#160;See<a href="o_fe12b1e2a880e0ce-1055.html">&#160;Section&#160;24.6.2.</a></p>
<p style="position:absolute;top:846px;left:68px;white-space:nowrap" class="ft08">2.&#160;If IA32_VMX_BASIC[48]&#160;is read as 1,&#160;this address must not set any bits&#160;in&#160;the range&#160;63:32; se<a href="o_fe12b1e2a880e0ce-1943.html">e Appendix&#160;A.1.<br/></a>3.&#160;“Enable VPID”&#160;is a secondary processor-based&#160;VM-execution&#160;control. If bit&#160;31 of&#160;the primary processor-based&#160;VM-execution&#160;controls&#160;</p>
<p style="position:absolute;top:883px;left:89px;white-space:nowrap" class="ft03">is 0, VM&#160;entry functions as if the “enable VPID” VM-execution control were&#160;0.&#160;Se<a href="o_fe12b1e2a880e0ce-1055.html">e Section 24.6.2</a>.</p>
<p style="position:absolute;top:904px;left:68px;white-space:nowrap" class="ft03">4.&#160;“Enable EPT” is&#160;a secondary processor-based&#160;VM-execution&#160;control. If&#160;bit&#160;31 of&#160;the primary processor-based VM-execution&#160;controls&#160;</p>
<p style="position:absolute;top:921px;left:89px;white-space:nowrap" class="ft03">is 0, VM&#160;entry functions as if the “enable&#160;EPT” VM-execution&#160;control were&#160;0.&#160;Se<a href="o_fe12b1e2a880e0ce-1055.html">e Section 24.6.2</a>.</p>
<p style="position:absolute;top:942px;left:68px;white-space:nowrap" class="ft03">5.&#160;“Enable PML” and&#160;“enable EPT” are both&#160;secondary&#160;processor-based&#160;VM-execution&#160;controls.&#160;If&#160;bit&#160;31 of&#160;the&#160;primary processor-based&#160;</p>
<p style="position:absolute;top:958px;left:89px;white-space:nowrap" class="ft03">VM-execution controls is 0, VM&#160;entry functions as if&#160;both these controls&#160;were<a href="o_fe12b1e2a880e0ce-1055.html">&#160;0. See Section 24.6.2.</a></p>
<p style="position:absolute;top:979px;left:68px;white-space:nowrap" class="ft09">6.&#160;If IA32_VMX_BASIC[48]&#160;is read as 1,&#160;this address must not set any bits&#160;in&#160;the range&#160;63:32; se<a href="o_fe12b1e2a880e0ce-1943.html">e Appendix&#160;A.1.<br/></a>7.&#160;“Unrestricted&#160;guest”&#160;and “enable EPT” are&#160;both&#160;secondary processor-based VM-execution&#160;controls.&#160;If&#160;bit&#160;31&#160;of&#160;the&#160;primary proces-</p>
<p style="position:absolute;top:1017px;left:89px;white-space:nowrap" class="ft03">sor-based VM-execution controls is 0,&#160;VM&#160;entry functions as if both these&#160;controls were&#160;0.&#160;Se<a href="o_fe12b1e2a880e0ce-1055.html">e Section 24.6.2.</a></p>
<p style="position:absolute;top:1038px;left:68px;white-space:nowrap" class="ft03">8.&#160;“Enable VM&#160;functions” is a&#160;secondary processor-based VM-execution&#160;control. If&#160;bit&#160;31 of&#160;the&#160;primary processor-based&#160;VM-execution&#160;</p>
<p style="position:absolute;top:1054px;left:89px;white-space:nowrap" class="ft03">controls&#160;is 0, VM&#160;entry functions as&#160;if the “enable&#160;VM&#160;functions”&#160;VM-execution control&#160;were&#160;0. See<a href="o_fe12b1e2a880e0ce-1055.html">&#160;Section 24.6.2</a>.</p>
</div>
</body>
</html>
