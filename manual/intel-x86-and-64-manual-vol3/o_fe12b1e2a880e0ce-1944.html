<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1944</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:8px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1944-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1944.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">A-2&#160;Vol. 3D</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">VMX CAPABILITY&#160;REPORTING FACILITY</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft07">If software&#160;needs to&#160;access these data structures&#160;(e.g.,&#160;to modify the contents of&#160;the MSR bitmaps), it can&#160;<br/>configure&#160;the paging structures&#160;to map&#160;them into&#160;the linear-address&#160;space. If&#160;it does&#160;so,&#160;it should&#160;establish&#160;<br/>mappings&#160;that use&#160;the memory&#160;type reported&#160;in&#160;this MSR.</p>
<p style="position:absolute;top:131px;left:485px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:155px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:156px;left:93px;white-space:nowrap" class="ft07">If bit&#160;54&#160;is read&#160;as&#160;1,&#160;the&#160;logical processor reports information&#160;in the&#160;VM-exit instruction-information field on&#160;<br/>VM&#160;exits due&#160;to execution of the&#160;INS&#160;and OUTS&#160;instructions.&#160;This reporting&#160;is done&#160;only&#160;if this bit is&#160;read&#160;as 1.</p>
<p style="position:absolute;top:194px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:195px;left:93px;white-space:nowrap" class="ft07">Bit&#160;55 is&#160;read as&#160;1 if any VMX controls that default to 1&#160;may&#160;be cleared to 0.&#160;S<a href="o_fe12b1e2a880e0ce-1944.html">ee&#160;Appendix A.2</a>&#160;for details. It&#160;also&#160;<br/>reports support for the&#160;VMX capability MSRs&#160;IA32_VMX_TRUE_PINBASED_CTLS,&#160;<br/>IA32_VMX_TRUE_PROCBASED_CTLS,&#160;IA32_VMX_TRUE_EXIT_CTLS,&#160;and&#160;IA32_VMX_TRUE_ENTRY_CTLS.&#160;See&#160;<br/><a href="o_fe12b1e2a880e0ce-1945.html">Appendix A.3.1, Appendix&#160;A.3.2,</a><a href="o_fe12b1e2a880e0ce-1946.html">&#160;Appendix&#160;A.4</a>,&#160;and<a href="o_fe12b1e2a880e0ce-1947.html">&#160;Appendix&#160;A.5 for details</a>.</p>
<p style="position:absolute;top:266px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:267px;left:93px;white-space:nowrap" class="ft02">The&#160;values of bits&#160;47:45&#160;and&#160;bits&#160;63:56&#160;are reserved&#160;and&#160;are&#160;read&#160;as 0.</p>
<p style="position:absolute;top:322px;left:68px;white-space:nowrap" class="ft05">A.2&#160;</p>
<p style="position:absolute;top:322px;left:147px;white-space:nowrap" class="ft05">RESERVED CONTROLS AND DEFAULT SETTINGS</p>
<p style="position:absolute;top:358px;left:68px;white-space:nowrap" class="ft09">As noted&#160;<a href="o_fe12b1e2a880e0ce-1093.html">in Chapter 26, “VM Entries”, certain VMX controls ar</a>e reserved and must be set to a specific value (0 or 1)&#160;<br/>determined&#160;by&#160;the&#160;processor.&#160;The&#160;specific value to&#160;which&#160;a reserved control must be set is&#160;its&#160;<b>default setting</b>.&#160;<br/>Software can&#160;discover&#160;the&#160;default setting of a&#160;reserved&#160;control by&#160;consulting the&#160;appropriate&#160;VMX capability MSR&#160;<br/><a href="o_fe12b1e2a880e0ce-1944.html">(see Appendix A.3&#160;</a><a href="o_fe12b1e2a880e0ce-1947.html">through Appendix&#160;A.5</a>).<br/>Future processors may define new functionality&#160;for&#160;one or&#160;more reserved controls.&#160;Such processors would&#160;allow&#160;<br/>each newly defined control to&#160;be set either to&#160;0 or&#160;to 1.&#160;Software that does not desire a control’s new functionality&#160;<br/>should&#160;set&#160;the control to&#160;its default&#160;setting. For that reason,&#160;it is&#160;useful for software to&#160;know&#160;the default settings&#160;of&#160;<br/>the reserved controls.<br/>Default&#160;settings&#160;partition the&#160;various&#160;controls into the&#160;following&#160;classes:</p>
<p style="position:absolute;top:527px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:528px;left:93px;white-space:nowrap" class="ft06"><b>Always-flexible</b>.&#160;These&#160;have&#160;never been&#160;reserved.</p>
<p style="position:absolute;top:550px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:550px;left:93px;white-space:nowrap" class="ft06"><b>Default0</b>.&#160;These&#160;are&#160;(or have&#160;been) reserved&#160;with&#160;a default setting&#160;of 0.</p>
<p style="position:absolute;top:572px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:573px;left:93px;white-space:nowrap" class="ft06"><b>Default1</b>.&#160;They are (or&#160;have been) reserved with a&#160;default setting of 1.</p>
<p style="position:absolute;top:597px;left:68px;white-space:nowrap" class="ft07">As&#160;noted&#160;<a href="o_fe12b1e2a880e0ce-1943.html">in Appendix A.1,</a>&#160;a logical processor uses&#160;bit&#160;55&#160;of&#160;the&#160;IA32_VMX_BASIC&#160;MSR to&#160;indicate whether any&#160;of&#160;<br/>the default1 controls&#160;may be 0:</p>
<p style="position:absolute;top:635px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:636px;left:93px;white-space:nowrap" class="ft07">If bit&#160;55&#160;of&#160;the&#160;IA32_VMX_BASIC&#160;MSR&#160;is read as&#160;0,&#160;all&#160;the default1 controls&#160;are reserved and&#160;must&#160;be&#160;1.&#160;<br/>VM&#160;entry&#160;will&#160;fail if&#160;any of these&#160;controls are&#160;0&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-1094.html">Section&#160;26.2.1).</a></p>
<p style="position:absolute;top:674px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:675px;left:93px;white-space:nowrap" class="ft07">If bit&#160;55&#160;of&#160;the&#160;IA32_VMX_BASIC&#160;MSR&#160;is read as&#160;1,&#160;not&#160;all the default1&#160;controls are&#160;reserved, and some&#160;(but&#160;<br/>not necessarily all)&#160;may be 0.&#160;The&#160;CPU&#160;supports four (4) new VMX capability MSRs:&#160;<br/>IA32_VMX_TRUE_PINBASED_CTLS,&#160;IA32_VMX_TRUE_PROCBASED_CTLS, IA32_VMX_TRUE_EXIT_CTLS,&#160;and&#160;<br/>IA32_VMX_TRUE_ENTRY_CTLS.&#160;S<a href="o_fe12b1e2a880e0ce-1944.html">ee Appendix A.3&#160;</a>throug<a href="o_fe12b1e2a880e0ce-1947.html">h&#160;Appendix&#160;A.5 fo</a>r details. (These MSRs&#160;are not&#160;<br/>supported if bit&#160;55&#160;of&#160;the IA32_VMX_BASIC&#160;MSR&#160;is read as&#160;0.)</p>
<p style="position:absolute;top:765px;left:68px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-1215.html">e Section 31.5.1&#160;for recommended softw</a>are&#160;algorithms for&#160;proper&#160;capability detection of&#160;the default1 controls.</p>
<p style="position:absolute;top:820px;left:68px;white-space:nowrap" class="ft05">A.3 VM-EXECUTION&#160;</p>
<p style="position:absolute;top:820px;left:296px;white-space:nowrap" class="ft05">CONTROLS</p>
<p style="position:absolute;top:856px;left:68px;white-space:nowrap" class="ft07">There are separate&#160;capability MSRs&#160;for&#160;the pin-based&#160;VM-execution controls,&#160;the primary&#160;processor-based VM-<br/>execution controls, and&#160;the secondary&#160;processor-based VM-execution&#160;controls. These are&#160;described&#160;in<a href="o_fe12b1e2a880e0ce-1945.html">&#160;Appendix&#160;<br/>A.3.1, Appendix A.3.2</a>,&#160;and&#160;<a href="o_fe12b1e2a880e0ce-1946.html">Appendix&#160;A.3.3,</a>&#160;respectively.</p>
<p style="position:absolute;top:1005px;left:68px;white-space:nowrap" class="ft02">1.&#160;Alternatively,&#160;software&#160;may&#160;map&#160;any&#160;of&#160;these&#160;regions or&#160;structures&#160;with&#160;the&#160;UC&#160;memory&#160;type.&#160;(This&#160;may&#160;be&#160;necessary&#160;for&#160;the&#160;MSEG&#160;</p>
<p style="position:absolute;top:1021px;left:89px;white-space:nowrap" class="ft02">header.) Doing&#160;so is&#160;discouraged unless&#160;necessary as&#160;it will cause the performance&#160;of&#160;software&#160;accesses to&#160;those&#160;structures&#160;to&#160;suf-</p>
<p style="position:absolute;top:1038px;left:89px;white-space:nowrap" class="ft02">fer.&#160;The processor&#160;will continue&#160;to&#160;use the&#160;memory type reported&#160;in&#160;the VMX capability&#160;MSR&#160;IA32_VMX_BASIC&#160;with the&#160;exceptions&#160;</p>
<p style="position:absolute;top:1054px;left:89px;white-space:nowrap" class="ft02">noted.</p>
</div>
</body>
</html>
