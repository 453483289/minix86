<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 446</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page446-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce446.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">11-34&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">MEMORY&#160;CACHE CONTROL</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">11.12.1&#160;&#160;Detecting Support for the PAT Feature</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft05">An&#160;operating&#160;system or&#160;executive&#160;can detect&#160;the availability of the&#160;PAT&#160;by&#160;executing&#160;the CPUID&#160;instruction with&#160;a&#160;<br/>value&#160;of 1 in&#160;the EAX register.&#160;Support for&#160;the PAT&#160;is indicated&#160;by the&#160;PAT flag&#160;(bit&#160;16 of&#160;the&#160;values returned to&#160;EDX&#160;<br/>register). If the PAT is supported, the operating system or&#160;executive can use the IA32_PAT&#160;MSR to program the PAT.&#160;<br/>When memory types have&#160;been&#160;assigned&#160;to entries in the&#160;PAT,&#160;software can&#160;then use of&#160;the PAT-index bit (PAT) in&#160;<br/>the page-table&#160;and page-directory&#160;entries&#160;along with the&#160;PCD&#160;and PWT&#160;bits to&#160;assign&#160;memory types from the&#160;PAT&#160;<br/>to individual&#160;pages.<br/>Note&#160;that&#160;there&#160;is no separate flag&#160;or control bit in any&#160;of&#160;the control registers&#160;that enables the&#160;PAT.&#160;The PAT is&#160;<br/>always&#160;enabled on&#160;all&#160;processors&#160;that support it, and&#160;the&#160;table&#160;lookup&#160;always occurs&#160;whenever paging&#160;is enabled,&#160;<br/>in all&#160;paging&#160;modes.</p>
<p style="position:absolute;top:319px;left:68px;white-space:nowrap" class="ft02">11.12.2 IA32_PAT&#160;</p>
<p style="position:absolute;top:319px;left:231px;white-space:nowrap" class="ft02">MSR</p>
<p style="position:absolute;top:349px;left:68px;white-space:nowrap" class="ft05">The&#160;IA32_PAT&#160;MSR is&#160;located&#160;at&#160;MSR&#160;address 277H (see<a href="o_fe12b1e2a880e0ce-1281.html">&#160;Chapter&#160;35,&#160;“Model-Specific&#160;Registers&#160;(MSRs)”).</a><a href="o_fe12b1e2a880e0ce-446.html">&#160;Figure&#160;<br/>11-9.</a>&#160;shows the&#160;format&#160;of the&#160;64-bit IA32_PAT&#160;MSR.<br/>The IA32_PAT&#160;MSR contains&#160;eight&#160;page attribute fields: PA0&#160;through&#160;PA7. The three low-order bits of&#160;each&#160;field are&#160;<br/>used to&#160;specify&#160;a memory type.&#160;The five&#160;high-order bits of&#160;each field are&#160;reserved, and must be&#160;set to all&#160;0s. Each&#160;<br/>of the eight&#160;page attribute fields can&#160;contain&#160;any of&#160;the memory type&#160;encodings specified&#160;<a href="o_fe12b1e2a880e0ce-446.html">in Table&#160;11-10.</a></p>
<p style="position:absolute;top:643px;left:68px;white-space:nowrap" class="ft03">Note that for&#160;the P6 family&#160;processors,&#160;the IA32_PAT&#160;MSR is&#160;named the&#160;PAT&#160;MSR.</p>
<p style="position:absolute;top:475px;left:107px;white-space:nowrap" class="ft03">31</p>
<p style="position:absolute;top:475px;left:151px;white-space:nowrap" class="ft03">27</p>
<p style="position:absolute;top:475px;left:194px;white-space:nowrap" class="ft03">26</p>
<p style="position:absolute;top:475px;left:238px;white-space:nowrap" class="ft03">24</p>
<p style="position:absolute;top:475px;left:281px;white-space:nowrap" class="ft03">23</p>
<p style="position:absolute;top:475px;left:325px;white-space:nowrap" class="ft03">19</p>
<p style="position:absolute;top:475px;left:368px;white-space:nowrap" class="ft03">18</p>
<p style="position:absolute;top:475px;left:412px;white-space:nowrap" class="ft03">16</p>
<p style="position:absolute;top:475px;left:455px;white-space:nowrap" class="ft03">15</p>
<p style="position:absolute;top:475px;left:499px;white-space:nowrap" class="ft03">11</p>
<p style="position:absolute;top:475px;left:542px;white-space:nowrap" class="ft03">10</p>
<p style="position:absolute;top:475px;left:586px;white-space:nowrap" class="ft03">8</p>
<p style="position:absolute;top:475px;left:629px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:475px;left:673px;white-space:nowrap" class="ft03">3</p>
<p style="position:absolute;top:475px;left:716px;white-space:nowrap" class="ft03">2</p>
<p style="position:absolute;top:475px;left:760px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:495px;left:107px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:495px;left:194px;white-space:nowrap" class="ft03">PA3</p>
<p style="position:absolute;top:495px;left:281px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:495px;left:368px;white-space:nowrap" class="ft03">PA2</p>
<p style="position:absolute;top:495px;left:455px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:495px;left:542px;white-space:nowrap" class="ft03">PA1</p>
<p style="position:absolute;top:495px;left:629px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:495px;left:716px;white-space:nowrap" class="ft03">PA0</p>
<p style="position:absolute;top:534px;left:107px;white-space:nowrap" class="ft03">63</p>
<p style="position:absolute;top:534px;left:151px;white-space:nowrap" class="ft03">59</p>
<p style="position:absolute;top:534px;left:194px;white-space:nowrap" class="ft03">58</p>
<p style="position:absolute;top:534px;left:238px;white-space:nowrap" class="ft03">56</p>
<p style="position:absolute;top:534px;left:281px;white-space:nowrap" class="ft03">55</p>
<p style="position:absolute;top:534px;left:325px;white-space:nowrap" class="ft03">51</p>
<p style="position:absolute;top:534px;left:368px;white-space:nowrap" class="ft03">50</p>
<p style="position:absolute;top:534px;left:412px;white-space:nowrap" class="ft03">48</p>
<p style="position:absolute;top:534px;left:455px;white-space:nowrap" class="ft03">47</p>
<p style="position:absolute;top:534px;left:499px;white-space:nowrap" class="ft03">43</p>
<p style="position:absolute;top:534px;left:542px;white-space:nowrap" class="ft03">42</p>
<p style="position:absolute;top:534px;left:586px;white-space:nowrap" class="ft03">40</p>
<p style="position:absolute;top:534px;left:629px;white-space:nowrap" class="ft03">39</p>
<p style="position:absolute;top:534px;left:673px;white-space:nowrap" class="ft03">35</p>
<p style="position:absolute;top:534px;left:716px;white-space:nowrap" class="ft03">34</p>
<p style="position:absolute;top:534px;left:760px;white-space:nowrap" class="ft03">32</p>
<p style="position:absolute;top:553px;left:107px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:553px;left:194px;white-space:nowrap" class="ft03">PA7</p>
<p style="position:absolute;top:553px;left:281px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:553px;left:368px;white-space:nowrap" class="ft03">PA6</p>
<p style="position:absolute;top:553px;left:455px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:553px;left:542px;white-space:nowrap" class="ft03">PA5</p>
<p style="position:absolute;top:553px;left:629px;white-space:nowrap" class="ft03">Reserved</p>
<p style="position:absolute;top:553px;left:716px;white-space:nowrap" class="ft03">PA4</p>
<p style="position:absolute;top:597px;left:358px;white-space:nowrap" class="ft04">Figure&#160;11-9.&#160;&#160;IA32_PAT&#160;MSR</p>
<p style="position:absolute;top:685px;left:251px;white-space:nowrap" class="ft04">Table&#160;11-10.&#160;&#160;Memory&#160;Types&#160;That&#160;Can&#160;Be&#160;Encoded&#160;With&#160;PAT</p>
<p style="position:absolute;top:709px;left:233px;white-space:nowrap" class="ft03">Encoding</p>
<p style="position:absolute;top:709px;left:613px;white-space:nowrap" class="ft03">Mnemonic</p>
<p style="position:absolute;top:733px;left:248px;white-space:nowrap" class="ft03">00H</p>
<p style="position:absolute;top:733px;left:594px;white-space:nowrap" class="ft03">Uncacheable (UC)</p>
<p style="position:absolute;top:757px;left:248px;white-space:nowrap" class="ft03">01H</p>
<p style="position:absolute;top:757px;left:583px;white-space:nowrap" class="ft03">Write Combining (WC)</p>
<p style="position:absolute;top:781px;left:248px;white-space:nowrap" class="ft03">02H</p>
<p style="position:absolute;top:781px;left:614px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:805px;left:248px;white-space:nowrap" class="ft03">03H</p>
<p style="position:absolute;top:805px;left:614px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:829px;left:248px;white-space:nowrap" class="ft03">04H</p>
<p style="position:absolute;top:829px;left:588px;white-space:nowrap" class="ft03">Write&#160;Through&#160;(WT)</p>
<p style="position:absolute;top:853px;left:248px;white-space:nowrap" class="ft03">05H</p>
<p style="position:absolute;top:853px;left:584px;white-space:nowrap" class="ft03">Write Protected (WP)</p>
<p style="position:absolute;top:877px;left:248px;white-space:nowrap" class="ft03">06H</p>
<p style="position:absolute;top:877px;left:598px;white-space:nowrap" class="ft03">Write&#160;Back&#160;(WB)</p>
<p style="position:absolute;top:901px;left:248px;white-space:nowrap" class="ft03">07H</p>
<p style="position:absolute;top:901px;left:601px;white-space:nowrap" class="ft03">Uncached&#160;(UC-)</p>
<p style="position:absolute;top:925px;left:231px;white-space:nowrap" class="ft03">08H - FFH</p>
<p style="position:absolute;top:925px;left:614px;white-space:nowrap" class="ft03">Reserved*</p>
<p style="position:absolute;top:949px;left:75px;white-space:nowrap" class="ft01">NOTE:</p>
<p style="position:absolute;top:969px;left:75px;white-space:nowrap" class="ft03">*&#160;Using&#160;these encodings will result in&#160;a&#160;general-protection&#160;exception (#GP).</p>
</div>
</body>
</html>
