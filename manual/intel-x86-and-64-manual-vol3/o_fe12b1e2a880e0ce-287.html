<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 287</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:14px;font-family:Times;color:#0860a8;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page287-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce287.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 3A&#160;8-31</p>
<p style="position:absolute;top:47px;left:619px;white-space:nowrap" class="ft01">MULTIPLE-PROCESSOR&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft07">When a logical processor performs a TLB invalidation operation, only&#160;the&#160;TLB entries that are tagged for that logical&#160;<br/>processor&#160;are guaranteed to be flushed. This&#160;protocol applies to&#160;all TLB invalidation&#160;operations,&#160;including writes&#160;to&#160;<br/>control&#160;registers CR3&#160;and CR4&#160;and uses&#160;of the&#160;INVLPG&#160;instruction.</p>
<p style="position:absolute;top:178px;left:69px;white-space:nowrap" class="ft03">8.7.13.3 &#160;&#160;Thermal Monitor</p>
<p style="position:absolute;top:206px;left:69px;white-space:nowrap" class="ft07">In&#160;a processor&#160;that supports Intel&#160;Hyper-Threading Technology,&#160;logical processors share&#160;the catastrophic shutdown&#160;<br/>detector and&#160;the automatic thermal&#160;monitoring&#160;mechanism&#160;<a href="o_fe12b1e2a880e0ce-485.html">(see Section 14.7, “Thermal&#160;Monitoring and Protec-<br/>tion”). Sharing re</a>sults&#160;in the&#160;following&#160;behavior:</p>
<p style="position:absolute;top:261px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:262px;left:95px;white-space:nowrap" class="ft07">If the&#160;processor’s core&#160;temperature&#160;rises above&#160;the preset&#160;catastrophic shutdown temperature,&#160;the&#160;processor&#160;<br/>core&#160;halts execution,&#160;which causes&#160;both logical processors to&#160;stop execution.</p>
<p style="position:absolute;top:300px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:301px;left:95px;white-space:nowrap" class="ft07">When the processor’s core temperature rises above&#160;the&#160;preset automatic thermal monitor trip temperature, the&#160;<br/>frequency&#160;of&#160;the&#160;processor core&#160;is automatically modulated,&#160;which&#160;effects the&#160;execution speed&#160;of both&#160;logical&#160;<br/>processors.</p>
<p style="position:absolute;top:358px;left:69px;white-space:nowrap" class="ft07">For&#160;software&#160;controlled&#160;clock modulation,&#160;each&#160;logical processor has&#160;its own IA32_CLOCK_MODULATION MSR,&#160;<br/>allowing clock modulation to&#160;be&#160;enabled or&#160;disabled&#160;on&#160;a logical processor basis.&#160;Typically, if software&#160;controlled&#160;<br/>clock modulation is&#160;going&#160;to be&#160;used, the&#160;feature&#160;must&#160;be&#160;enabled for all&#160;the&#160;logical processors within a&#160;physical&#160;<br/>processor&#160;and the modulation duty&#160;cycle&#160;must&#160;be&#160;set to the&#160;same value for each&#160;logical processor.&#160;If the&#160;duty&#160;cycle&#160;<br/>values&#160;differ&#160;between&#160;the&#160;logical processors,&#160;the processor clock will&#160;be&#160;modulated&#160;at the&#160;highest duty&#160;cycle&#160;<br/>selected.</p>
<p style="position:absolute;top:484px;left:69px;white-space:nowrap" class="ft03">8.7.13.4 &#160;&#160;External Signal&#160;Compatibility</p>
<p style="position:absolute;top:513px;left:69px;white-space:nowrap" class="ft07">This section describes&#160;the constraints&#160;on&#160;external signals&#160;received through the&#160;pins of a&#160;processor&#160;supporting&#160;Intel&#160;<br/>Hyper-Threading Technology and&#160;how these signals&#160;are shared between its&#160;logical&#160;processors.</p>
<p style="position:absolute;top:551px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:552px;left:95px;white-space:nowrap" class="ft07"><b>STPCLK#</b>&#160;— A single&#160;STPCLK# pin is&#160;provided on the&#160;physical&#160;package of the&#160;Intel&#160;Xeon processor MP. External&#160;<br/>control logic uses&#160;this pin&#160;for power&#160;management within&#160;the system. When&#160;the STPCLK# signal is&#160;asserted,&#160;the&#160;<br/>processor&#160;core transitions to&#160;the stop-grant&#160;state,&#160;where&#160;instruction&#160;execution is&#160;halted&#160;but&#160;the processor&#160;core&#160;<br/>continues to&#160;respond&#160;to snoop&#160;transactions.&#160;Regardless of whether&#160;the&#160;logical&#160;processors are&#160;active&#160;or halted&#160;<br/>when&#160;the&#160;STPCLK# signal is&#160;asserted, execution is stopped on&#160;both logical processors and neither will&#160;respond&#160;<br/>to interrupts.</p>
<p style="position:absolute;top:667px;left:95px;white-space:nowrap" class="ft07">In MP systems, the STPCLK# pins on all physical processors are generally tied together. As a result this signal&#160;<br/>affects&#160;all&#160;the logical processors within&#160;the system&#160;simultaneously.</p>
<p style="position:absolute;top:706px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:706px;left:95px;white-space:nowrap" class="ft07"><b>LINT0 and LINT1 pins</b>&#160;— A processor supporting&#160;Intel Hyper-Threading Technology&#160;has only one&#160;set of&#160;LINT0&#160;<br/>and&#160;LINT1 pins,&#160;which are shared&#160;between&#160;the logical processors.&#160;When one&#160;of these&#160;pins&#160;is asserted,&#160;both&#160;<br/>logical processors respond unless the pin has been&#160;masked&#160;in the APIC local vector&#160;tables for one or both of the&#160;<br/>logical processors.</p>
<p style="position:absolute;top:789px;left:95px;white-space:nowrap" class="ft07">Typically in MP&#160;systems,&#160;the&#160;LINT0 and&#160;LINT1 pins are&#160;not used to deliver interrupts&#160;to the&#160;logical&#160;processors.&#160;<br/>Instead all&#160;interrupts are&#160;delivered&#160;to&#160;the&#160;local processors through the&#160;I/O APIC.</p>
<p style="position:absolute;top:827px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:828px;left:95px;white-space:nowrap" class="ft07"><b>A20M# pin</b>&#160;— On&#160;an IA-32&#160;processor,&#160;the A20M# pin is typically provided&#160;for compatibility with the&#160;Intel 286&#160;<br/>processor.&#160;Asserting this&#160;pin&#160;causes bit 20 of&#160;the physical&#160;address&#160;to be masked&#160;(forced to&#160;zero) for all external&#160;<br/>bus memory accesses. Processors supporting Intel Hyper-Threading Technology provide one A20M# pin, which&#160;<br/>affects the&#160;operation of both&#160;logical&#160;processors&#160;within the&#160;physical&#160;processor.&#160;<br/>The&#160;functionality of A20M#&#160;is used&#160;primarily by&#160;older&#160;operating&#160;systems&#160;and&#160;not used&#160;by&#160;modern&#160;operating&#160;<br/>systems. On newer Intel 64&#160;processors,&#160;A20M#&#160;may&#160;be&#160;absent.&#160;</p>
<p style="position:absolute;top:972px;left:69px;white-space:nowrap" class="ft06">8.8 MULTI-CORE&#160;</p>
<p style="position:absolute;top:972px;left:269px;white-space:nowrap" class="ft06">ARCHITECTURE</p>
<p style="position:absolute;top:1008px;left:69px;white-space:nowrap" class="ft07">This section describes&#160;the architecture&#160;of Intel 64&#160;and&#160;IA-32 processors supporting dual-core and&#160;quad-core&#160;tech-<br/>nology.&#160;The discussion is&#160;applicable to&#160;the Intel Pentium processor Extreme&#160;Edition, Pentium&#160;D, Intel&#160;Core&#160;Duo,&#160;<br/>Intel Core&#160;2 Duo,&#160;Dual-core Intel Xeon&#160;processor,&#160;Intel&#160;Core 2 Quad&#160;processors, and&#160;quad-core Intel&#160;Xeon&#160;proces-<br/>sors.&#160;Features&#160;vary across different microarchitectures&#160;and are&#160;detectable&#160;using&#160;CPUID.</p>
</div>
</body>
</html>
