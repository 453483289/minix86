<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1730</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1730-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1730.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">36-46&#160;Vol. 3C</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INTELÂ® PROCESSOR TRACE</p>
<p style="position:absolute;top:99px;left:68px;white-space:nowrap" class="ft02">36.4.2.8 &#160;&#160;MODE Packets</p>
<p style="position:absolute;top:126px;left:68px;white-space:nowrap" class="ft06">MODE&#160;packets keep&#160;the&#160;decoder&#160;informed of various processor modes&#160;about which it&#160;needs&#160;to know&#160;in order&#160;to&#160;<br/>properly&#160;manage the packet output, or&#160;to properly disassemble&#160;the associated&#160;binaries. MODE&#160;packets include&#160;a&#160;<br/>header&#160;and a&#160;mode byte, as&#160;shown&#160;below.</p>
<p style="position:absolute;top:331px;left:68px;white-space:nowrap" class="ft03">The&#160;MODE Leaf ID indicates&#160;which set of mode&#160;bits&#160;are held in&#160;the lower bits.</p>
<p style="position:absolute;top:365px;left:68px;white-space:nowrap" class="ft04">MODE.Exec Packet</p>
<p style="position:absolute;top:219px;left:304px;white-space:nowrap" class="ft04">Table&#160;36-25.&#160;General Form&#160;of&#160;MODE&#160;Packets</p>
<p style="position:absolute;top:244px;left:139px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:244px;left:227px;white-space:nowrap" class="ft03">6</p>
<p style="position:absolute;top:244px;left:314px;white-space:nowrap" class="ft03">5</p>
<p style="position:absolute;top:244px;left:402px;white-space:nowrap" class="ft03">4</p>
<p style="position:absolute;top:244px;left:490px;white-space:nowrap" class="ft03">3</p>
<p style="position:absolute;top:244px;left:578px;white-space:nowrap" class="ft03">2</p>
<p style="position:absolute;top:244px;left:666px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:244px;left:754px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:74px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:139px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:268px;left:227px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:314px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:402px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:268px;left:490px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:268px;left:578px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:666px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:268px;left:754px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:292px;left:74px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:292px;left:139px;white-space:nowrap" class="ft03">Leaf&#160;&#160;ID</p>
<p style="position:absolute;top:292px;left:402px;white-space:nowrap" class="ft03">Mode</p>
<p style="position:absolute;top:406px;left:311px;white-space:nowrap" class="ft04">Table 36-26. MODE.Exec Packet&#160;Definition</p>
<p style="position:absolute;top:430px;left:74px;white-space:nowrap" class="ft03">Name</p>
<p style="position:absolute;top:430px;left:177px;white-space:nowrap" class="ft03">MODE.Exec Packet</p>
<p style="position:absolute;top:454px;left:74px;white-space:nowrap" class="ft03">Packet&#160;Format</p>
<p style="position:absolute;top:562px;left:74px;white-space:nowrap" class="ft03">Dependencies</p>
<p style="position:absolute;top:562px;left:177px;white-space:nowrap" class="ft03">PacketEn</p>
<p style="position:absolute;top:562px;left:257px;white-space:nowrap" class="ft03">Generation&#160;</p>
<p style="position:absolute;top:579px;left:257px;white-space:nowrap" class="ft03">Scenario</p>
<p style="position:absolute;top:566px;left:352px;white-space:nowrap" class="ft03">Far branch,&#160;interrupt,&#160;exception,&#160;(VM exit, VM&#160;entry,)</p>
<p style="position:absolute;top:563px;left:650px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:566px;left:656px;white-space:nowrap" class="ft03">&#160;if the mode changes.&#160;</p>
<p style="position:absolute;top:582px;left:352px;white-space:nowrap" class="ft03">PSB+,&#160;and any scenario&#160;that&#160;can&#160;generate&#160;a TIP.PGE, such that&#160;the mode may have&#160;</p>
<p style="position:absolute;top:599px;left:352px;white-space:nowrap" class="ft03">changed since&#160;the&#160;last&#160;MODE.Exec.</p>
<p style="position:absolute;top:945px;left:70px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:967px;left:68px;white-space:nowrap" class="ft03">1.&#160;If IA32_VMX_MISC[bit&#160;14] reports 1.</p>
<p style="position:absolute;top:623px;left:74px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:623px;left:177px;white-space:nowrap" class="ft03">Indicates&#160;whether software&#160;is in&#160;16, 32,&#160;or&#160;64-bit&#160;mode, by&#160;providing&#160;the&#160;CS.D&#160;and (CS.L &amp; IA32_EFER.LMA) values.&#160;</p>
<p style="position:absolute;top:639px;left:177px;white-space:nowrap" class="ft03">Essential for the decoder to&#160;properly&#160;disassemble the associated binary.</p>
<p style="position:absolute;top:814px;left:177px;white-space:nowrap" class="ft03">MODE.Exec is&#160;sent&#160;at&#160;the time of&#160;a mode change, if PacketEn=1 at&#160;the time,&#160;or&#160;when&#160;tracing resumes,&#160;if necessary.&#160;</p>
<p style="position:absolute;top:830px;left:177px;white-space:nowrap" class="ft03">In&#160;the former&#160;case,&#160;the MODE.Exec&#160;packet&#160;is generated&#160;along with&#160;other&#160;packets&#160;that&#160;result&#160;from&#160;the far transfer&#160;</p>
<p style="position:absolute;top:847px;left:177px;white-space:nowrap" class="ft03">operation that&#160;changes the mode.&#160;In&#160;cases where the mode&#160;changes while PacketEn=0, the processor&#160;will&#160;send&#160;out&#160;</p>
<p style="position:absolute;top:864px;left:177px;white-space:nowrap" class="ft03">a MODE.Exec along&#160;with&#160;the&#160;TIP.PGE&#160;when tracing&#160;resumes. The processor may opt to&#160;suppress the MODE.Exec&#160;</p>
<p style="position:absolute;top:880px;left:177px;white-space:nowrap" class="ft03">when&#160;tracing resumes if&#160;the&#160;mode&#160;matches that&#160;from&#160;the last&#160;MODE.Exec packet, if&#160;there was no&#160;PSB&#160;in&#160;between.</p>
<p style="position:absolute;top:904px;left:74px;white-space:nowrap" class="ft03">Application</p>
<p style="position:absolute;top:904px;left:177px;white-space:nowrap" class="ft03">MODE.Exec always immediately precedes a&#160;TIP&#160;or&#160;TIP.PGE.&#160;The mode&#160;change&#160;applies&#160;to&#160;the&#160;IP address&#160;in&#160;the&#160;payload&#160;</p>
<p style="position:absolute;top:920px;left:177px;white-space:nowrap" class="ft03">of&#160;the&#160;next TIP&#160;or&#160;TIP.PGE.</p>
<p style="position:absolute;top:473px;left:248px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:473px;left:310px;white-space:nowrap" class="ft03">6</p>
<p style="position:absolute;top:473px;left:372px;white-space:nowrap" class="ft03">5</p>
<p style="position:absolute;top:473px;left:434px;white-space:nowrap" class="ft03">4</p>
<p style="position:absolute;top:473px;left:497px;white-space:nowrap" class="ft03">3</p>
<p style="position:absolute;top:473px;left:559px;white-space:nowrap" class="ft03">2</p>
<p style="position:absolute;top:473px;left:621px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:473px;left:683px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:186px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:248px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:494px;left:310px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:372px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:434px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:494px;left:497px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:494px;left:559px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:621px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:494px;left:683px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:515px;left:186px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:515px;left:248px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:310px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:372px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:434px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:497px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:559px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:515px;left:621px;white-space:nowrap" class="ft03">CS.D</p>
<p style="position:absolute;top:515px;left:683px;white-space:nowrap" class="ft03">(CS.L&#160;&#160;&amp;&#160;&#160;LMA)</p>
<p style="position:absolute;top:695px;left:185px;white-space:nowrap" class="ft03">CS.D</p>
<p style="position:absolute;top:695px;left:276px;white-space:nowrap" class="ft03">(CS.L &amp; IA32_EFER.LMA)</p>
<p style="position:absolute;top:695px;left:466px;white-space:nowrap" class="ft03">Addressing&#160;Mode</p>
<p style="position:absolute;top:716px;left:185px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:716px;left:276px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:716px;left:466px;white-space:nowrap" class="ft03">N/A</p>
<p style="position:absolute;top:737px;left:185px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:737px;left:276px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:737px;left:466px;white-space:nowrap" class="ft03">64-bit&#160;&#160;mode</p>
<p style="position:absolute;top:758px;left:185px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:758px;left:276px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:758px;left:466px;white-space:nowrap" class="ft03">32-bit&#160;&#160;mode</p>
<p style="position:absolute;top:779px;left:185px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:779px;left:276px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:779px;left:466px;white-space:nowrap" class="ft03">16-bit&#160;&#160;mode</p>
</div>
</body>
</html>
