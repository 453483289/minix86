<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1023</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1023-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1023.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;22-19</p>
<p style="position:absolute;top:47px;left:657px;white-space:nowrap" class="ft01">ARCHITECTURE&#160;COMPATIBILITY</p>
<p style="position:absolute;top:98px;left:69px;white-space:nowrap" class="ft02">22.22.4&#160;&#160;Changes in Segment Descriptor Loads</p>
<p style="position:absolute;top:129px;left:69px;white-space:nowrap" class="ft05">On&#160;the&#160;Intel386&#160;processor,&#160;loading a segment descriptor always causes a locked read and write&#160;to set the accessed&#160;<br/>bit of the descriptor.&#160;On the&#160;P6&#160;family, Pentium, and Intel486&#160;processors,&#160;the&#160;locked read and write occur only if the&#160;<br/>bit&#160;is not already set.</p>
<p style="position:absolute;top:217px;left:69px;white-space:nowrap" class="ft04">22.23 DEBUG&#160;</p>
<p style="position:absolute;top:217px;left:219px;white-space:nowrap" class="ft04">FACILITIES</p>
<p style="position:absolute;top:253px;left:69px;white-space:nowrap" class="ft05">The P6 family&#160;and&#160;Pentium processors&#160;include extensions&#160;to the&#160;Intel486 processor debugging support for break-<br/>points. To&#160;use&#160;the new&#160;breakpoint features, it&#160;is necessary to&#160;set the&#160;DE flag in&#160;control&#160;register&#160;CR4.</p>
<p style="position:absolute;top:320px;left:69px;white-space:nowrap" class="ft02">22.23.1&#160;&#160;Differences in Debug Register DR6</p>
<p style="position:absolute;top:351px;left:69px;white-space:nowrap" class="ft05">It is&#160;not&#160;possible to write a&#160;1 to&#160;reserved bit 12 in debug&#160;status register DR6 on the&#160;P6&#160;family and&#160;Pentium&#160;proces-<br/>sors; however,&#160;it is possible to write a&#160;1 in this bit on the Intel486 processor.&#160;S<a href="o_fe12b1e2a880e0ce-314.html">ee&#160;Table 9-1 for the different s</a>etting&#160;<br/>of&#160;this register&#160;following a&#160;power-up&#160;or hardware reset.</p>
<p style="position:absolute;top:434px;left:69px;white-space:nowrap" class="ft02">22.23.2&#160;&#160;Differences in Debug Register DR7</p>
<p style="position:absolute;top:465px;left:69px;white-space:nowrap" class="ft06">The P6 family&#160;and&#160;Pentium processors&#160;determines&#160;the type of breakpoint access by the&#160;R/W0&#160;through&#160;R/W3&#160;fields&#160;<br/>in&#160;debug control register&#160;DR7 as&#160;follows:&#160;<br/>00</p>
<p style="position:absolute;top:505px;left:123px;white-space:nowrap" class="ft03">Break on instruction execution&#160;only.</p>
<p style="position:absolute;top:529px;left:69px;white-space:nowrap" class="ft03">01</p>
<p style="position:absolute;top:529px;left:123px;white-space:nowrap" class="ft03">Break on data writes only.</p>
<p style="position:absolute;top:553px;left:69px;white-space:nowrap" class="ft03">10</p>
<p style="position:absolute;top:553px;left:123px;white-space:nowrap" class="ft05">Undefined if the DE&#160;flag in&#160;control register&#160;CR4&#160;is&#160;cleared;&#160;break on&#160;I/O reads or&#160;writes&#160;but&#160;not instruction&#160;<br/>fetches if&#160;the DE&#160;flag in&#160;control register CR4&#160;is set.</p>
<p style="position:absolute;top:594px;left:69px;white-space:nowrap" class="ft03">11</p>
<p style="position:absolute;top:594px;left:123px;white-space:nowrap" class="ft03">Break on data reads or writes&#160;but not&#160;instruction&#160;fetches.</p>
<p style="position:absolute;top:618px;left:69px;white-space:nowrap" class="ft05">On the P6 family&#160;and Pentium processors,&#160;reserved&#160;bits&#160;11, 12,&#160;14&#160;and 15 are hard-wired to&#160;0.&#160;On the&#160;Intel486&#160;<br/>processor,&#160;however,&#160;bit 12 can be set.&#160;Se<a href="o_fe12b1e2a880e0ce-314.html">e Table 9-1 for th</a>e different&#160;settings of&#160;this register following a power-up&#160;<br/>or hardware reset.</p>
<p style="position:absolute;top:701px;left:69px;white-space:nowrap" class="ft02">22.23.3&#160;&#160;Debug Registers DR4 and DR5</p>
<p style="position:absolute;top:732px;left:69px;white-space:nowrap" class="ft05">Although the&#160;DR4 and&#160;DR5 registers&#160;are documented&#160;as&#160;reserved, previous generations of processors aliased&#160;<br/>references&#160;to these registers&#160;to debug&#160;registers&#160;DR6&#160;and DR7, respectively.&#160;When debug&#160;extensions are&#160;not&#160;<br/>enabled (the&#160;DE&#160;flag in control&#160;register&#160;CR4 is&#160;cleared), the&#160;P6 family&#160;and Pentium processors remain&#160;compatible&#160;<br/>with&#160;existing software&#160;by allowing these&#160;aliased references.&#160;When&#160;debug&#160;extensions are&#160;enabled&#160;(the DE&#160;flag&#160;is&#160;<br/>set), attempts to reference&#160;registers&#160;DR4 or&#160;DR5&#160;will result&#160;in an invalid-opcode&#160;exception (#UD).</p>
<p style="position:absolute;top:853px;left:69px;white-space:nowrap" class="ft04">22.24 RECOGNITION&#160;</p>
<p style="position:absolute;top:853px;left:283px;white-space:nowrap" class="ft04">OF&#160;</p>
<p style="position:absolute;top:853px;left:313px;white-space:nowrap" class="ft04">BREAKPOINTS</p>
<p style="position:absolute;top:889px;left:69px;white-space:nowrap" class="ft05">For the&#160;Pentium&#160;processor,&#160;it is recommended&#160;that debuggers execute the LGDT&#160;instruction&#160;before returning&#160;to the&#160;<br/>program being&#160;debugged to ensure that&#160;breakpoints are detected.&#160;This operation does not&#160;need&#160;to be performed&#160;<br/>on&#160;the P6 family, Intel486,&#160;or&#160;Intel386 processors.&#160;<br/>The&#160;implementation of test registers&#160;on&#160;the Intel486&#160;processor used for testing the&#160;cache&#160;and TLB has been&#160;rede-<br/>signed&#160;using&#160;MSRs&#160;on the&#160;P6&#160;family and&#160;Pentium processors.&#160;(Note that&#160;MSRs used&#160;for this function are&#160;different&#160;<br/>on&#160;the P6 family and Pentium processors.) The MOV to&#160;and&#160;from test register&#160;instructions generate invalid-opcode&#160;<br/>exceptions (#UD) on&#160;the&#160;P6&#160;family&#160;processors.</p>
</div>
</body>
</html>
