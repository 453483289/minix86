<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1069</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:12px;font-family:Times;color:#0860a8;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1069-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1069.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3C&#160;24-23</p>
<p style="position:absolute;top:47px;left:591px;white-space:nowrap" class="ft01">VIRTUAL MACHINE CONTROL STRUCTURES</p>
<p style="position:absolute;top:434px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:435px;left:95px;white-space:nowrap" class="ft08"><b>IDT-vectoring error code</b>&#160;(32 bits).&#160;For VM&#160;exits the occur during delivery&#160;of hardware exceptions that&#160;would&#160;<br/>have&#160;delivered an error code on the&#160;stack, this&#160;field receives that error&#160;code.</p>
<p style="position:absolute;top:475px;left:69px;white-space:nowrap" class="ft04">See&#160;<a href="o_fe12b1e2a880e0ce-1129.html">Section&#160;27.2.3 provides det</a>ails&#160;of&#160;how&#160;these fields are saved on&#160;VM&#160;exits.</p>
<p style="position:absolute;top:526px;left:69px;white-space:nowrap" class="ft05">24.9.4&#160;</p>
<p style="position:absolute;top:526px;left:149px;white-space:nowrap" class="ft05">Information for VM&#160;Exits Due to&#160;Instruction Execution</p>
<p style="position:absolute;top:556px;left:69px;white-space:nowrap" class="ft08">The following fields&#160;are used&#160;for VM&#160;exits&#160;caused&#160;by&#160;attempts to&#160;execute certain instructions&#160;in VMX&#160;non-root oper-<br/>ation:</p>
<p style="position:absolute;top:595px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:595px;left:95px;white-space:nowrap" class="ft08"><b>VM-exit&#160;instruction&#160;length</b>&#160;(32 bits).&#160;For&#160;VM&#160;exits&#160;resulting from instruction&#160;execution,&#160;this field receives the&#160;<br/>length in&#160;bytes of the&#160;instruction&#160;whose execution led&#160;to&#160;the&#160;VM&#160;exit.</p>
<p style="position:absolute;top:609px;left:558px;white-space:nowrap" class="ft06">1</p>
<p style="position:absolute;top:612px;left:565px;white-space:nowrap" class="ft04">&#160;Se<a href="o_fe12b1e2a880e0ce-1130.html">e Section 27.2.4&#160;</a>for details of when&#160;</p>
<p style="position:absolute;top:628px;left:94px;white-space:nowrap" class="ft04">and how&#160;this field is&#160;used.</p>
<p style="position:absolute;top:650px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:651px;left:95px;white-space:nowrap" class="ft08"><b>VM-exit&#160;instruction information</b>&#160;(32&#160;bits).&#160;This&#160;field&#160;is used&#160;for VM&#160;exits due&#160;to&#160;attempts to&#160;execute&#160;INS,&#160;<br/>INVEPT,&#160;INVVPID,&#160;LIDT,&#160;LGDT,&#160;LLDT,&#160;LTR,&#160;OUTS,&#160;SIDT,&#160;SGDT,&#160;SLDT,&#160;STR,&#160;VMCLEAR,&#160;VMPTRLD,&#160;VMPTRST,&#160;<br/>VMREAD,&#160;VMWRITE,&#160;or VMXON.</p>
<p style="position:absolute;top:681px;left:310px;white-space:nowrap" class="ft06">2</p>
<p style="position:absolute;top:684px;left:317px;white-space:nowrap" class="ft04">&#160;The format of the&#160;field&#160;depends&#160;on&#160;the cause of the&#160;VM&#160;exit. See&#160;<a href="o_fe12b1e2a880e0ce-1130.html">Section&#160;</a></p>
<p style="position:absolute;top:700px;left:95px;white-space:nowrap" class="ft04"><a href="o_fe12b1e2a880e0ce-1130.html">27.2.4&#160;for detail</a>s.</p>
<p style="position:absolute;top:724px;left:69px;white-space:nowrap" class="ft08">The following fields (64 bits each; 32 bits on processors that do not&#160;support&#160;Intel&#160;64 architecture) are used&#160;only&#160;for&#160;<br/>VM&#160;exits due to SMIs that arrive&#160;immediately after&#160;retirement&#160;of I/O&#160;instructions. They provide information&#160;about&#160;<br/>that I/O&#160;instruction:</p>
<p style="position:absolute;top:779px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:780px;left:95px;white-space:nowrap" class="ft03"><b>I/O RCX</b>. The&#160;value of RCX before the&#160;I/O instruction started.</p>
<p style="position:absolute;top:802px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:802px;left:95px;white-space:nowrap" class="ft03"><b>I/O RSI</b>.&#160;The&#160;value&#160;of RSI before&#160;the&#160;I/O instruction started.</p>
<p style="position:absolute;top:824px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:825px;left:95px;white-space:nowrap" class="ft03"><b>I/O RDI</b>.&#160;The&#160;value&#160;of RDI before&#160;the&#160;I/O instruction started.</p>
<p style="position:absolute;top:847px;left:69px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:847px;left:95px;white-space:nowrap" class="ft03"><b>I/O RIP</b>.&#160;The&#160;value of&#160;RIP before the&#160;I/O instruction started (the&#160;RIP&#160;that addressed the&#160;I/O instruction).</p>
<p style="position:absolute;top:898px;left:69px;white-space:nowrap" class="ft05">24.9.5&#160;</p>
<p style="position:absolute;top:898px;left:149px;white-space:nowrap" class="ft05">VM-Instruction Error Field</p>
<p style="position:absolute;top:928px;left:69px;white-space:nowrap" class="ft08">The 32-bit&#160;<b>VM-instruction error&#160;field</b>&#160;does&#160;not provide&#160;information&#160;about the&#160;most&#160;recent&#160;VM&#160;exit. In&#160;fact, it&#160;is&#160;<br/>not modified on&#160;VM&#160;exits.&#160;Instead, it&#160;provides&#160;information&#160;about errors encountered by&#160;a non-faulting execution of&#160;<br/>one of the&#160;VMX&#160;instructions.</p>
<p style="position:absolute;top:100px;left:252px;white-space:nowrap" class="ft07">Table 24-16.&#160;&#160;Format of&#160;the IDT-Vectoring Information Field</p>
<p style="position:absolute;top:121px;left:75px;white-space:nowrap" class="ft04">Bit Position(s)</p>
<p style="position:absolute;top:121px;left:182px;white-space:nowrap" class="ft04">Content</p>
<p style="position:absolute;top:144px;left:75px;white-space:nowrap" class="ft04">7:0</p>
<p style="position:absolute;top:144px;left:182px;white-space:nowrap" class="ft04">Vector&#160;of&#160;interrupt&#160;or&#160;exception</p>
<p style="position:absolute;top:166px;left:75px;white-space:nowrap" class="ft04">10:8</p>
<p style="position:absolute;top:166px;left:182px;white-space:nowrap" class="ft04">Interruption type:</p>
<p style="position:absolute;top:187px;left:194px;white-space:nowrap" class="ft04">0: External interrupt</p>
<p style="position:absolute;top:204px;left:194px;white-space:nowrap" class="ft04">1: Not used</p>
<p style="position:absolute;top:220px;left:194px;white-space:nowrap" class="ft04">2: Non-maskable interrupt (NMI)</p>
<p style="position:absolute;top:236px;left:194px;white-space:nowrap" class="ft04">3: Hardware&#160;exception</p>
<p style="position:absolute;top:253px;left:194px;white-space:nowrap" class="ft04">4: Software&#160;interrupt</p>
<p style="position:absolute;top:270px;left:194px;white-space:nowrap" class="ft04">5:&#160;Privileged&#160;software&#160;exception</p>
<p style="position:absolute;top:286px;left:194px;white-space:nowrap" class="ft04">6: Software&#160;exception</p>
<p style="position:absolute;top:303px;left:194px;white-space:nowrap" class="ft04">7: Not used</p>
<p style="position:absolute;top:325px;left:75px;white-space:nowrap" class="ft04">11</p>
<p style="position:absolute;top:325px;left:182px;white-space:nowrap" class="ft04">Error&#160;code&#160;valid&#160;(0&#160;=&#160;invalid;&#160;1&#160;=&#160;valid)</p>
<p style="position:absolute;top:348px;left:75px;white-space:nowrap" class="ft04">12</p>
<p style="position:absolute;top:348px;left:182px;white-space:nowrap" class="ft04">Undefined</p>
<p style="position:absolute;top:370px;left:75px;white-space:nowrap" class="ft04">30:13</p>
<p style="position:absolute;top:370px;left:182px;white-space:nowrap" class="ft04">Reserved&#160;(cleared&#160;to&#160;0)</p>
<p style="position:absolute;top:393px;left:75px;white-space:nowrap" class="ft04">31</p>
<p style="position:absolute;top:393px;left:182px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:1017px;left:69px;white-space:nowrap" class="ft09">1.&#160;This field is&#160;also used for VM&#160;exits&#160;that&#160;occur during the delivery of&#160;a software&#160;interrupt or&#160;software&#160;exception.<br/>2.&#160;Whether the&#160;processor provides this information&#160;on&#160;VM&#160;exits due&#160;to&#160;attempts&#160;to&#160;execute&#160;INS&#160;or&#160;OUTS&#160;can&#160;be&#160;determined&#160;by&#160;con-</p>
<p style="position:absolute;top:1054px;left:91px;white-space:nowrap" class="ft04">sulting the&#160;VMX capability MSR IA32_VMX_BASIC (see<a href="o_fe12b1e2a880e0ce-1943.html">&#160;Appendix&#160;A.1).</a></p>
</div>
</body>
</html>
