<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 686</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#0860a8;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page686-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce686.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-50&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:319px;left:68px;white-space:nowrap" class="ft06">Details of the&#160;uncore performance&#160;monitoring&#160;facility of Intel Xeon&#160;Processor&#160;E7&#160;family&#160;is available&#160;in&#160;the&#160;“Intel®&#160;<br/>Xeon®&#160;Processor&#160;E7 Uncore Performance Monitoring Programming Reference Manual”.</p>
<p style="position:absolute;top:391px;left:68px;white-space:nowrap" class="ft03">18.9&#160;</p>
<p style="position:absolute;top:391px;left:147px;white-space:nowrap" class="ft03">PERFORMANCE MONITORING FOR PROCESSORS BASED ON INTEL</p>
<p style="position:absolute;top:393px;left:754px;white-space:nowrap" class="ft01">®&#160;</p>
<p style="position:absolute;top:417px;left:146px;white-space:nowrap" class="ft03">MICROARCHITECTURE CODE NAME SANDY BRIDGE</p>
<p style="position:absolute;top:453px;left:68px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:450px;left:99px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:453px;left:110px;white-space:nowrap" class="ft02">&#160;Core™ i7-2xxx,&#160;Intel</p>
<p style="position:absolute;top:450px;left:253px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:453px;left:264px;white-space:nowrap" class="ft02">&#160;Core™&#160;i5-2xxx, Intel</p>
<p style="position:absolute;top:450px;left:408px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:453px;left:419px;white-space:nowrap" class="ft02">&#160;Core™ i3-2xxx processor series, and&#160;Intel</p>
<p style="position:absolute;top:450px;left:704px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:453px;left:715px;white-space:nowrap" class="ft02">&#160;Xeon</p>
<p style="position:absolute;top:450px;left:753px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:453px;left:763px;white-space:nowrap" class="ft02">&#160;processor&#160;</p>
<p style="position:absolute;top:469px;left:68px;white-space:nowrap" class="ft06">E3-1200 family are&#160;based&#160;on Intel microarchitecture&#160;code&#160;name&#160;Sandy Bridge;&#160;this&#160;section&#160;describes the&#160;perfor-<br/>mance&#160;monitoring facilities provided&#160;in the processor core. The core&#160;PMU supports architectural performance moni-<br/>toring capability&#160;with&#160;version ID 3&#160;(see<a href="o_fe12b1e2a880e0ce-644.html">&#160;Section 18.2.3)&#160;</a>and a&#160;host of non-architectural monitoring capabilities.&#160;<br/>Architectural&#160;performance monitoring version 3&#160;capabilities&#160;are described in&#160;<a href="o_fe12b1e2a880e0ce-644.html">Section&#160;18.2.3.&#160;<br/></a>The core PMU’s capability is&#160;similar to those&#160;described<a href="o_fe12b1e2a880e0ce-671.html">&#160;in&#160;Section&#160;18.8.1</a>&#160;<a href="o_fe12b1e2a880e0ce-685.html">and Section&#160;18.8.4</a>, with some differences&#160;<br/>and enhancements&#160;relative to&#160;Intel microarchitecture code name Westmere&#160;summarize<a href="o_fe12b1e2a880e0ce-686.html">d in&#160;Table&#160;18-30.</a></p>
<p style="position:absolute;top:164px;left:77px;white-space:nowrap" class="ft02">B-Box</p>
<p style="position:absolute;top:164px;left:164px;white-space:nowrap" class="ft02">2</p>
<p style="position:absolute;top:164px;left:248px;white-space:nowrap" class="ft02">4</p>
<p style="position:absolute;top:164px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:164px;left:497px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:164px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:164px;left:676px;white-space:nowrap" class="ft02">Match/Mask</p>
<p style="position:absolute;top:189px;left:77px;white-space:nowrap" class="ft02">M-Box</p>
<p style="position:absolute;top:189px;left:164px;white-space:nowrap" class="ft02">2</p>
<p style="position:absolute;top:189px;left:248px;white-space:nowrap" class="ft02">6</p>
<p style="position:absolute;top:189px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:189px;left:497px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:189px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:189px;left:676px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:213px;left:77px;white-space:nowrap" class="ft02">R-Box</p>
<p style="position:absolute;top:213px;left:164px;white-space:nowrap" class="ft02">1</p>
<p style="position:absolute;top:213px;left:248px;white-space:nowrap" class="ft02">16&#160;( 2 port, 8 per port)</p>
<p style="position:absolute;top:213px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:213px;left:497px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:213px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:213px;left:676px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:236px;left:77px;white-space:nowrap" class="ft02">W-Box</p>
<p style="position:absolute;top:236px;left:164px;white-space:nowrap" class="ft02">1</p>
<p style="position:absolute;top:236px;left:248px;white-space:nowrap" class="ft02">4</p>
<p style="position:absolute;top:236px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:236px;left:497px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:236px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:236px;left:676px;white-space:nowrap" class="ft02">None</p>
<p style="position:absolute;top:261px;left:248px;white-space:nowrap" class="ft02">1</p>
<p style="position:absolute;top:261px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:261px;left:497px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:261px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:261px;left:676px;white-space:nowrap" class="ft02">None</p>
<p style="position:absolute;top:285px;left:77px;white-space:nowrap" class="ft02">U-Box</p>
<p style="position:absolute;top:285px;left:164px;white-space:nowrap" class="ft02">1</p>
<p style="position:absolute;top:285px;left:248px;white-space:nowrap" class="ft02">1</p>
<p style="position:absolute;top:285px;left:408px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:285px;left:497px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:285px;left:587px;white-space:nowrap" class="ft02">uncore</p>
<p style="position:absolute;top:285px;left:676px;white-space:nowrap" class="ft02">None</p>
<p style="position:absolute;top:608px;left:329px;white-space:nowrap" class="ft05">Table 18-30. &#160;Core&#160;PMU&#160;Comparison</p>
<p style="position:absolute;top:649px;left:74px;white-space:nowrap" class="ft02">Box</p>
<p style="position:absolute;top:633px;left:250px;white-space:nowrap" class="ft02">Intel® microarchitecture code&#160;</p>
<p style="position:absolute;top:649px;left:250px;white-space:nowrap" class="ft02">name Sandy Bridge</p>
<p style="position:absolute;top:633px;left:465px;white-space:nowrap" class="ft02">Intel® microarchitecture&#160;code&#160;</p>
<p style="position:absolute;top:649px;left:465px;white-space:nowrap" class="ft02">name Westmere</p>
<p style="position:absolute;top:649px;left:661px;white-space:nowrap" class="ft02">Comment</p>
<p style="position:absolute;top:673px;left:74px;white-space:nowrap" class="ft02"># of&#160;Fixed counters per&#160;</p>
<p style="position:absolute;top:690px;left:74px;white-space:nowrap" class="ft02">thread</p>
<p style="position:absolute;top:673px;left:250px;white-space:nowrap" class="ft02">3</p>
<p style="position:absolute;top:673px;left:465px;white-space:nowrap" class="ft02">3</p>
<p style="position:absolute;top:673px;left:661px;white-space:nowrap" class="ft02">Use CPUID to&#160;enumerate&#160;# of&#160;</p>
<p style="position:absolute;top:690px;left:661px;white-space:nowrap" class="ft02">counters.</p>
<p style="position:absolute;top:714px;left:74px;white-space:nowrap" class="ft02"># of&#160;general-purpose&#160;</p>
<p style="position:absolute;top:730px;left:74px;white-space:nowrap" class="ft02">counters&#160;per core</p>
<p style="position:absolute;top:714px;left:250px;white-space:nowrap" class="ft02">8</p>
<p style="position:absolute;top:714px;left:465px;white-space:nowrap" class="ft02">8</p>
<p style="position:absolute;top:754px;left:74px;white-space:nowrap" class="ft02">Counter width (R,W)</p>
<p style="position:absolute;top:754px;left:250px;white-space:nowrap" class="ft02">R:48, W: 32/48</p>
<p style="position:absolute;top:754px;left:465px;white-space:nowrap" class="ft02">R:48, W:32</p>
<p style="position:absolute;top:754px;left:661px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-642.html">&#160;Section&#160;18.2.2.</a></p>
<p style="position:absolute;top:778px;left:74px;white-space:nowrap" class="ft02"># of&#160;programmable counters&#160;</p>
<p style="position:absolute;top:795px;left:74px;white-space:nowrap" class="ft02">per thread</p>
<p style="position:absolute;top:778px;left:250px;white-space:nowrap" class="ft02">4 or (8 if a core&#160;not shared by two&#160;</p>
<p style="position:absolute;top:795px;left:250px;white-space:nowrap" class="ft02">threads)</p>
<p style="position:absolute;top:778px;left:465px;white-space:nowrap" class="ft02">4</p>
<p style="position:absolute;top:778px;left:661px;white-space:nowrap" class="ft02">Use&#160;CPUID to&#160;enumerate&#160;# of&#160;</p>
<p style="position:absolute;top:795px;left:661px;white-space:nowrap" class="ft02">counters.</p>
<p style="position:absolute;top:819px;left:74px;white-space:nowrap" class="ft02">PMI Overhead&#160;Mitigation</p>
<p style="position:absolute;top:819px;left:250px;white-space:nowrap" class="ft02">•&#160;Freeze_Perfmon_on_PMI&#160;with&#160;</p>
<p style="position:absolute;top:834px;left:265px;white-space:nowrap" class="ft02">legacy semantics.</p>
<p style="position:absolute;top:849px;left:250px;white-space:nowrap" class="ft02">•&#160;Freeze_on_LBR&#160;&#160;with&#160;&#160;legacy&#160;</p>
<p style="position:absolute;top:863px;left:265px;white-space:nowrap" class="ft02">semantics for branch profiling.</p>
<p style="position:absolute;top:879px;left:250px;white-space:nowrap" class="ft02">•&#160;Freeze_while_SMM.</p>
<p style="position:absolute;top:818px;left:465px;white-space:nowrap" class="ft02">•&#160;Freeze_Perfmon_on_PMI&#160;</p>
<p style="position:absolute;top:834px;left:481px;white-space:nowrap" class="ft02">with legacy&#160;semantics.</p>
<p style="position:absolute;top:849px;left:465px;white-space:nowrap" class="ft02">•&#160;Freeze_on_LBR&#160;&#160;with&#160;&#160;legacy&#160;</p>
<p style="position:absolute;top:863px;left:481px;white-space:nowrap" class="ft02">semantics for branch&#160;</p>
<p style="position:absolute;top:879px;left:481px;white-space:nowrap" class="ft02">profiling.</p>
<p style="position:absolute;top:894px;left:465px;white-space:nowrap" class="ft02">•&#160;Freeze_while_SMM.</p>
<p style="position:absolute;top:818px;left:661px;white-space:nowrap" class="ft02">See<a href="o_fe12b1e2a880e0ce-588.html">&#160;Section&#160;17.4.7.</a></p>
<p style="position:absolute;top:917px;left:74px;white-space:nowrap" class="ft02">Processor Event Based&#160;</p>
<p style="position:absolute;top:934px;left:74px;white-space:nowrap" class="ft02">Sampling&#160;(PEBS) Events</p>
<p style="position:absolute;top:917px;left:250px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-691.html">e Table&#160;18-32.</a></p>
<p style="position:absolute;top:917px;left:465px;white-space:nowrap" class="ft02">Se<a href="o_fe12b1e2a880e0ce-656.html">e Table&#160;18-10</a>.</p>
<p style="position:absolute;top:917px;left:661px;white-space:nowrap" class="ft02">IA32_PMC4-IA32_PMC7 do&#160;</p>
<p style="position:absolute;top:934px;left:661px;white-space:nowrap" class="ft02">not&#160;support PEBS.</p>
<p style="position:absolute;top:958px;left:74px;white-space:nowrap" class="ft02">PEBS-Load Latency</p>
<p style="position:absolute;top:958px;left:250px;white-space:nowrap" class="ft09">See<a href="o_fe12b1e2a880e0ce-691.html">&#160;Section 18.9.4.2</a>;<br/>•&#160;Data source encoding</p>
<p style="position:absolute;top:994px;left:250px;white-space:nowrap" class="ft02">•&#160;STLB&#160;miss encoding</p>
<p style="position:absolute;top:1009px;left:250px;white-space:nowrap" class="ft02">•&#160;Lock&#160;transaction encoding</p>
<p style="position:absolute;top:958px;left:465px;white-space:nowrap" class="ft02">Data source encoding&#160;</p>
<p style="position:absolute;top:1033px;left:74px;white-space:nowrap" class="ft02">PEBS-Precise Store</p>
<p style="position:absolute;top:1033px;left:250px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-692.html">Section&#160;18.9.4.3</a></p>
<p style="position:absolute;top:1033px;left:465px;white-space:nowrap" class="ft02">No</p>
<p style="position:absolute;top:100px;left:191px;white-space:nowrap" class="ft05">Table 18-29.&#160;&#160;Uncore&#160;PMU MSR&#160;Summary for Intel®&#160;Xeon®&#160;Processor&#160;E7 Family</p>
<p style="position:absolute;top:141px;left:77px;white-space:nowrap" class="ft02">Box</p>
<p style="position:absolute;top:141px;left:164px;white-space:nowrap" class="ft02">#&#160;of&#160;Boxes</p>
<p style="position:absolute;top:141px;left:248px;white-space:nowrap" class="ft02">Counters per Box</p>
<p style="position:absolute;top:124px;left:408px;white-space:nowrap" class="ft02">Counter&#160;</p>
<p style="position:absolute;top:141px;left:408px;white-space:nowrap" class="ft02">Width</p>
<p style="position:absolute;top:124px;left:497px;white-space:nowrap" class="ft02">General&#160;</p>
<p style="position:absolute;top:141px;left:497px;white-space:nowrap" class="ft02">Purpose</p>
<p style="position:absolute;top:124px;left:587px;white-space:nowrap" class="ft02">Global&#160;</p>
<p style="position:absolute;top:141px;left:587px;white-space:nowrap" class="ft02">Enable&#160;Sub-control&#160;</p>
<p style="position:absolute;top:141px;left:748px;white-space:nowrap" class="ft02">MSRs</p>
</div>
</body>
</html>
