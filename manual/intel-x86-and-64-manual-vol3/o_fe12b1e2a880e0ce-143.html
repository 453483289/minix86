<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 143</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page143-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce143.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 3A&#160;4-39</p>
<p style="position:absolute;top:47px;left:793px;white-space:nowrap" class="ft01">PAGING</p>
<p style="position:absolute;top:100px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor does not&#160;create a&#160;PDPTE-cache&#160;entry unless&#160;the&#160;P&#160;flag&#160;is&#160;1,&#160;the&#160;PS&#160;flag&#160;is&#160;0,&#160;and&#160;the&#160;reserved&#160;</p>
<p style="position:absolute;top:117px;left:120px;white-space:nowrap" class="ft02">bits are 0&#160;in the&#160;PML4E and&#160;the PDPTE&#160;in memory.</p>
<p style="position:absolute;top:141px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor does not&#160;create&#160;a PDPTE-cache&#160;entry&#160;unless&#160;the&#160;accessed&#160;flags are&#160;1&#160;in the&#160;PML4E and&#160;the&#160;</p>
<p style="position:absolute;top:157px;left:120px;white-space:nowrap" class="ft05">PDPTE in memory; before&#160;caching a&#160;translation,&#160;the processor sets any accessed&#160;flags that&#160;are not&#160;already&#160;<br/>1.</p>
<p style="position:absolute;top:198px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor may create a PDPTE-cache&#160;entry even if&#160;there are no&#160;translations&#160;for any linear address that&#160;</p>
<p style="position:absolute;top:214px;left:120px;white-space:nowrap" class="ft02">might use&#160;that entry.</p>
<p style="position:absolute;top:238px;left:95px;white-space:nowrap" class="ft02">—&#160;If&#160;the processor creates a&#160;PDPTE-cache&#160;entry,&#160;the&#160;processor&#160;may retain&#160;it unmodified&#160;even if software&#160;</p>
<p style="position:absolute;top:255px;left:120px;white-space:nowrap" class="ft02">subsequently modifies&#160;the&#160;corresponding&#160;PML4E or&#160;PDPTE in&#160;memory.</p>
<p style="position:absolute;top:277px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:277px;left:95px;white-space:nowrap" class="ft06"><b>PDE&#160;cache</b>.&#160;The use&#160;of the&#160;PDE&#160;cache depends on the&#160;paging mode:<br/>—&#160;For&#160;32-bit paging, each PDE-cache entry is referenced&#160;by a 10-bit value and&#160;is used for linear addresses&#160;for&#160;</p>
<p style="position:absolute;top:318px;left:120px;white-space:nowrap" class="ft02">which&#160;bits&#160;31:22 have&#160;that&#160;value.</p>
<p style="position:absolute;top:342px;left:95px;white-space:nowrap" class="ft02">—&#160;For&#160;PAE paging,&#160;each PDE-cache&#160;entry is referenced by&#160;an 11-bit value and is used&#160;for linear&#160;addresses for&#160;</p>
<p style="position:absolute;top:358px;left:120px;white-space:nowrap" class="ft02">which&#160;bits&#160;31:21 have&#160;that&#160;value.</p>
<p style="position:absolute;top:382px;left:95px;white-space:nowrap" class="ft02">—&#160;For&#160;IA-32e&#160;paging,&#160;each PDE-cache&#160;entry is&#160;referenced&#160;by a&#160;27-bit&#160;value and&#160;is used for linear addresses&#160;</p>
<p style="position:absolute;top:399px;left:120px;white-space:nowrap" class="ft02">for&#160;which bits&#160;47:21 have&#160;that value.</p>
<p style="position:absolute;top:421px;left:95px;white-space:nowrap" class="ft06">A&#160;PDE-cache entry contains&#160;information&#160;from the PML4E,&#160;PDPTE,&#160;and PDE used&#160;to translate the relevant&#160;linear&#160;<br/>addresses&#160;(for 32-bit paging&#160;and PAE&#160;paging, only the&#160;PDE&#160;applies):<br/>—&#160;The physical address&#160;from&#160;the&#160;PDE (the&#160;address of&#160;the page&#160;table). (No&#160;PDE-cache entry is&#160;created for a&#160;</p>
<p style="position:absolute;top:478px;left:120px;white-space:nowrap" class="ft02">PDE that&#160;maps a&#160;page.)</p>
<p style="position:absolute;top:502px;left:95px;white-space:nowrap" class="ft06">—&#160;The&#160;logical-AND&#160;of&#160;the&#160;R/W&#160;flags in&#160;the&#160;PML4E,&#160;PDPTE,&#160;and&#160;PDE.<br/>—&#160;The&#160;logical-AND&#160;of&#160;the&#160;U/S&#160;flags&#160;in&#160;the&#160;PML4E,&#160;PDPTE,&#160;and PDE.<br/>—&#160;The logical-OR of the&#160;XD flags in the&#160;PML4E,&#160;PDPTE,&#160;and&#160;PDE.<br/>—&#160;The&#160;values of the&#160;PCD&#160;and PWT&#160;flags of the&#160;PDE.<br/>The&#160;following&#160;items detail&#160;how a&#160;processor&#160;may use&#160;the&#160;PDE&#160;cache (references below to PML4Es&#160;and&#160;PDPTEs&#160;<br/>apply only&#160;to IA-32e&#160;paging):<br/>—&#160;If&#160;the processor has&#160;a PDE-cache entry for&#160;a linear&#160;address,&#160;it may&#160;use that&#160;entry when&#160;translating&#160;the&#160;</p>
<p style="position:absolute;top:654px;left:120px;white-space:nowrap" class="ft02">linear&#160;address (instead of the&#160;PML4E,&#160;the&#160;PDPTE,&#160;and&#160;the&#160;PDE in memory).</p>
<p style="position:absolute;top:678px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor does not&#160;create&#160;a PDE-cache entry unless&#160;the&#160;P flag&#160;is 1,&#160;the PS&#160;flag&#160;is&#160;0,&#160;and&#160;the&#160;reserved&#160;</p>
<p style="position:absolute;top:694px;left:120px;white-space:nowrap" class="ft02">bits are 0&#160;in the&#160;PML4E,&#160;the PDPTE, and&#160;the&#160;PDE in&#160;memory.</p>
<p style="position:absolute;top:718px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor does not&#160;create&#160;a PDE-cache entry unless&#160;the&#160;accessed&#160;flag&#160;is 1&#160;in the&#160;PML4E,&#160;the PDPTE,&#160;</p>
<p style="position:absolute;top:735px;left:120px;white-space:nowrap" class="ft05">and&#160;the PDE in&#160;memory; before caching&#160;a translation,&#160;the processor sets any&#160;accessed flags&#160;that are&#160;not&#160;<br/>already 1.</p>
<p style="position:absolute;top:775px;left:95px;white-space:nowrap" class="ft02">—&#160;The processor may create&#160;a&#160;PDE-cache&#160;entry&#160;even if&#160;there&#160;are no&#160;translations for any&#160;linear address&#160;that&#160;</p>
<p style="position:absolute;top:792px;left:120px;white-space:nowrap" class="ft02">might use&#160;that entry.</p>
<p style="position:absolute;top:816px;left:95px;white-space:nowrap" class="ft02">—&#160;If the&#160;processor creates a PDE-cache entry,&#160;the processor&#160;may&#160;retain&#160;it unmodified&#160;even&#160;if software&#160;subse-</p>
<p style="position:absolute;top:832px;left:120px;white-space:nowrap" class="ft02">quently&#160;modifies&#160;the&#160;corresponding&#160;PML4E,&#160;the&#160;PDPTE,&#160;or the&#160;PDE&#160;in memory.</p>
<p style="position:absolute;top:856px;left:69px;white-space:nowrap" class="ft05">Information&#160;from&#160;a paging-structure entry&#160;can be included&#160;in&#160;entries in&#160;the paging-structure&#160;caches for&#160;other&#160;<br/>paging-structure entries referenced&#160;by the&#160;original entry.&#160;For&#160;example,&#160;if&#160;the R/W flag is 0&#160;in&#160;a PML4E, then the&#160;R/W&#160;<br/>flag will be&#160;0 in&#160;any PDPTE-cache&#160;entry for a&#160;PDPTE from&#160;the page-directory-pointer table referenced&#160;by&#160;that&#160;<br/>PML4E. This&#160;is because&#160;the R/W flag&#160;of&#160;each&#160;such&#160;PDPTE-cache&#160;entry is&#160;the&#160;logical-AND of&#160;the&#160;R/W&#160;flags in&#160;the&#160;<br/>appropriate&#160;PML4E and PDPTE.<br/>The paging-structure caches contain&#160;information&#160;only&#160;from&#160;paging-structure entries that&#160;reference&#160;other paging&#160;<br/>structures&#160;(and not&#160;those that&#160;map pages). Because&#160;the G&#160;flag is&#160;not&#160;used&#160;in such paging-structure entries,&#160;the&#160;<br/>global-page feature&#160;does&#160;not affect&#160;the behavior of&#160;the paging-structure caches.<br/>The processor may&#160;create&#160;entries&#160;in paging-structure caches for translations&#160;required for prefetches&#160;and for&#160;<br/>accesses that are&#160;a&#160;result of speculative&#160;execution&#160;that&#160;would&#160;never&#160;actually&#160;occur in the executed code path.<br/>As note<a href="o_fe12b1e2a880e0ce-139.html">d in Section 4.10.1,</a>&#160;any entries&#160;created in&#160;paging-structure caches by a&#160;logical&#160;processor&#160;are associated&#160;<br/>with the&#160;current PCID.</p>
</div>
</body>
</html>
