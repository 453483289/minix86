<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 507</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:21px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page507-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce507.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:768px;white-space:nowrap" class="ft00">Vol. 3B&#160;15-1</p>
<p style="position:absolute;top:96px;left:699px;white-space:nowrap" class="ft01">CHAPTER 15</p>
<p style="position:absolute;top:120px;left:488px;white-space:nowrap" class="ft01">MACHINE-CHECK&#160;ARCHITECTURE</p>
<p style="position:absolute;top:190px;left:68px;white-space:nowrap" class="ft09">This&#160;chapter&#160;describes&#160;the&#160;machine-check architecture&#160;and&#160;machine-check&#160;exception mechanism found in&#160;the&#160;<br/>Pentium 4, Intel&#160;Xeon,&#160;Intel Atom, and P6&#160;family processors.&#160;<a href="o_fe12b1e2a880e0ce-233.html">See Chapter 6, ‚ÄúInterrupt 18‚ÄîMachine-Check&#160;Excep-<br/>tion&#160;(#MC),‚Äù for more&#160;</a>information on machine-check&#160;exceptions. A brief description of&#160;the&#160;Pentium processor‚Äôs&#160;<br/>machine check capability&#160;is also&#160;given.<br/>Additionally, a signaling mechanism for software to respond to hardware corrected&#160;machine&#160;check&#160;error is covered.</p>
<p style="position:absolute;top:318px;left:68px;white-space:nowrap" class="ft03">15.1 MACHINE-CHECK&#160;</p>
<p style="position:absolute;top:318px;left:309px;white-space:nowrap" class="ft03">ARCHITECTURE</p>
<p style="position:absolute;top:352px;left:68px;white-space:nowrap" class="ft08">The&#160;Pentium 4, Intel&#160;Xeon, Intel&#160;Atom,&#160;and P6 family processors&#160;implement&#160;a machine-check architecture&#160;that&#160;<br/>provides&#160;a&#160;mechanism&#160;for&#160;detecting and reporting hardware (machine) errors, such&#160;as: system bus errors, ECC&#160;<br/>errors, parity&#160;errors, cache errors, and&#160;TLB&#160;errors.&#160;It consists&#160;of&#160;a set of model-specific&#160;registers&#160;(MSRs) that&#160;are&#160;<br/>used to&#160;set up machine checking&#160;and additional banks&#160;of&#160;MSRs used for recording&#160;errors&#160;that are detected.&#160;<br/>The&#160;processor signals&#160;the detection&#160;of an&#160;uncorrected&#160;machine-check error&#160;by&#160;generating&#160;a machine-check excep-<br/>tion (#MC), which is&#160;an&#160;abort&#160;class exception. The implementation of the&#160;machine-check architecture&#160;does&#160;not&#160;<br/>ordinarily&#160;permit the&#160;processor to be&#160;restarted&#160;reliably&#160;after generating&#160;a machine-check exception. However,&#160;the&#160;<br/>machine-check-exception handler&#160;can collect&#160;information about&#160;the machine-check error&#160;from&#160;the&#160;machine-check&#160;<br/>MSRs.<br/>Starting with 45 nm Intel 64 processor on which&#160;CPUID&#160;reports DisplayFamily_DisplayModel&#160;as&#160;06H_1AH&#160;(see&#160;<br/>CPUID instruction&#160;<a href="˛ˇ">in Chapter&#160;3, ‚ÄúInstruction Set&#160;Reference, A-L‚Äù</a>&#160;in&#160;the&#160;<a href="˛ˇ"><i>Intel¬Æ 64 and IA-32&#160;Architectures Software&#160;<br/>Developer‚Äôs Manual, Volume&#160;2A</i>),&#160;</a>the processor can report information on corrected machine-check&#160;errors and&#160;<br/>deliver&#160;a&#160;programmable interrupt for software&#160;to respond&#160;to MC errors,&#160;referred&#160;to as&#160;corrected machine-check&#160;<br/>error interrupt (CMCI).&#160;<a href="o_fe12b1e2a880e0ce-519.html">See Section 15.5</a>&#160;for&#160;detail.&#160;<br/>Intel&#160;64&#160;processors&#160;supporting machine-check architecture&#160;and&#160;CMCI may also&#160;support&#160;an&#160;additional&#160;enhance-<br/>ment,&#160;namely, support for software&#160;recovery&#160;from&#160;certain uncorrected recoverable machine check&#160;errors.&#160;See&#160;<br/><a href="o_fe12b1e2a880e0ce-521.html">Section 15.6&#160;for detail.&#160;</a></p>
<p style="position:absolute;top:690px;left:68px;white-space:nowrap" class="ft03">15.2 COMPATIBILITY&#160;</p>
<p style="position:absolute;top:690px;left:298px;white-space:nowrap" class="ft03">WITH&#160;</p>
<p style="position:absolute;top:690px;left:353px;white-space:nowrap" class="ft03">PENTIUM</p>
<p style="position:absolute;top:694px;left:439px;white-space:nowrap" class="ft05"><b>&#160;</b></p>
<p style="position:absolute;top:690px;left:443px;white-space:nowrap" class="ft03">PROCESSOR</p>
<p style="position:absolute;top:724px;left:68px;white-space:nowrap" class="ft08">The&#160;Pentium 4, Intel Xeon, Intel Atom, and&#160;P6 family processors support&#160;and extend&#160;the machine-check exception&#160;<br/>mechanism introduced&#160;in&#160;the Pentium processor.&#160;The&#160;Pentium processor reports the&#160;following&#160;machine-check&#160;<br/>errors:</p>
<p style="position:absolute;top:779px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:780px;left:93px;white-space:nowrap" class="ft02">data&#160;parity&#160;errors during read cycles</p>
<p style="position:absolute;top:802px;left:68px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:802px;left:93px;white-space:nowrap" class="ft02">unsuccessful completion&#160;of&#160;a bus cycle</p>
<p style="position:absolute;top:825px;left:68px;white-space:nowrap" class="ft09">The&#160;above errors are&#160;reported&#160;using&#160;the P5_MC_TYPE and P5_MC_ADDR MSRs&#160;(implementation specific for the&#160;<br/>Pentium processor).&#160;Use&#160;the&#160;RDMSR&#160;instruction&#160;to read&#160;these&#160;MSRs.&#160;Se<a href="˛ˇ">e Chapter&#160;35,&#160;‚ÄúModel-Specific&#160;Registers&#160;<br/>(MSRs),‚Äù&#160;for th</a>e&#160;addresses.<br/>The&#160;machine-check error&#160;reporting&#160;mechanism&#160;that Pentium processors use&#160;is similar&#160;to that used&#160;in&#160;Pentium&#160;4,&#160;<br/>Intel&#160;Xeon, Intel&#160;Atom,&#160;and P6 family processors.&#160;When&#160;an&#160;error&#160;is detected, it&#160;is&#160;recorded in&#160;P5_MC_TYPE&#160;and&#160;<br/>P5_MC_ADDR; the&#160;processor&#160;then generates a machine-check&#160;exception (#MC).<br/><a href="o_fe12b1e2a880e0ce-518.html">See Section&#160;15.3.3, ‚ÄúMapping of the&#160;Pentium</a></p>
<p style="position:absolute;top:936px;left:369px;white-space:nowrap" class="ft07"><a href="o_fe12b1e2a880e0ce-518.html">&#160;</a></p>
<p style="position:absolute;top:936px;left:371px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-518.html">Processor Machine-Check Errors to&#160;the Machine-Check Architecture,‚Äù</a>&#160;</p>
<p style="position:absolute;top:952px;left:68px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-534.html">and&#160;Section 15.10.2,&#160;‚ÄúPentium</a></p>
<p style="position:absolute;top:953px;left:275px;white-space:nowrap" class="ft07"><a href="o_fe12b1e2a880e0ce-534.html">&#160;</a></p>
<p style="position:absolute;top:952px;left:277px;white-space:nowrap" class="ft02"><a href="o_fe12b1e2a880e0ce-534.html">Processor Machine-Check Exception&#160;Handling,‚Äù for information&#160;</a>on&#160;compatibility&#160;</p>
<p style="position:absolute;top:969px;left:68px;white-space:nowrap" class="ft08">between machine-check code written&#160;to run on the&#160;Pentium&#160;processors&#160;and code written&#160;to&#160;run on P6 family&#160;<br/>processors.</p>
</div>
</body>
</html>
