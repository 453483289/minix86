<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1945</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1945-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1945.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3D&#160;A-3</p>
<p style="position:absolute;top:47px;left:614px;white-space:nowrap" class="ft01">VMX CAPABILITY&#160;REPORTING FACILITY</p>
<p style="position:absolute;top:98px;left:69px;white-space:nowrap" class="ft02">A.3.1 &#160;</p>
<p style="position:absolute;top:98px;left:149px;white-space:nowrap" class="ft02">Pin-Based VM-Execution Controls</p>
<p style="position:absolute;top:129px;left:69px;white-space:nowrap" class="ft06">The&#160;IA32_VMX_PINBASED_CTLS&#160;MSR&#160;(index&#160;481H) reports&#160;on the&#160;allowed settings&#160;of&#160;<b>most</b>&#160;of the&#160;pin-based&#160;<br/>VM-execution controls (see<a href="o_fe12b1e2a880e0ce-1054.html">&#160;Section 24.6.1</a>):</p>
<p style="position:absolute;top:167px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:168px;left:95px;white-space:nowrap" class="ft08">Bits&#160;31:0 indicate&#160;the&#160;<b>allowed 0-settings</b>&#160;of these controls. VM&#160;entry&#160;allows control&#160;X (bit X of the pin-based&#160;<br/>VM-execution controls) to be 0 if bit X&#160;in&#160;the MSR is cleared to 0; if&#160;bit X in the MSR is set to 1, VM&#160;entry fails if&#160;<br/>control X is&#160;0.<br/>Exceptions&#160;are made&#160;for the&#160;pin-based VM-execution&#160;controls&#160;in the&#160;default1&#160;<a href="o_fe12b1e2a880e0ce-1944.html">class (see Appendix&#160;A.2). These</a>&#160;<br/>are bits&#160;1,&#160;2, and 4;&#160;the&#160;corresponding bits of the IA32_VMX_PINBASED_CTLS&#160;MSR are always&#160;read&#160;as 1.&#160;The&#160;<br/>treatment of these controls&#160;by&#160;VM&#160;entry is&#160;determined&#160;by bit&#160;55&#160;in&#160;the&#160;IA32_VMX_BASIC MSR:<br/>—&#160;If bit&#160;55 in the&#160;IA32_VMX_BASIC MSR is read as 0,&#160;VM&#160;entry fails if any pin-based VM-execution control in&#160;</p>
<p style="position:absolute;top:297px;left:120px;white-space:nowrap" class="ft03">the&#160;default1&#160;class&#160;is 0.</p>
<p style="position:absolute;top:321px;left:95px;white-space:nowrap" class="ft03">—&#160;If bit 55 in the&#160;IA32_VMX_BASIC&#160;MSR is&#160;read&#160;as&#160;1,&#160;the IA32_VMX_TRUE_PINBASED_CTLS&#160;MSR (see&#160;</p>
<p style="position:absolute;top:337px;left:120px;white-space:nowrap" class="ft03">below) reports which&#160;of&#160;the&#160;pin-based VM-execution controls in&#160;the default1&#160;class&#160;can be 0&#160;on&#160;VM&#160;entry.</p>
<p style="position:absolute;top:359px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:360px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32 indicate the&#160;<b>allowed 1-settings</b>&#160;of these controls. VM&#160;entry allows control X to be 1&#160;if bit 32+X in&#160;<br/>the MSR&#160;is set&#160;to 1;&#160;if&#160;bit 32+X in&#160;the MSR is&#160;cleared to&#160;0,&#160;VM entry fails&#160;if&#160;control X is&#160;1.</p>
<p style="position:absolute;top:400px;left:69px;white-space:nowrap" class="ft06">If bit&#160;55&#160;in the&#160;IA32_VMX_BASIC MSR is&#160;read&#160;as 1,&#160;the&#160;IA32_VMX_TRUE_PINBASED_CTLS&#160;MSR (index&#160;48DH)&#160;<br/>reports&#160;on the&#160;allowed settings of&#160;<b>all</b>&#160;of the&#160;pin-based&#160;VM-execution controls:</p>
<p style="position:absolute;top:439px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:439px;left:95px;white-space:nowrap" class="ft06">Bits&#160;31:0 indicate the allowed 0-settings of these controls.&#160;VM&#160;entry allows control X to&#160;be&#160;0 if&#160;bit X in&#160;the&#160;MSR&#160;<br/>is&#160;cleared to 0;&#160;if bit X in&#160;the MSR&#160;is set&#160;to 1,&#160;VM&#160;entry fails&#160;if&#160;control X is&#160;0.&#160;There&#160;are&#160;no&#160;exceptions.</p>
<p style="position:absolute;top:478px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:478px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32 indicate the allowed 1-settings&#160;of these controls. VM&#160;entry allows control X&#160;to be&#160;1 if bit 32+X in&#160;the&#160;<br/>MSR is&#160;set&#160;to 1;&#160;if bit 32+X in the MSR is&#160;cleared to&#160;0,&#160;VM entry fails&#160;if&#160;control X is&#160;1.</p>
<p style="position:absolute;top:519px;left:69px;white-space:nowrap" class="ft06">It is&#160;necessary&#160;for software to&#160;consult only one of the&#160;capability MSRs&#160;to determine the&#160;allowed&#160;settings of the pin-<br/>based VM-execution&#160;controls:</p>
<p style="position:absolute;top:557px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:558px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in the&#160;IA32_VMX_BASIC&#160;MSR is read as&#160;0,&#160;all information&#160;about the&#160;allowed settings of the&#160;pin-based&#160;<br/>VM-execution controls&#160;is contained in&#160;the&#160;IA32_VMX_PINBASED_CTLS&#160;MSR.&#160;(The&#160;<br/>IA32_VMX_TRUE_PINBASED_CTLS&#160;MSR is&#160;not supported.)</p>
<p style="position:absolute;top:613px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:613px;left:95px;white-space:nowrap" class="ft06">If bit&#160;55 in the&#160;IA32_VMX_BASIC&#160;MSR is read as&#160;1,&#160;all information&#160;about the&#160;allowed settings of the&#160;pin-based&#160;<br/>VM-execution controls&#160;is contained in the&#160;IA32_VMX_TRUE_PINBASED_CTLS&#160;MSR.&#160;Assuming that&#160;software&#160;<br/>knows that&#160;the default1&#160;class of&#160;pin-based VM-execution controls contains&#160;bits&#160;1, 2,&#160;and&#160;4,&#160;there is&#160;no need for&#160;<br/>software&#160;to consult the&#160;IA32_VMX_PINBASED_CTLS&#160;MSR.</p>
<p style="position:absolute;top:713px;left:69px;white-space:nowrap" class="ft02">A.3.2 &#160;</p>
<p style="position:absolute;top:713px;left:150px;white-space:nowrap" class="ft02">Primary Processor-Based VM-Execution Controls</p>
<p style="position:absolute;top:744px;left:69px;white-space:nowrap" class="ft06">The&#160;IA32_VMX_PROCBASED_CTLS&#160;MSR (index&#160;482H) reports on&#160;the&#160;allowed&#160;settings&#160;of&#160;<b>most</b>&#160;of the&#160;primary&#160;<br/>processor-based&#160;VM-execution cont<a href="o_fe12b1e2a880e0ce-1055.html">rols (see Section&#160;24.6.2):</a></p>
<p style="position:absolute;top:782px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:783px;left:95px;white-space:nowrap" class="ft08">Bits&#160;31:0&#160;indicate&#160;the&#160;allowed 0-settings&#160;of&#160;these&#160;controls. VM&#160;entry allows control X (bit X of the&#160;primary&#160;<br/>processor-based VM-execution controls)&#160;to be 0&#160;if bit&#160;X&#160;in&#160;the&#160;MSR is&#160;cleared to&#160;0; if&#160;bit X in&#160;the MSR&#160;is set&#160;to&#160;<br/>1, VM&#160;entry fails if&#160;control&#160;X&#160;is 0.<br/>Exceptions&#160;are&#160;made for&#160;the&#160;primary processor-based&#160;VM-execution controls in&#160;the default1 class&#160;(see&#160;<br/><a href="o_fe12b1e2a880e0ce-1944.html">Appendix&#160;A.2).</a>&#160;These are&#160;bits&#160;1,&#160;4–6,&#160;8,&#160;13–16,&#160;and 26; the&#160;corresponding&#160;bits of the&#160;<br/>IA32_VMX_PROCBASED_CTLS MSR are always read as&#160;1.&#160;The treatment&#160;of these&#160;controls by VM&#160;entry&#160;is&#160;<br/>determined by bit 55 in&#160;the IA32_VMX_BASIC MSR:<br/>—&#160;If bit&#160;55 in the IA32_VMX_BASIC MSR is read&#160;as 0,&#160;VM&#160;entry fails if any of the primary processor-based VM-</p>
<p style="position:absolute;top:928px;left:120px;white-space:nowrap" class="ft03">execution controls in&#160;the&#160;default1&#160;class&#160;is 0.</p>
<p style="position:absolute;top:952px;left:95px;white-space:nowrap" class="ft03">—&#160;If bit 55 in the&#160;IA32_VMX_BASIC&#160;MSR is&#160;read&#160;as&#160;1,&#160;the&#160;IA32_VMX_TRUE_PROCBASED_CTLS&#160;MSR (see&#160;</p>
<p style="position:absolute;top:969px;left:120px;white-space:nowrap" class="ft06">below) reports which&#160;of&#160;the&#160;primary&#160;processor-based VM-execution&#160;controls in&#160;the default1 class&#160;can be 0&#160;<br/>on VM&#160;entry.</p>
<p style="position:absolute;top:1007px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:1008px;left:95px;white-space:nowrap" class="ft06">Bits&#160;63:32 indicate the allowed 1-settings&#160;of these controls. VM&#160;entry allows control X&#160;to be&#160;1 if bit 32+X in&#160;the&#160;<br/>MSR is&#160;set&#160;to 1;&#160;if bit 32+X in the MSR is&#160;cleared to&#160;0,&#160;VM entry fails&#160;if&#160;control X is&#160;1.</p>
</div>
</body>
</html>
