<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 656</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page656-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce656.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">18-20&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">18.4.3 At-Retirement&#160;</p>
<p style="position:absolute;top:98px;left:267px;white-space:nowrap" class="ft02">Events</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft06">Many&#160;non-architectural&#160;performance events&#160;are impacted&#160;by&#160;the speculative&#160;nature of out-of-order execution. A&#160;<br/>subset of&#160;non-architectural performance events on&#160;processors&#160;based on&#160;Intel&#160;Core microarchitecture&#160;are enhanced&#160;<br/>with a&#160;tagging mechanism (similar&#160;to&#160;that found in&#160;Intel NetBurst</p>
<p style="position:absolute;top:159px;left:508px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:162px;left:519px;white-space:nowrap" class="ft03">&#160;microarchitecture) that&#160;exclude contributions&#160;</p>
<p style="position:absolute;top:178px;left:68px;white-space:nowrap" class="ft06">that arise&#160;from speculative&#160;execution.&#160;The at-retirement events available in&#160;processors based&#160;on&#160;Intel Core micro-<br/>architecture does not require&#160;special&#160;MSR programming&#160;<a href="o_fe12b1e2a880e0ce-731.html">control (see Section 18.15.6,&#160;“At-Retirement&#160;Counting”),</a>&#160;<br/>but is&#160;limited&#160;to IA32_PMC0.&#160;S<a href="o_fe12b1e2a880e0ce-656.html">ee&#160;Table&#160;18-9&#160;for a&#160;</a>list of events&#160;available to&#160;processors&#160;based&#160;on Intel Core&#160;micro-<br/>architecture.</p>
<p style="position:absolute;top:472px;left:68px;white-space:nowrap" class="ft02">18.4.4&#160;</p>
<p style="position:absolute;top:472px;left:148px;white-space:nowrap" class="ft02">Processor Event Based Sampling (PEBS)</p>
<p style="position:absolute;top:502px;left:68px;white-space:nowrap" class="ft06">Processors&#160;based on&#160;Intel Core microarchitecture&#160;also support processor event based&#160;sampling&#160;(PEBS).&#160;This&#160;<br/>feature was&#160;introduced by processors based&#160;on&#160;Intel&#160;NetBurst&#160;microarchitecture.<br/>PEBS uses&#160;a debug&#160;store mechanism&#160;and a&#160;performance monitoring interrupt&#160;to store&#160;a set of architectural state&#160;<br/>information for the&#160;processor.&#160;The&#160;information&#160;provides&#160;architectural state of the&#160;instruction executed&#160;after&#160;the&#160;<br/>instruction&#160;that caused&#160;the&#160;event&#160;(See<a href="o_fe12b1e2a880e0ce-657.html">&#160;Section 18.4.4.2&#160;</a>and&#160;<a href="o_fe12b1e2a880e0ce-591.html">Section&#160;17.4.9</a>).&#160;<br/>In cases where the&#160;same&#160;instruction&#160;causes BTS and&#160;PEBS to&#160;be&#160;activated, PEBS&#160;is processed before&#160;BTS&#160;are&#160;<br/>processed.&#160;The PMI&#160;request&#160;is held until the&#160;processor&#160;completes processing of PEBS and&#160;BTS.<br/>For&#160;processors&#160;based&#160;on Intel Core microarchitecture,&#160;precise&#160;events&#160;that can&#160;be&#160;used&#160;with PEBS&#160;are&#160;listed&#160;in&#160;<br/><a href="o_fe12b1e2a880e0ce-656.html">Table&#160;18-10. The&#160;</a>procedure for detecting&#160;availability of&#160;PEBS&#160;is the&#160;same as&#160;described<a href="o_fe12b1e2a880e0ce-734.html">&#160;in Section 18.15.7.1.</a></p>
<p style="position:absolute;top:259px;left:186px;white-space:nowrap" class="ft05">Table 18-9. &#160;At-Retirement&#160;Performance Events&#160;for Intel Core&#160;Microarchitecture</p>
<p style="position:absolute;top:283px;left:75px;white-space:nowrap" class="ft03">Event Name</p>
<p style="position:absolute;top:283px;left:495px;white-space:nowrap" class="ft03">UMask</p>
<p style="position:absolute;top:283px;left:669px;white-space:nowrap" class="ft03">Event&#160;Select</p>
<p style="position:absolute;top:307px;left:75px;white-space:nowrap" class="ft03">ITLB_MISS_RETIRED</p>
<p style="position:absolute;top:307px;left:495px;white-space:nowrap" class="ft03">00H</p>
<p style="position:absolute;top:307px;left:669px;white-space:nowrap" class="ft03">C9H</p>
<p style="position:absolute;top:331px;left:75px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L1D_MISS</p>
<p style="position:absolute;top:331px;left:495px;white-space:nowrap" class="ft03">01H</p>
<p style="position:absolute;top:331px;left:669px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:355px;left:75px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L1D_LINE_MISS</p>
<p style="position:absolute;top:355px;left:495px;white-space:nowrap" class="ft03">02H</p>
<p style="position:absolute;top:355px;left:669px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:379px;left:75px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L2_MISS</p>
<p style="position:absolute;top:379px;left:495px;white-space:nowrap" class="ft03">04H</p>
<p style="position:absolute;top:379px;left:669px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:403px;left:75px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L2_LINE_MISS</p>
<p style="position:absolute;top:403px;left:495px;white-space:nowrap" class="ft03">08H</p>
<p style="position:absolute;top:403px;left:669px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:427px;left:75px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.DTLB_MISS</p>
<p style="position:absolute;top:427px;left:495px;white-space:nowrap" class="ft03">10H</p>
<p style="position:absolute;top:427px;left:669px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:687px;left:210px;white-space:nowrap" class="ft05">Table 18-10. &#160;PEBS Performance&#160;Events&#160;for Intel&#160;Core&#160;Microarchitecture</p>
<p style="position:absolute;top:709px;left:72px;white-space:nowrap" class="ft03">Event Name</p>
<p style="position:absolute;top:709px;left:493px;white-space:nowrap" class="ft03">UMask</p>
<p style="position:absolute;top:709px;left:677px;white-space:nowrap" class="ft03">Event&#160;Select</p>
<p style="position:absolute;top:732px;left:72px;white-space:nowrap" class="ft03">INSTR_RETIRED.ANY_P</p>
<p style="position:absolute;top:732px;left:493px;white-space:nowrap" class="ft03">00H</p>
<p style="position:absolute;top:732px;left:677px;white-space:nowrap" class="ft03">C0H</p>
<p style="position:absolute;top:754px;left:72px;white-space:nowrap" class="ft03">X87_OPS_RETIRED.ANY</p>
<p style="position:absolute;top:754px;left:493px;white-space:nowrap" class="ft03">FEH</p>
<p style="position:absolute;top:754px;left:677px;white-space:nowrap" class="ft03">C1H</p>
<p style="position:absolute;top:777px;left:72px;white-space:nowrap" class="ft03">BR_INST_RETIRED.MISPRED</p>
<p style="position:absolute;top:777px;left:493px;white-space:nowrap" class="ft03">00H</p>
<p style="position:absolute;top:777px;left:677px;white-space:nowrap" class="ft03">C5H</p>
<p style="position:absolute;top:799px;left:72px;white-space:nowrap" class="ft03">SIMD_INST_RETIRED.ANY</p>
<p style="position:absolute;top:799px;left:493px;white-space:nowrap" class="ft03">1FH</p>
<p style="position:absolute;top:799px;left:677px;white-space:nowrap" class="ft03">C7H</p>
<p style="position:absolute;top:822px;left:72px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L1D_MISS</p>
<p style="position:absolute;top:822px;left:493px;white-space:nowrap" class="ft03">01H</p>
<p style="position:absolute;top:822px;left:677px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:844px;left:72px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L1D_LINE_MISS</p>
<p style="position:absolute;top:844px;left:493px;white-space:nowrap" class="ft03">02H</p>
<p style="position:absolute;top:844px;left:677px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:867px;left:72px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L2_MISS</p>
<p style="position:absolute;top:867px;left:493px;white-space:nowrap" class="ft03">04H</p>
<p style="position:absolute;top:867px;left:677px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:889px;left:72px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.L2_LINE_MISS</p>
<p style="position:absolute;top:889px;left:493px;white-space:nowrap" class="ft03">08H</p>
<p style="position:absolute;top:889px;left:677px;white-space:nowrap" class="ft03">CBH</p>
<p style="position:absolute;top:912px;left:72px;white-space:nowrap" class="ft03">MEM_LOAD_RETIRED.DTLB_MISS</p>
<p style="position:absolute;top:912px;left:493px;white-space:nowrap" class="ft03">10H</p>
<p style="position:absolute;top:912px;left:677px;white-space:nowrap" class="ft03">CBH</p>
</div>
</body>
</html>
