<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1262</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:16px;font-family:Times;color:#000000;}
	.ft08{font-size:12px;font-family:Times;color:#0860a8;}
	.ft09{font-size:11px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft010{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft012{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft013{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft014{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft015{font-size:11px;line-height:27px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft016{font-size:11px;line-height:26px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1,         -1,          0, 0, 0);-webkit-transform: matrix(         0,          1,         -1,          0, 0, 0);-o-transform: matrix(         0,          1,         -1,          0, 0, 0);-ms-transform: matrix(         0,          1,         -1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft017{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1262-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce1262.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">34-12&#160;Vol. 3C</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">SYSTEM&#160;MANAGEMENT&#160;MODE</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">34.7.1&#160;</p>
<p style="position:absolute;top:98px;left:148px;white-space:nowrap" class="ft02">I/O State Implementation</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft010">Within&#160;the extended&#160;SMM state save&#160;map,&#160;a bit (IO_SMI)&#160;is&#160;provided&#160;that&#160;is set only when an&#160;SMI is&#160;either taken&#160;<br/>immediately after&#160;a&#160;<i>successful&#160;</i>I/O instruction or&#160;is taken after a&#160;<i>successful&#160;</i>iteration of a&#160;REP I/O&#160;instruction&#160;(the&#160;<br/><i>successful</i>&#160;notion pertains&#160;to the processor point of view; not necessarily to&#160;the&#160;corresponding platform function).<b>&#160;<br/></b>When&#160;set, the&#160;IO_SMI bit provides a&#160;strong indication&#160;that&#160;the&#160;corresponding SMI&#160;was synchronous. In this&#160;case,&#160;<br/>the SMM&#160;State&#160;Save&#160;Map&#160;also supplies the&#160;port&#160;address of&#160;the&#160;I/O operation.&#160;The&#160;IO_SMI&#160;bit and&#160;the I/O&#160;Port&#160;<br/>Address may&#160;be used&#160;in conjunction&#160;with&#160;the&#160;information&#160;logged by the&#160;platform to&#160;confirm&#160;that&#160;the SMI&#160;was&#160;<br/>indeed synchronous.<br/>The&#160;IO_SMI bit by itself&#160;is a&#160;strong indication, not&#160;a guarantee, that the&#160;SMI is&#160;synchronous.&#160;This is&#160;because an&#160;<br/>asynchronous&#160;SMI might&#160;coincidentally be taken after&#160;an I/O&#160;instruction. In&#160;such a&#160;case, the&#160;IO_SMI bit would&#160;still&#160;<br/>be set in&#160;the SMM&#160;state save&#160;map.<br/>Information characterizing the&#160;I/O instruction is&#160;saved in two locations&#160;in the&#160;SMM State Save&#160;Map&#160;<a href="o_fe12b1e2a880e0ce-1262.html">(Table&#160;34-5).&#160;<br/></a>The&#160;IO_SMI&#160;bit also serves&#160;as a&#160;valid bit for the&#160;rest&#160;of&#160;the I/O&#160;information fields.&#160;The&#160;contents of these&#160;I/O infor-<br/>mation&#160;fields are not defined&#160;when&#160;the&#160;IO_SMI&#160;bit is&#160;not set.</p>
<p style="position:absolute;top:598px;left:68px;white-space:nowrap" class="ft03">When IO_SMI&#160;is set,&#160;the other&#160;fields&#160;may be interpreted as&#160;follows:</p>
<p style="position:absolute;top:620px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:621px;left:93px;white-space:nowrap" class="ft03">I/O length:</p>
<p style="position:absolute;top:646px;left:119px;white-space:nowrap" class="ft07">•</p>
<p style="position:absolute;top:645px;left:144px;white-space:nowrap" class="ft03">001&#160;–&#160;Byte</p>
<p style="position:absolute;top:670px;left:119px;white-space:nowrap" class="ft07">•</p>
<p style="position:absolute;top:669px;left:144px;white-space:nowrap" class="ft03">010&#160;–&#160;Word</p>
<p style="position:absolute;top:694px;left:119px;white-space:nowrap" class="ft07">•</p>
<p style="position:absolute;top:693px;left:144px;white-space:nowrap" class="ft03">100&#160;–&#160;Dword</p>
<p style="position:absolute;top:715px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:715px;left:93px;white-space:nowrap" class="ft03">I/O instruction ty<a href="o_fe12b1e2a880e0ce-1262.html">pe (Table 34-6)</a></p>
<p style="position:absolute;top:383px;left:228px;white-space:nowrap" class="ft08">Table&#160;34-5. &#160;I/O Instruction&#160;Information in&#160;the SMM&#160;State Save&#160;Map</p>
<p style="position:absolute;top:406px;left:75px;white-space:nowrap" class="ft03">State&#160;(SMM&#160;Rev.&#160;ID: 30004H&#160;or&#160;higher)</p>
<p style="position:absolute;top:406px;left:372px;white-space:nowrap" class="ft012">Format<br/>31</p>
<p style="position:absolute;top:430px;left:424px;white-space:nowrap" class="ft03">16</p>
<p style="position:absolute;top:430px;left:476px;white-space:nowrap" class="ft03">15</p>
<p style="position:absolute;top:430px;left:528px;white-space:nowrap" class="ft03">8</p>
<p style="position:absolute;top:430px;left:581px;white-space:nowrap" class="ft03">7</p>
<p style="position:absolute;top:430px;left:633px;white-space:nowrap" class="ft03">4</p>
<p style="position:absolute;top:430px;left:685px;white-space:nowrap" class="ft03">3</p>
<p style="position:absolute;top:430px;left:737px;white-space:nowrap" class="ft03">1</p>
<p style="position:absolute;top:430px;left:789px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:454px;left:75px;white-space:nowrap" class="ft014">I/0 State Field<br/>SMRAM offset&#160;7FA4</p>
<p style="position:absolute;top:444px;left:454px;white-space:nowrap" class="ft015">I/O P<br/>ort</p>
<p style="position:absolute;top:444px;left:558px;white-space:nowrap" class="ft09">Re</p>
<p style="position:absolute;top:459px;left:558px;white-space:nowrap" class="ft09">se</p>
<p style="position:absolute;top:472px;left:558px;white-space:nowrap" class="ft09">rv</p>
<p style="position:absolute;top:483px;left:558px;white-space:nowrap" class="ft09">ed</p>
<p style="position:absolute;top:444px;left:662px;white-space:nowrap" class="ft016">I/O T<br/>yp</p>
<p style="position:absolute;top:484px;left:662px;white-space:nowrap" class="ft09">e</p>
<p style="position:absolute;top:444px;left:767px;white-space:nowrap" class="ft016">I/O L<br/>en</p>
<p style="position:absolute;top:484px;left:767px;white-space:nowrap" class="ft09">gt</p>
<p style="position:absolute;top:496px;left:767px;white-space:nowrap" class="ft09">h</p>
<p style="position:absolute;top:444px;left:819px;white-space:nowrap" class="ft09">IO</p>
<p style="position:absolute;top:455px;left:819px;white-space:nowrap" class="ft09">_S</p>
<p style="position:absolute;top:469px;left:819px;white-space:nowrap" class="ft09">M</p>
<p style="position:absolute;top:479px;left:819px;white-space:nowrap" class="ft09">I</p>
<p style="position:absolute;top:526px;left:372px;white-space:nowrap" class="ft03">31</p>
<p style="position:absolute;top:526px;left:789px;white-space:nowrap" class="ft03">0</p>
<p style="position:absolute;top:550px;left:75px;white-space:nowrap" class="ft017">I/O Memory Address Field<br/>SMRAM offset&#160;7FA0</p>
<p style="position:absolute;top:550px;left:372px;white-space:nowrap" class="ft03">I/O Memory Address</p>
<p style="position:absolute;top:757px;left:306px;white-space:nowrap" class="ft08">Table 34-6. &#160;I/O&#160;Instruction Type&#160;Encodings</p>
<p style="position:absolute;top:778px;left:74px;white-space:nowrap" class="ft03">Instruction</p>
<p style="position:absolute;top:778px;left:477px;white-space:nowrap" class="ft03">Encoding</p>
<p style="position:absolute;top:801px;left:74px;white-space:nowrap" class="ft03">IN Immediate</p>
<p style="position:absolute;top:801px;left:477px;white-space:nowrap" class="ft03">1001</p>
<p style="position:absolute;top:823px;left:74px;white-space:nowrap" class="ft03">IN DX</p>
<p style="position:absolute;top:823px;left:477px;white-space:nowrap" class="ft03">0001</p>
<p style="position:absolute;top:846px;left:74px;white-space:nowrap" class="ft03">OUT Immediate</p>
<p style="position:absolute;top:846px;left:477px;white-space:nowrap" class="ft03">1000</p>
<p style="position:absolute;top:868px;left:74px;white-space:nowrap" class="ft03">OUT DX</p>
<p style="position:absolute;top:868px;left:477px;white-space:nowrap" class="ft03">0000</p>
<p style="position:absolute;top:891px;left:74px;white-space:nowrap" class="ft03">INS</p>
<p style="position:absolute;top:891px;left:477px;white-space:nowrap" class="ft03">0011</p>
<p style="position:absolute;top:913px;left:74px;white-space:nowrap" class="ft03">OUTS</p>
<p style="position:absolute;top:913px;left:477px;white-space:nowrap" class="ft03">0010</p>
<p style="position:absolute;top:936px;left:74px;white-space:nowrap" class="ft03">REP INS</p>
<p style="position:absolute;top:936px;left:477px;white-space:nowrap" class="ft03">0111</p>
<p style="position:absolute;top:958px;left:74px;white-space:nowrap" class="ft03">REP OUTS</p>
<p style="position:absolute;top:958px;left:477px;white-space:nowrap" class="ft03">0110</p>
</div>
</body>
</html>
