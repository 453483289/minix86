<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 190</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:18px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page190-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce190.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">6-4&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INTERRUPT&#160;AND EXCEPTION&#160;HANDLING</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">6.3.3 Software-Generated&#160;</p>
<p style="position:absolute;top:98px;left:317px;white-space:nowrap" class="ft02">Interrupts</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft010">The INT&#160;<i>n</i>&#160;instruction permits interrupts&#160;to be generated&#160;from&#160;within&#160;software&#160;by supplying an interrupt vector&#160;<br/>number as&#160;an operand. For example,&#160;the&#160;INT 35&#160;instruction&#160;forces&#160;an&#160;implicit call to&#160;the interrupt handler&#160;for inter-<br/>rupt 35.&#160;<br/>Any&#160;of&#160;the interrupt vectors from 0&#160;to 255 can&#160;be&#160;used&#160;as a&#160;parameter in this&#160;instruction.&#160;If&#160;the processor’s&#160;<br/>predefined NMI&#160;vector is used, however,&#160;the&#160;response of the processor will not be the same as it&#160;would be&#160;from an&#160;<br/>NMI interrupt generated in the normal manner.&#160;If&#160;vector number 2 (the NMI vector) is used in this&#160;instruction, the&#160;<br/>NMI&#160;interrupt handler is&#160;called, but the&#160;processor’s NMI-handling&#160;hardware&#160;is not&#160;activated.&#160;<br/>Interrupts generated in&#160;software with the&#160;INT&#160;<i>n</i>&#160;instruction&#160;cannot be masked by the IF&#160;flag in&#160;the EFLAGS register.</p>
<p style="position:absolute;top:315px;left:68px;white-space:nowrap" class="ft05">6.4 SOURCES&#160;</p>
<p style="position:absolute;top:315px;left:240px;white-space:nowrap" class="ft05">OF&#160;</p>
<p style="position:absolute;top:315px;left:270px;white-space:nowrap" class="ft05">EXCEPTIONS</p>
<p style="position:absolute;top:351px;left:68px;white-space:nowrap" class="ft03">The processor receives&#160;exceptions from three&#160;sources:</p>
<p style="position:absolute;top:373px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:373px;left:93px;white-space:nowrap" class="ft03">Processor-detected program-error exceptions.</p>
<p style="position:absolute;top:395px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:396px;left:93px;white-space:nowrap" class="ft03">Software-generated exceptions.</p>
<p style="position:absolute;top:418px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:418px;left:93px;white-space:nowrap" class="ft03">Machine-check&#160;exceptions.</p>
<p style="position:absolute;top:469px;left:68px;white-space:nowrap" class="ft02">6.4.1 Program-Error&#160;</p>
<p style="position:absolute;top:469px;left:266px;white-space:nowrap" class="ft02">Exceptions</p>
<p style="position:absolute;top:499px;left:68px;white-space:nowrap" class="ft08">The processor generates&#160;one or&#160;more exceptions&#160;when&#160;it&#160;detects program&#160;errors during&#160;the execution&#160;in&#160;an&#160;appli-<br/>cation program or the operating&#160;system&#160;or executive. Intel&#160;64&#160;and IA-32&#160;architectures define&#160;a&#160;vector number&#160;for&#160;<br/>each processor-detectable&#160;exception. Exceptions are&#160;classified as&#160;<b>faults</b>,&#160;<b>traps</b>, and&#160;<b>aborts</b><a href="o_fe12b1e2a880e0ce-190.html">&#160;(see Section 6.5,&#160;<br/>“Exception Classifications”).</a></p>
<p style="position:absolute;top:599px;left:68px;white-space:nowrap" class="ft02">6.4.2 Software-Generated&#160;</p>
<p style="position:absolute;top:599px;left:317px;white-space:nowrap" class="ft02">Exceptions</p>
<p style="position:absolute;top:630px;left:68px;white-space:nowrap" class="ft08">The INTO, INT 3, and BOUND instructions permit exceptions&#160;to be generated in software.&#160;These instructions allow&#160;<br/>checks&#160;for&#160;exception conditions&#160;to be performed at&#160;points&#160;in&#160;the instruction stream. For example, INT 3 causes&#160;a&#160;<br/>breakpoint&#160;exception to be&#160;generated.<br/>The INT&#160;<i>n</i>&#160;instruction&#160;can be&#160;used to&#160;emulate&#160;exceptions&#160;in software; but there&#160;is a&#160;limitation.&#160;If&#160;INT&#160;<i>n</i>&#160;provides&#160;a&#160;<br/>vector for one of the&#160;architecturally-defined&#160;exceptions, the processor generates an interrupt to the correct vector&#160;<br/>(to&#160;access the&#160;exception handler) but does not&#160;push an&#160;error&#160;code&#160;on the stack. This&#160;is true even&#160;if the&#160;associated&#160;<br/>hardware-generated&#160;exception normally&#160;produces an&#160;error code. The&#160;exception&#160;handler will still attempt to pop an&#160;<br/>error code from the&#160;stack while handling the&#160;exception.&#160;Because no&#160;error code&#160;was&#160;pushed, the&#160;handler&#160;will&#160;pop&#160;off&#160;<br/>and discard&#160;the EIP&#160;instead&#160;(in place of the&#160;missing&#160;error code).&#160;This sends the&#160;return to&#160;the&#160;wrong location.</p>
<p style="position:absolute;top:820px;left:68px;white-space:nowrap" class="ft02">6.4.3 Machine-Check&#160;</p>
<p style="position:absolute;top:820px;left:273px;white-space:nowrap" class="ft02">Exceptions</p>
<p style="position:absolute;top:850px;left:68px;white-space:nowrap" class="ft08">The P6 family and Pentium processors provide&#160;both internal and external machine-check mechanisms for checking&#160;<br/>the&#160;operation of&#160;the&#160;internal chip&#160;hardware&#160;and bus transactions. These mechanisms are implementation&#160;depen-<br/>dent. When&#160;a machine-check error&#160;is detected, the&#160;processor&#160;signals a&#160;machine-check exception (vector 18) and&#160;<br/>returns an&#160;error code.&#160;<br/>Se<a href="o_fe12b1e2a880e0ce-233.html">e Chapter&#160;6,&#160;“Interrupt&#160;18—Machine-Check Exception&#160;(#MC)” and Ch</a><a href="o_fe12b1e2a880e0ce-507.html">apter 15, “Machine-Check&#160;Architecture,”&#160;<br/></a>for&#160;more information&#160;about the&#160;machine-check mechanism.</p>
<p style="position:absolute;top:996px;left:68px;white-space:nowrap" class="ft05">6.5 EXCEPTION&#160;</p>
<p style="position:absolute;top:996px;left:258px;white-space:nowrap" class="ft05">CLASSIFICATIONS</p>
<p style="position:absolute;top:1032px;left:68px;white-space:nowrap" class="ft08">Exceptions&#160;are classified&#160;as&#160;<b>faults</b>,&#160;<b>traps</b>, or&#160;<b>aborts</b>&#160;depending on the&#160;way&#160;they&#160;are&#160;reported and whether the&#160;<br/>instruction&#160;that&#160;caused&#160;the exception&#160;can be restarted without loss&#160;of&#160;program&#160;or task continuity.</p>
</div>
</body>
</html>
