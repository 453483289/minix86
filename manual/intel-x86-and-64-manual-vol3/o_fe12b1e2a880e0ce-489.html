<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 489</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page489-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce489.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;14-23</p>
<p style="position:absolute;top:47px;left:619px;white-space:nowrap" class="ft01">POWER AND THERMAL MANAGEMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft09">In&#160;each chip-multiprocessing (CMP)&#160;silicon&#160;die,&#160;each&#160;core&#160;has a&#160;unique thermal&#160;sensor that triggers&#160;independently.&#160;<br/>These thermal sensor can trigger TM1 or TM2 transitions in<a href="o_fe12b1e2a880e0ce-486.html">&#160;the same manner as described in Section&#160;14.7.2.1 and&#160;<br/>Section 14.7.2.2.</a>&#160;The trip&#160;point&#160;of&#160;the thermal&#160;sensor is&#160;not programmable&#160;by&#160;software since&#160;it&#160;is set&#160;during&#160;the&#160;<br/>fabrication of the&#160;processor.&#160;<br/>Each&#160;thermal sensor&#160;in a processor core may be triggered&#160;independently to engage&#160;thermal management features.&#160;<br/>In&#160;Adaptive TM,&#160;both cores will transition&#160;to a&#160;lower frequency and/or&#160;lower voltage&#160;level&#160;if one&#160;sensor&#160;is triggered.<br/>Triggering&#160;of&#160;this sensor&#160;is&#160;visible to software via the thermal interrupt LVT entry in the local APIC of a&#160;given core.&#160;</p>
<p style="position:absolute;top:265px;left:69px;white-space:nowrap" class="ft03">14.7.3&#160;</p>
<p style="position:absolute;top:265px;left:149px;white-space:nowrap" class="ft03">Software&#160;Controlled Clock Modulation</p>
<p style="position:absolute;top:295px;left:69px;white-space:nowrap" class="ft08">Pentium 4,&#160;Intel&#160;Xeon&#160;and Pentium M processors&#160;also support software-controlled clock&#160;modulation.&#160;This provides&#160;<br/>a means for operating systems to implement a power management policy to reduce the power consumption of&#160;the&#160;<br/>processor.&#160;Here, the&#160;stop-clock duty&#160;cycle&#160;is controlled&#160;by software&#160;through the&#160;IA32_CLOCK_MODULATION MSR&#160;<br/><a href="o_fe12b1e2a880e0ce-489.html">(see Figure&#160;14-25).</a>&#160;</p>
<p style="position:absolute;top:558px;left:69px;white-space:nowrap" class="ft08">The IA32_CLOCK_MODULATION MSR contains the following&#160;flag&#160;and&#160;field&#160;used to enable&#160;software-controlled&#160;clock&#160;<br/>modulation&#160;and to&#160;select&#160;the clock modulation&#160;duty&#160;cycle:</p>
<p style="position:absolute;top:596px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:597px;left:95px;white-space:nowrap" class="ft08"><b>On-Demand Clock Modulation Enable,&#160;bit&#160;4&#160;</b>—&#160;Enables on-demand software&#160;controlled clock&#160;modulation&#160;<br/>when&#160;set;&#160;disables software-controlled clock modulation&#160;when&#160;clear.</p>
<p style="position:absolute;top:635px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:636px;left:95px;white-space:nowrap" class="ft08"><b>On-Demand Clock Modulation Duty Cycle, bits 1&#160;through 3&#160;</b>—&#160;Selects the&#160;on-demand&#160;clock modulation&#160;<br/>duty cy<a href="o_fe12b1e2a880e0ce-489.html">cle (see Table 14-3</a>). This&#160;field&#160;is only active&#160;when&#160;the on-demand clock modulation enable&#160;flag is&#160;set.</p>
<p style="position:absolute;top:676px;left:69px;white-space:nowrap" class="ft08">Note that the&#160;on-demand&#160;clock&#160;modulation mechanism (like the&#160;thermal monitor)&#160;controls the&#160;processor’s stop-<br/>clock circuitry internally to&#160;modulate the&#160;clock signal. The&#160;STPCLK# pin&#160;is not used&#160;in&#160;this mechanism.</p>
<p style="position:absolute;top:993px;left:69px;white-space:nowrap" class="ft08">The on-demand&#160;clock modulation&#160;mechanism&#160;can&#160;be&#160;used&#160;to&#160;control processor power&#160;consumption. Power&#160;<br/>management software&#160;can write to the&#160;IA32_CLOCK_MODULATION MSR&#160;to enable&#160;clock modulation and&#160;to select&#160;<br/>a&#160;modulation&#160;duty&#160;cycle. If on-demand clock modulation&#160;and TM1 are both&#160;enabled and&#160;the&#160;thermal&#160;status of the&#160;<br/>processor&#160;is hot (bit&#160;0 of the&#160;IA32_THERM_STATUS MSR&#160;is set), clock modulation at&#160;the duty&#160;cycle&#160;specified by TM1&#160;<br/>takes precedence,&#160;regardless&#160;of&#160;the setting of the on-demand&#160;clock&#160;modulation duty&#160;cycle.</p>
<p style="position:absolute;top:512px;left:296px;white-space:nowrap" class="ft06">Figure&#160;14-25.&#160;&#160;IA32_CLOCK_MODULATION&#160;MSR</p>
<p style="position:absolute;top:723px;left:225px;white-space:nowrap" class="ft06">Table 14-3.&#160;&#160;On-Demand&#160;Clock Modulation&#160;Duty Cycle&#160;Field&#160;Encoding</p>
<p style="position:absolute;top:748px;left:108px;white-space:nowrap" class="ft02">Duty Cycle Field Encoding</p>
<p style="position:absolute;top:748px;left:537px;white-space:nowrap" class="ft02">Duty Cycle</p>
<p style="position:absolute;top:772px;left:170px;white-space:nowrap" class="ft02">000B</p>
<p style="position:absolute;top:772px;left:308px;white-space:nowrap" class="ft02">Reserved</p>
<p style="position:absolute;top:796px;left:170px;white-space:nowrap" class="ft02">001B</p>
<p style="position:absolute;top:796px;left:308px;white-space:nowrap" class="ft02">12.5%&#160;(Default)</p>
<p style="position:absolute;top:820px;left:170px;white-space:nowrap" class="ft02">010B</p>
<p style="position:absolute;top:820px;left:308px;white-space:nowrap" class="ft02">25.0%</p>
<p style="position:absolute;top:844px;left:170px;white-space:nowrap" class="ft02">011B</p>
<p style="position:absolute;top:844px;left:308px;white-space:nowrap" class="ft02">37.5%</p>
<p style="position:absolute;top:868px;left:170px;white-space:nowrap" class="ft02">100B</p>
<p style="position:absolute;top:868px;left:308px;white-space:nowrap" class="ft02">50.0%</p>
<p style="position:absolute;top:892px;left:170px;white-space:nowrap" class="ft02">101B</p>
<p style="position:absolute;top:892px;left:308px;white-space:nowrap" class="ft02">63.5%</p>
<p style="position:absolute;top:916px;left:170px;white-space:nowrap" class="ft02">110B</p>
<p style="position:absolute;top:916px;left:308px;white-space:nowrap" class="ft02">75%</p>
<p style="position:absolute;top:940px;left:170px;white-space:nowrap" class="ft02">111B</p>
<p style="position:absolute;top:940px;left:308px;white-space:nowrap" class="ft02">87.5%</p>
<p style="position:absolute;top:397px;left:251px;white-space:nowrap" class="ft07">63</p>
<p style="position:absolute;top:397px;left:650px;white-space:nowrap" class="ft07">0</p>
<p style="position:absolute;top:418px;left:420px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:397px;left:641px;white-space:nowrap" class="ft07">1</p>
<p style="position:absolute;top:397px;left:623px;white-space:nowrap" class="ft07">3</p>
<p style="position:absolute;top:470px;left:364px;white-space:nowrap" class="ft00">On-Demand&#160;Clock Modulation Duty Cycle</p>
<p style="position:absolute;top:455px;left:366px;white-space:nowrap" class="ft00">On-Demand&#160;Clock Modulation Enable</p>
<p style="position:absolute;top:397px;left:614px;white-space:nowrap" class="ft07">4</p>
<p style="position:absolute;top:397px;left:605px;white-space:nowrap" class="ft07">5</p>
<p style="position:absolute;top:485px;left:283px;white-space:nowrap" class="ft00">Reserved</p>
</div>
</body>
</html>
