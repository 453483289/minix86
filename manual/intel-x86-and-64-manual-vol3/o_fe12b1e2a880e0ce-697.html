<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 697</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:9px;line-height:12px;font-family:Times;color:#000000;}
	.ft09{font-size:9px;line-height:11px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page697-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce697.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;18-61</p>
<p style="position:absolute;top:47px;left:672px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft02">The&#160;bit fields of the uncore event&#160;select&#160;MSRs&#160;for a&#160;C-box unit&#160;or the&#160;ARB unit&#160;are summarized below:</p>
<p style="position:absolute;top:122px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:123px;left:95px;white-space:nowrap" class="ft06">Event_Select (bits&#160;7:0)&#160;and&#160;UMASK (bits&#160;15:8): Specifies&#160;the microarchitectural condition to&#160;count in a&#160;local&#160;<br/>uncore PMU counter,&#160;see&#160;<a href="o_fe12b1e2a880e0ce-812.html">Table&#160;19-16.</a></p>
<p style="position:absolute;top:161px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:162px;left:95px;white-space:nowrap" class="ft02">E (bit 18): Enables&#160;edge detection&#160;filtering,&#160;if 1.</p>
<p style="position:absolute;top:184px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:184px;left:95px;white-space:nowrap" class="ft06">OVF_EN (bit&#160;20):&#160;Enables&#160;the overflow indicator from&#160;the uncore&#160;counter forwarded to&#160;<br/>MSR_UNC_PERF_GLOBAL_CTRL, if&#160;1.</p>
<p style="position:absolute;top:223px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:223px;left:95px;white-space:nowrap" class="ft02">EN (bit 22): Enables&#160;the local&#160;counter associated&#160;with this&#160;event&#160;select MSR.</p>
<p style="position:absolute;top:245px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:246px;left:95px;white-space:nowrap" class="ft02">INV&#160;(bit&#160;23): Event&#160;count&#160;increments with non-negative&#160;value if 0,&#160;with negated&#160;value if&#160;1.&#160;</p>
<p style="position:absolute;top:268px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:268px;left:95px;white-space:nowrap" class="ft02">CMASK (bits 28:24):&#160;Specifies&#160;a positive&#160;threshold&#160;value&#160;to&#160;filter raw event count input.</p>
<p style="position:absolute;top:292px;left:69px;white-space:nowrap" class="ft06">At&#160;the&#160;uncore domain level, there is a&#160;master set of control MSRs that&#160;centrally manages all the performance moni-<br/>toring&#160;facility of uncore&#160;<a href="o_fe12b1e2a880e0ce-697.html">units. Figure&#160;18-39 sho</a>ws&#160;the&#160;layout of&#160;the&#160;uncore domain&#160;global&#160;control.&#160;<br/>When&#160;an uncore counter&#160;overflows,&#160;a&#160;PMI can&#160;be&#160;routed to&#160;a processor core. Bits&#160;3:0&#160;of&#160;<br/>MSR_UNC_PERF_GLOBAL_CTRL&#160;can be&#160;used&#160;to select&#160;which&#160;processor&#160;core to&#160;handle&#160;the uncore PMI. Software&#160;<br/>must then&#160;write to&#160;bit 13 of IA32_DEBUGCTL (at address&#160;1D9H)&#160;to enable&#160;this&#160;capability.</p>
<p style="position:absolute;top:388px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:388px;left:95px;white-space:nowrap" class="ft06">PMI_SEL_Core#: Enables&#160;the&#160;forwarding of an&#160;uncore PMI&#160;request&#160;to a&#160;processor&#160;core, if 1.&#160;If bit 30 (WakePMI)&#160;<br/>is ‘1’,&#160;a wake&#160;request is&#160;sent&#160;to&#160;the respective&#160;processor core prior&#160;to sending the&#160;PMI.</p>
<p style="position:absolute;top:427px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:427px;left:95px;white-space:nowrap" class="ft06">EN: Enables the&#160;fixed uncore counter, the&#160;ARB counters,&#160;and&#160;the CBO counters in the uncore PMU,&#160;if&#160;1. This&#160;bit&#160;<br/>is&#160;cleared&#160;if bit 31&#160;(FREEZE) is&#160;set&#160;and any&#160;enabled uncore&#160;counters overflow.</p>
<p style="position:absolute;top:466px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:466px;left:95px;white-space:nowrap" class="ft06">WakePMI: Controls sending a wake&#160;request to any halted&#160;processor core before issuing the uncore&#160;PMI request.&#160;<br/>If a&#160;processor&#160;core was halted and&#160;not&#160;sent a&#160;wake&#160;request,&#160;the uncore&#160;PMI&#160;will&#160;not be&#160;serviced by the&#160;<br/>processor core.</p>
<p style="position:absolute;top:521px;left:69px;white-space:nowrap" class="ft03">•</p>
<p style="position:absolute;top:522px;left:95px;white-space:nowrap" class="ft06">FREEZE: Provides the&#160;capability to&#160;freeze all uncore counters when an overflow&#160;condition occurs&#160;in&#160;a unit&#160;<br/>counter.&#160;When this&#160;bit is&#160;set, and a counter&#160;overflow&#160;occurs,&#160;the uncore&#160;PMU logic will clear the&#160;global&#160;enable&#160;<br/>bit&#160;(bit&#160;29).</p>
<p style="position:absolute;top:825px;left:210px;white-space:nowrap" class="ft04">Figure&#160;18-39.&#160;&#160;Layout&#160;of&#160;MSR_UNC_PERF_GLOBAL_CTRL&#160;MSR for Uncore</p>
<p style="position:absolute;top:692px;left:225px;white-space:nowrap" class="ft00">FREEZE—Freeze counters</p>
<p style="position:absolute;top:720px;left:226px;white-space:nowrap" class="ft00">EN—Enable all uncore counters</p>
<p style="position:absolute;top:621px;left:679px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:621px;left:424px;white-space:nowrap" class="ft05">28</p>
<p style="position:absolute;top:621px;left:411px;white-space:nowrap" class="ft05">29</p>
<p style="position:absolute;top:621px;left:398px;white-space:nowrap" class="ft05">30</p>
<p style="position:absolute;top:621px;left:386px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:621px;left:373px;white-space:nowrap" class="ft05">32</p>
<p style="position:absolute;top:794px;left:285px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:621px;left:247px;white-space:nowrap" class="ft05">63</p>
<p style="position:absolute;top:705px;left:226px;white-space:nowrap" class="ft00">WakePMI—Wake cores on PMI</p>
<p style="position:absolute;top:796px;left:390px;white-space:nowrap" class="ft05">RESET&#160;Value&#160;— 00000000_00000000H</p>
<p style="position:absolute;top:621px;left:617px;white-space:nowrap" class="ft05">4&#160;3&#160;2&#160;1</p>
<p style="position:absolute;top:734px;left:226px;white-space:nowrap" class="ft08">PMI_Sel_Core3 — Uncore&#160;PMI to core 3<br/>PMI_Sel_Core2 — Uncore&#160;PMI to core 2<br/>PMI_Sel_Core1 —&#160;Uncore&#160;PMI to core 1<br/>PMI_Sel_Core0 — Uncore&#160;PMI to core 0</p>
</div>
</body>
</html>
