<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 136</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:8px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1, -0.8071343252,          0, 0, 0);-webkit-transform: matrix(         0,          1, -0.8071343252,          0, 0, 0);-o-transform: matrix(         0,          1, -0.8071343252,          0, 0, 0);-ms-transform: matrix(         0,          1, -0.8071343252,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft08{font-size:8px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-webkit-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-o-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-ms-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft011{font-size:9px;line-height:12px;font-family:Times;color:#000000;}
	.ft012{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
	.ft013{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
	.ft014{font-size:8px;line-height:12px;font-family:Times;color:#000000;-moz-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-webkit-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-o-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-ms-transform: matrix(         0,          1, -0.9539081452,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page136-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce136.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-32&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PAGING</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft09">As&#160;note<a href="o_fe12b1e2a880e0ce-111.html">d in Section 4.3,</a><a href="o_fe12b1e2a880e0ce-118.html">&#160;Section&#160;4.4.2</a>,&#160;and&#160;<a href="o_fe12b1e2a880e0ce-123.html">Section&#160;4.5,</a>&#160;there is no translation for a&#160;linear address if the&#160;translation&#160;<br/>process for&#160;that&#160;address would use a&#160;paging-structure&#160;entry in&#160;which the&#160;P flag&#160;(bit&#160;0)&#160;is 0 or&#160;one&#160;that sets a&#160;<br/>reserved&#160;bit. If there is&#160;a translation&#160;for&#160;a linear&#160;address,&#160;its access rights are&#160;determined&#160;as&#160;specified in&#160;<a href="o_fe12b1e2a880e0ce-132.html">Section&#160;<br/>4.6.<br/></a>When Intel®&#160;Software&#160;Guard Extensions (Intel®&#160;SGX)&#160;are&#160;enabled,&#160;the&#160;processor&#160;may deliver&#160;exception&#160;14 for&#160;<br/>reasons unrelated&#160;to&#160;paging.&#160;See<a href="o_fe12b1e2a880e0ce-1771.html">&#160;Section 38.3,&#160;“Access-control Requirements” and Section 38</a><a href="o_fe12b1e2a880e0ce-1786.html">.19,&#160;“Enclave&#160;Page&#160;<br/>Cache&#160;Map (EPCM)” in&#160;</a><a href="o_fe12b1e2a880e0ce-1771.html">Chapter&#160;38, “Enclave&#160;Access Control&#160;and Data Structures.”&#160;Su</a>ch&#160;an exception is&#160;called an&#160;<br/><b>SGX-induced page</b>&#160;<b>fault</b>.&#160;The&#160;processor&#160;uses&#160;the&#160;error&#160;code&#160;to&#160;distinguish&#160;SGX-induced&#160;page&#160;faults from ordinary&#160;<br/>page&#160;faults.<br/><a href="o_fe12b1e2a880e0ce-136.html">Figure&#160;4-12&#160;</a>illustrates the&#160;error code that&#160;the processor provides on delivery&#160;of&#160;a page-fault exception. The&#160;<br/>following&#160;items explain how&#160;the bits in the&#160;error&#160;code&#160;describe the nature of the page-fault exception:</p>
<p style="position:absolute;top:784px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:785px;left:93px;white-space:nowrap" class="ft09">P flag&#160;(bit&#160;0).<br/>This flag&#160;is 0 if there is&#160;no translation&#160;for&#160;the linear address&#160;because&#160;the&#160;P flag&#160;was 0&#160;in&#160;one&#160;of the&#160;paging-<br/>structure entries used&#160;to translate that&#160;address.</p>
<p style="position:absolute;top:840px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:840px;left:93px;white-space:nowrap" class="ft09">W/R (bit&#160;1).<br/>If the&#160;access&#160;causing&#160;the&#160;page-fault exception&#160;was a&#160;write, this flag&#160;is 1; otherwise,&#160;it&#160;is 0. This&#160;flag&#160;describes&#160;<br/>the access causing&#160;the page-fault exception,&#160;not&#160;the access rights&#160;specified by paging.</p>
<p style="position:absolute;top:895px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:896px;left:93px;white-space:nowrap" class="ft09">U/S (bit&#160;2).<br/>If&#160;a user-mode&#160;access&#160;caused the&#160;page-fault&#160;exception,&#160;this&#160;flag&#160;is 1; it is 0 if a supervisor-mode&#160;access did so.&#160;<br/>This&#160;flag describes&#160;the access causing&#160;the page-fault exception, not the&#160;access rights specified&#160;by&#160;paging. User-<br/>mode and supervisor-mode accesses&#160;are defined&#160;<a href="o_fe12b1e2a880e0ce-132.html">in&#160;Section&#160;4.6.</a></p>
<p style="position:absolute;top:967px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:968px;left:93px;white-space:nowrap" class="ft09">RSVD flag&#160;(bit&#160;3).<br/>This&#160;flag is&#160;1 if there is&#160;no&#160;translation for the&#160;linear address&#160;because&#160;a reserved bit&#160;was set&#160;in one of the&#160;paging-<br/>structure&#160;entries used&#160;to&#160;translate&#160;that address. (Because&#160;reserved&#160;bits are&#160;not checked&#160;in a&#160;paging-structure&#160;<br/>entry whose P flag&#160;is 0,&#160;bit&#160;3&#160;of&#160;the&#160;error&#160;code&#160;can be&#160;set&#160;only&#160;if bit&#160;0&#160;is also set.</p>
<p style="position:absolute;top:1015px;left:632px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:1017px;left:639px;white-space:nowrap" class="ft02">)</p>
<p style="position:absolute;top:730px;left:334px;white-space:nowrap" class="ft06">Figure&#160;4-12.&#160;&#160;Page-Fault&#160;Error Code</p>
<p style="position:absolute;top:389px;left:322px;white-space:nowrap" class="ft011">The fault was caused by&#160;a non-present&#160;page.<br/>The fault was caused by&#160;a page-level protection&#160;violation.</p>
<p style="position:absolute;top:431px;left:322px;white-space:nowrap" class="ft011">The access causing the fault was a read.<br/>The access causing the fault was a write.</p>
<p style="position:absolute;top:473px;left:322px;white-space:nowrap" class="ft012">A supervisor-mode access caused the fault.<br/>A user-mode access caused&#160;the fault.</p>
<p style="position:absolute;top:325px;left:239px;white-space:nowrap" class="ft05">31</p>
<p style="position:absolute;top:323px;left:635px;white-space:nowrap" class="ft05">0</p>
<p style="position:absolute;top:349px;left:367px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:323px;left:622px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:323px;left:610px;white-space:nowrap" class="ft05">2</p>
<p style="position:absolute;top:323px;left:597px;white-space:nowrap" class="ft05">3</p>
<p style="position:absolute;top:323px;left:583px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:513px;left:322px;white-space:nowrap" class="ft012">The fault was not caused by&#160;reserved bit violation.<br/>The fault was caused by&#160;a reserved bit set to&#160;1 in some</p>
<p style="position:absolute;top:389px;left:258px;white-space:nowrap" class="ft00">P</p>
<p style="position:absolute;top:389px;left:309px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:402px;left:308px;white-space:nowrap" class="ft00">1</p>
<p style="position:absolute;top:430px;left:258px;white-space:nowrap" class="ft00">W/R</p>
<p style="position:absolute;top:431px;left:309px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:444px;left:308px;white-space:nowrap" class="ft00">1</p>
<p style="position:absolute;top:472px;left:257px;white-space:nowrap" class="ft00">U/S</p>
<p style="position:absolute;top:473px;left:308px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:515px;left:256px;white-space:nowrap" class="ft00">RSVD</p>
<p style="position:absolute;top:513px;left:308px;white-space:nowrap" class="ft012">0<br/>1</p>
<p style="position:absolute;top:486px;left:308px;white-space:nowrap" class="ft00">1</p>
<p style="position:absolute;top:329px;left:581px;white-space:nowrap" class="ft07">I/D</p>
<p style="position:absolute;top:564px;left:258px;white-space:nowrap" class="ft00">I/D</p>
<p style="position:absolute;top:562px;left:308px;white-space:nowrap" class="ft013">0&#160;&#160;The&#160;fault was not caused by&#160;an instruction fetch.<br/>1&#160;The&#160;fault&#160;was&#160;caused by an instruction&#160;fetch.</p>
<p style="position:absolute;top:330px;left:636px;white-space:nowrap" class="ft08">P</p>
<p style="position:absolute;top:330px;left:621px;white-space:nowrap" class="ft08">W/R</p>
<p style="position:absolute;top:330px;left:609px;white-space:nowrap" class="ft08">U/S</p>
<p style="position:absolute;top:329px;left:595px;white-space:nowrap" class="ft08">RSVD</p>
<p style="position:absolute;top:540px;left:322px;white-space:nowrap" class="ft00">paging-structure entry.</p>
<p style="position:absolute;top:329px;left:567px;white-space:nowrap" class="ft08">PK&#160;5</p>
<p style="position:absolute;top:612px;left:258px;white-space:nowrap" class="ft00">PK</p>
<p style="position:absolute;top:610px;left:309px;white-space:nowrap" class="ft013">0&#160;&#160;The&#160;fault was not&#160;caused by protection keys.<br/>1&#160;There was a protection-key violation.</p>
<p style="position:absolute;top:652px;left:258px;white-space:nowrap" class="ft00">SGX</p>
<p style="position:absolute;top:653px;left:320px;white-space:nowrap" class="ft00">The fault is not related&#160;to SGX.</p>
<p style="position:absolute;top:652px;left:309px;white-space:nowrap" class="ft012">0<br/>1&#160;The fault resulted&#160;from violation of SGX-specific&#160;access-control</p>
<p style="position:absolute;top:679px;left:320px;white-space:nowrap" class="ft00">requirements.</p>
<p style="position:absolute;top:350px;left:484px;white-space:nowrap" class="ft00">Reserved</p>
<p style="position:absolute;top:331px;left:446px;white-space:nowrap" class="ft014">SG<br/>X</p>
<p style="position:absolute;top:324px;left:444px;white-space:nowrap" class="ft05">15</p>
</div>
</body>
</html>
