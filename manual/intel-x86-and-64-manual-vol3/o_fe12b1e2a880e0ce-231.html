<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 231</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:14px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page231-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce231.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 3A&#160;6-45</p>
<p style="position:absolute;top:47px;left:609px;white-space:nowrap" class="ft01">INTERRUPT&#160;AND&#160;EXCEPTION HANDLING</p>
<p style="position:absolute;top:98px;left:69px;white-space:nowrap" class="ft02">Interrupt&#160;17—Alignment Check Exception (#AC)</p>
<p style="position:absolute;top:146px;left:69px;white-space:nowrap" class="ft03">Exception&#160;Class</p>
<p style="position:absolute;top:144px;left:207px;white-space:nowrap" class="ft04">Fault.</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:211px;left:69px;white-space:nowrap" class="ft07">Indicates that the processor detected an unaligned memory operand when alignment checking&#160;was enabled.&#160;Align-<br/>ment checks are&#160;only carried out in data (or stack) accesses (not in code&#160;fetches or system&#160;segment accesses). An&#160;<br/>example of an&#160;alignment-check violation&#160;is&#160;a word stored&#160;at&#160;an odd byte&#160;address,&#160;or&#160;a doubleword stored at&#160;an&#160;<br/>address&#160;that is&#160;not&#160;an integer multip<a href="o_fe12b1e2a880e0ce-231.html">le of 4.&#160;Table 6-7&#160;</a>lists the&#160;alignment requirements various data types recog-<br/>nized by&#160;the&#160;processor.</p>
<p style="position:absolute;top:721px;left:69px;white-space:nowrap" class="ft08">Note&#160;that&#160;the alignment check exception&#160;(#AC)&#160;is generated only for data types&#160;that must be aligned&#160;on&#160;word,&#160;<br/>doubleword,&#160;and&#160;quadword&#160;boundaries.&#160;A&#160;general-protection&#160;exception (#GP)&#160;is generated&#160;128-bit data types that&#160;<br/>are not aligned&#160;on&#160;a 16-byte boundary.<br/>To&#160;enable&#160;alignment checking, the&#160;following&#160;conditions must be true:</p>
<p style="position:absolute;top:800px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:801px;left:95px;white-space:nowrap" class="ft05">AM flag&#160;in CR0&#160;register is&#160;set.</p>
<p style="position:absolute;top:823px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:823px;left:95px;white-space:nowrap" class="ft05">AC&#160;flag&#160;in&#160;the&#160;EFLAGS&#160;register&#160;is&#160;set.</p>
<p style="position:absolute;top:845px;left:69px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:846px;left:95px;white-space:nowrap" class="ft05">The&#160;CPL&#160;is 3&#160;(protected&#160;mode&#160;or&#160;virtual-8086&#160;mode).</p>
<p style="position:absolute;top:870px;left:69px;white-space:nowrap" class="ft07">Alignment-check&#160;exceptions (#AC) are&#160;generated only when operating&#160;at privilege&#160;level&#160;3 (user&#160;mode). Memory&#160;<br/>references&#160;that default&#160;to privilege&#160;level 0, such&#160;as&#160;segment&#160;descriptor loads, do not generate alignment-check&#160;<br/>exceptions,&#160;even&#160;when&#160;caused&#160;by a memory reference made&#160;from privilege level&#160;3.<br/>Storing the&#160;contents of the&#160;GDTR, IDTR,&#160;LDTR, or&#160;task&#160;register&#160;in memory&#160;while&#160;at&#160;privilege&#160;level 3&#160;can&#160;generate&#160;<br/>an alignment-check exception. Although&#160;application&#160;programs&#160;do not&#160;normally store&#160;these&#160;registers, the fault can&#160;<br/>be&#160;avoided by&#160;aligning the&#160;information stored&#160;on&#160;an&#160;even&#160;word-address.<br/>The FXSAVE/XSAVE and&#160;FXRSTOR/XRSTOR&#160;instructions&#160;save&#160;and&#160;restore a 512-byte data structure, the first byte&#160;<br/>of&#160;which must be aligned&#160;on&#160;a 16-byte boundary.&#160;If&#160;the&#160;alignment-check exception (#AC) is&#160;enabled when&#160;<br/>executing these instructions (and&#160;CPL&#160;is 3), a&#160;misaligned memory&#160;operand can&#160;cause either an&#160;alignment-check&#160;<br/>exception or&#160;a general-protection&#160;exception (#GP)&#160;depending&#160;on&#160;the processor implementation (see&#160;“FXSAVE-<br/>Save&#160;x87&#160;FPU,&#160;MMX,&#160;SSE, and SSE2&#160;State”&#160;and&#160;“FXRSTOR-Restore x87 FPU, MMX,&#160;SSE, and SSE2&#160;State”&#160;in&#160;</p>
<p style="position:absolute;top:308px;left:287px;white-space:nowrap" class="ft03">Table&#160;6-7.&#160;&#160;Alignment Requirements by&#160;Data&#160;Type</p>
<p style="position:absolute;top:333px;left:75px;white-space:nowrap" class="ft05">Data Type</p>
<p style="position:absolute;top:333px;left:464px;white-space:nowrap" class="ft05">Address Must&#160;Be&#160;Divisible By</p>
<p style="position:absolute;top:357px;left:75px;white-space:nowrap" class="ft05">Word</p>
<p style="position:absolute;top:357px;left:464px;white-space:nowrap" class="ft05">2</p>
<p style="position:absolute;top:381px;left:75px;white-space:nowrap" class="ft05">Doubleword</p>
<p style="position:absolute;top:381px;left:464px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:405px;left:75px;white-space:nowrap" class="ft05">Single-precision&#160;floating-point&#160;(32-bits)</p>
<p style="position:absolute;top:405px;left:464px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:429px;left:75px;white-space:nowrap" class="ft05">Double-precision floating-point&#160;(64-bits)</p>
<p style="position:absolute;top:429px;left:464px;white-space:nowrap" class="ft05">8</p>
<p style="position:absolute;top:453px;left:75px;white-space:nowrap" class="ft05">Double extended-precision&#160;floating-point&#160;(80-bits)</p>
<p style="position:absolute;top:453px;left:464px;white-space:nowrap" class="ft05">8</p>
<p style="position:absolute;top:476px;left:75px;white-space:nowrap" class="ft05">Quadword</p>
<p style="position:absolute;top:476px;left:464px;white-space:nowrap" class="ft05">8</p>
<p style="position:absolute;top:501px;left:75px;white-space:nowrap" class="ft05">Double&#160;quadword</p>
<p style="position:absolute;top:501px;left:464px;white-space:nowrap" class="ft05">16</p>
<p style="position:absolute;top:525px;left:75px;white-space:nowrap" class="ft05">Segment Selector</p>
<p style="position:absolute;top:525px;left:464px;white-space:nowrap" class="ft05">2</p>
<p style="position:absolute;top:548px;left:75px;white-space:nowrap" class="ft05">32-bit Far&#160;Pointer</p>
<p style="position:absolute;top:548px;left:464px;white-space:nowrap" class="ft05">2</p>
<p style="position:absolute;top:573px;left:75px;white-space:nowrap" class="ft05">48-bit Far&#160;Pointer</p>
<p style="position:absolute;top:573px;left:464px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:597px;left:75px;white-space:nowrap" class="ft05">32-bit Pointer</p>
<p style="position:absolute;top:597px;left:464px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:620px;left:75px;white-space:nowrap" class="ft05">GDTR, IDTR,&#160;LDTR,&#160;or&#160;Task&#160;Register&#160;Contents</p>
<p style="position:absolute;top:620px;left:464px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:645px;left:75px;white-space:nowrap" class="ft05">FSTENV/FLDENV&#160;Save&#160;Area</p>
<p style="position:absolute;top:645px;left:464px;white-space:nowrap" class="ft05">4 or 2, depending on&#160;operand size</p>
<p style="position:absolute;top:669px;left:75px;white-space:nowrap" class="ft05">FSAVE/FRSTOR&#160;Save&#160;Area</p>
<p style="position:absolute;top:669px;left:464px;white-space:nowrap" class="ft05">4 or 2, depending on&#160;operand size</p>
<p style="position:absolute;top:692px;left:75px;white-space:nowrap" class="ft05">Bit&#160;String</p>
<p style="position:absolute;top:692px;left:464px;white-space:nowrap" class="ft05">2&#160;or&#160;4&#160;depending&#160;on&#160;the&#160;operand-size&#160;attribute.</p>
</div>
</body>
</html>
