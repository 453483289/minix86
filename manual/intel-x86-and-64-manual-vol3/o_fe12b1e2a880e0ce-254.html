<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 254</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#0860a8;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page254-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce254.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">7-16&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">TASK&#160;MANAGEMENT</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft06">The&#160;16-bit TSS&#160;does not contain&#160;a field&#160;for the base&#160;address of&#160;the page directory,&#160;which is loaded&#160;into control&#160;<br/>register&#160;CR3.&#160;A&#160;separate&#160;set&#160;of page&#160;tables&#160;for&#160;each task&#160;is not supported&#160;for&#160;16-bit tasks. If a&#160;16-bit task is&#160;<br/>dispatched, the&#160;page-table&#160;structure&#160;for&#160;the&#160;previous&#160;task&#160;is used.</p>
<p style="position:absolute;top:155px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:156px;left:93px;white-space:nowrap" class="ft03">The&#160;I/O&#160;base address&#160;is not included in&#160;the 16-bit&#160;TSS.&#160;None&#160;of the&#160;functions of the I/O map are&#160;supported.</p>
<p style="position:absolute;top:178px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:178px;left:93px;white-space:nowrap" class="ft03">When&#160;task state&#160;is&#160;saved&#160;in a&#160;16-bit&#160;TSS,&#160;the upper&#160;16&#160;bits of the EFLAGS&#160;register and the&#160;EIP register&#160;are&#160;lost.</p>
<p style="position:absolute;top:200px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:201px;left:93px;white-space:nowrap" class="ft06">When&#160;the general-purpose registers&#160;are&#160;loaded&#160;or saved&#160;from a&#160;16-bit TSS,&#160;the upper 16 bits of the&#160;registers&#160;<br/>are modified and&#160;not maintained.</p>
<p style="position:absolute;top:797px;left:68px;white-space:nowrap" class="ft04">7.7&#160;</p>
<p style="position:absolute;top:797px;left:147px;white-space:nowrap" class="ft04">TASK MANAGEMENT&#160;IN 64-BIT MODE</p>
<p style="position:absolute;top:833px;left:68px;white-space:nowrap" class="ft06">In 64-bit&#160;mode,&#160;task structure and task state&#160;are&#160;similar&#160;to&#160;those in&#160;protected mode. However,&#160;the&#160;task&#160;switching&#160;<br/>mechanism available in protected mode is not supported in&#160;64-bit mode.&#160;Task management and switching must&#160;be&#160;<br/>performed by software. The processor issues a general-protection exception (#GP)&#160;if the following is&#160;attempted&#160;in&#160;<br/>64-bit mode:</p>
<p style="position:absolute;top:904px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:905px;left:93px;white-space:nowrap" class="ft03">Control transfer to&#160;a&#160;TSS&#160;or a&#160;task gate&#160;using JMP,&#160;CALL,&#160;INTn, or interrupt.</p>
<p style="position:absolute;top:927px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:928px;left:93px;white-space:nowrap" class="ft03">An&#160;IRET&#160;with&#160;EFLAGS.NT&#160;(nested task) set to&#160;1.</p>
<p style="position:absolute;top:748px;left:346px;white-space:nowrap" class="ft05">Figure&#160;7-10.&#160; 16-Bit&#160;TSS Format</p>
<p style="position:absolute;top:294px;left:398px;white-space:nowrap" class="ft00">Task&#160;LDT&#160;Selector</p>
<p style="position:absolute;top:315px;left:415px;white-space:nowrap" class="ft00">DS&#160;Selector</p>
<p style="position:absolute;top:333px;left:416px;white-space:nowrap" class="ft00">SS Selector</p>
<p style="position:absolute;top:354px;left:415px;white-space:nowrap" class="ft00">CS&#160;Selector</p>
<p style="position:absolute;top:375px;left:416px;white-space:nowrap" class="ft00">ES Selector</p>
<p style="position:absolute;top:395px;left:441px;white-space:nowrap" class="ft00">DI</p>
<p style="position:absolute;top:415px;left:440px;white-space:nowrap" class="ft00">SI</p>
<p style="position:absolute;top:436px;left:439px;white-space:nowrap" class="ft00">BP</p>
<p style="position:absolute;top:456px;left:439px;white-space:nowrap" class="ft00">SP</p>
<p style="position:absolute;top:477px;left:439px;white-space:nowrap" class="ft00">BX</p>
<p style="position:absolute;top:497px;left:439px;white-space:nowrap" class="ft00">DX</p>
<p style="position:absolute;top:518px;left:439px;white-space:nowrap" class="ft00">CX</p>
<p style="position:absolute;top:538px;left:439px;white-space:nowrap" class="ft00">AX</p>
<p style="position:absolute;top:557px;left:418px;white-space:nowrap" class="ft00">FLAG Word</p>
<p style="position:absolute;top:577px;left:407px;white-space:nowrap" class="ft00">IP (Entry Point)</p>
<p style="position:absolute;top:599px;left:435px;white-space:nowrap" class="ft00">SS2</p>
<p style="position:absolute;top:620px;left:435px;white-space:nowrap" class="ft00">SP2</p>
<p style="position:absolute;top:641px;left:435px;white-space:nowrap" class="ft00">SS1</p>
<p style="position:absolute;top:661px;left:435px;white-space:nowrap" class="ft00">SP1</p>
<p style="position:absolute;top:680px;left:435px;white-space:nowrap" class="ft00">SS0</p>
<p style="position:absolute;top:700px;left:435px;white-space:nowrap" class="ft00">SP0</p>
<p style="position:absolute;top:720px;left:396px;white-space:nowrap" class="ft00">Previous Task Link</p>
<p style="position:absolute;top:274px;left:351px;white-space:nowrap" class="ft00">15</p>
<p style="position:absolute;top:276px;left:531px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:294px;left:544px;white-space:nowrap" class="ft00">42</p>
<p style="position:absolute;top:314px;left:544px;white-space:nowrap" class="ft00">40</p>
<p style="position:absolute;top:358px;left:544px;white-space:nowrap" class="ft00">36</p>
<p style="position:absolute;top:375px;left:544px;white-space:nowrap" class="ft00">34</p>
<p style="position:absolute;top:396px;left:544px;white-space:nowrap" class="ft00">32</p>
<p style="position:absolute;top:417px;left:544px;white-space:nowrap" class="ft00">30</p>
<p style="position:absolute;top:335px;left:544px;white-space:nowrap" class="ft00">38</p>
<p style="position:absolute;top:437px;left:544px;white-space:nowrap" class="ft00">28</p>
<p style="position:absolute;top:457px;left:544px;white-space:nowrap" class="ft00">26</p>
<p style="position:absolute;top:477px;left:544px;white-space:nowrap" class="ft00">24</p>
<p style="position:absolute;top:497px;left:544px;white-space:nowrap" class="ft00">22</p>
<p style="position:absolute;top:519px;left:544px;white-space:nowrap" class="ft00">20</p>
<p style="position:absolute;top:538px;left:544px;white-space:nowrap" class="ft00">18</p>
<p style="position:absolute;top:557px;left:544px;white-space:nowrap" class="ft00">16</p>
<p style="position:absolute;top:578px;left:544px;white-space:nowrap" class="ft00">14</p>
<p style="position:absolute;top:597px;left:544px;white-space:nowrap" class="ft00">12</p>
<p style="position:absolute;top:619px;left:544px;white-space:nowrap" class="ft00">10</p>
<p style="position:absolute;top:639px;left:547px;white-space:nowrap" class="ft00">8</p>
<p style="position:absolute;top:660px;left:547px;white-space:nowrap" class="ft00">6</p>
<p style="position:absolute;top:680px;left:547px;white-space:nowrap" class="ft00">4</p>
<p style="position:absolute;top:699px;left:547px;white-space:nowrap" class="ft00">2</p>
<p style="position:absolute;top:720px;left:547px;white-space:nowrap" class="ft00">0</p>
</div>
</body>
</html>
