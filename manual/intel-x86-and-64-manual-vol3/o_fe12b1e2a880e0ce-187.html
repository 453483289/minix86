<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 187</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:21px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page187-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce187.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 3A&#160;6-1</p>
<p style="position:absolute;top:96px;left:714px;white-space:nowrap" class="ft01">CHAPTER 6</p>
<p style="position:absolute;top:120px;left:410px;white-space:nowrap" class="ft01">INTERRUPT&#160;AND EXCEPTION HANDLING</p>
<p style="position:absolute;top:190px;left:68px;white-space:nowrap" class="ft05">This chapter describes the&#160;interrupt and exception-handling mechanism when operating&#160;in&#160;protected&#160;mode on&#160;an&#160;<br/>Intel&#160;64&#160;or IA-32 processor.&#160;Most of the&#160;information provided here&#160;also&#160;applies to&#160;interrupt and&#160;exception mecha-<br/>nisms&#160;used&#160;in real-address,&#160;virtual-8086 mode, and 64-bit mode.&#160;<br/><a href="˛ˇ">Chapter 20,&#160;‚Äú8086 Emulation,‚Äù&#160;</a>describes information&#160;specific to&#160;interrupt and exception mechanisms&#160;in&#160;real-<br/>address and&#160;virtual-8086 mode<a href="o_fe12b1e2a880e0ce-202.html">. Section 6.14,&#160;‚ÄúException and Interrupt Handling in&#160;64-bit Mode,‚Äù&#160;describe</a>s&#160;infor-<br/>mation specific to&#160;interrupt and exception mechanisms in IA-32e&#160;mode and&#160;64-bit sub-mode.</p>
<p style="position:absolute;top:336px;left:68px;white-space:nowrap" class="ft03">6.1&#160;</p>
<p style="position:absolute;top:336px;left:147px;white-space:nowrap" class="ft03">INTERRUPT AND EXCEPTION OVERVIEW</p>
<p style="position:absolute;top:372px;left:68px;white-space:nowrap" class="ft05">Interrupts&#160;and exceptions are events&#160;that indicate that a&#160;condition exists somewhere in&#160;the system, the processor,&#160;<br/>or within&#160;the currently executing program&#160;or&#160;task&#160;that requires&#160;the attention&#160;of&#160;a processor.&#160;They&#160;typically result&#160;in&#160;<br/>a&#160;forced transfer of execution&#160;from&#160;the currently running&#160;program&#160;or task&#160;to&#160;a special&#160;software routine or&#160;task&#160;<br/>called an&#160;interrupt handler&#160;or an exception handler.&#160;The action taken&#160;by&#160;a processor in response&#160;to an interrupt or&#160;<br/>exception&#160;is referred to&#160;as servicing or handling the&#160;interrupt or&#160;exception.<br/>Interrupts occur at&#160;random&#160;times during the&#160;execution of a&#160;program, in&#160;response&#160;to signals&#160;from&#160;hardware. System&#160;<br/>hardware uses interrupts to handle events external to the processor,&#160;such as requests to&#160;service peripheral&#160;devices.&#160;<br/>Software&#160;can also&#160;generate interrupts by executing the&#160;INT&#160;<i>n</i>&#160;instruction.&#160;<br/>Exceptions&#160;occur when&#160;the processor detects an&#160;error&#160;condition while&#160;executing an instruction, such&#160;as division by&#160;<br/>zero. The processor&#160;detects a&#160;variety of error&#160;conditions&#160;including protection violations,&#160;page&#160;faults,&#160;and internal&#160;<br/>machine&#160;faults.&#160;The&#160;machine-check architecture&#160;of the&#160;Pentium 4, Intel&#160;Xeon, P6 family,&#160;and Pentium processors&#160;<br/>also&#160;permits&#160;a machine-check exception&#160;to be&#160;generated when internal&#160;hardware errors and&#160;bus errors&#160;are&#160;<br/>detected.<br/>When&#160;an interrupt&#160;is received or&#160;an exception is&#160;detected, the currently running&#160;procedure&#160;or&#160;task is&#160;suspended&#160;<br/>while&#160;the processor executes&#160;an interrupt or exception&#160;handler.&#160;When&#160;execution of&#160;the handler&#160;is complete, the&#160;<br/>processor resumes&#160;execution of the interrupted procedure&#160;or&#160;task. The resumption of the&#160;interrupted&#160;procedure or&#160;<br/>task happens without&#160;loss of program continuity,&#160;unless&#160;recovery from&#160;an&#160;exception&#160;was not&#160;possible or&#160;an&#160;inter-<br/>rupt caused the&#160;currently running program to&#160;be&#160;terminated.<br/>This chapter describes the&#160;processor‚Äôs interrupt&#160;and&#160;exception-handling mechanism,&#160;when&#160;operating in protected&#160;<br/>mode. A description&#160;of the&#160;exceptions and the&#160;conditions that&#160;cause&#160;them to&#160;be generated is given&#160;at the&#160;end&#160;of this&#160;<br/>chapter.</p>
<p style="position:absolute;top:787px;left:68px;white-space:nowrap" class="ft03">6.2&#160;</p>
<p style="position:absolute;top:787px;left:147px;white-space:nowrap" class="ft03">EXCEPTION AND INTERRUPT VECTORS</p>
<p style="position:absolute;top:823px;left:68px;white-space:nowrap" class="ft05">To&#160;aid in&#160;handling exceptions&#160;and interrupts,&#160;each architecturally&#160;defined exception and each&#160;interrupt condition&#160;<br/>requiring&#160;special handling by the processor is assigned&#160;a&#160;unique&#160;identification number,&#160;called&#160;a vector number.&#160;The&#160;<br/>processor&#160;uses the&#160;vector number assigned&#160;to an&#160;exception or&#160;interrupt as&#160;an index&#160;into the&#160;interrupt descriptor&#160;<br/>table (IDT).&#160;The table&#160;provides&#160;the&#160;entry point to an&#160;exception or interrupt handler&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-195.html">Section 6.10,&#160;‚ÄúInterrupt&#160;<br/>Descriptor Table (IDT)‚Äù).<br/></a>The&#160;allowable&#160;range for vector numbers&#160;is 0 to&#160;255.&#160;Vector numbers&#160;in the&#160;range 0&#160;through 31 are&#160;reserved&#160;by the&#160;<br/>Intel&#160;64&#160;and&#160;IA-32&#160;architectures for architecture-defined&#160;exceptions and interrupts. Not&#160;all of the&#160;vector numbers&#160;<br/>in&#160;this&#160;range have&#160;a&#160;currently&#160;defined function.&#160;The unassigned&#160;vector&#160;numbers&#160;in&#160;this&#160;range are&#160;reserved.&#160;Do&#160;not&#160;<br/>use&#160;the reserved vector numbers.&#160;<br/>Vector numbers in the&#160;range&#160;32 to&#160;255&#160;are designated&#160;as&#160;user-defined&#160;interrupts&#160;and&#160;are&#160;not&#160;reserved by the&#160;Intel&#160;<br/>64&#160;and&#160;IA-32&#160;architecture.&#160;These interrupts are&#160;generally assigned&#160;to external&#160;I/O devices to&#160;enable those&#160;devices&#160;<br/>to&#160;send&#160;interrupts to&#160;the processor through one&#160;of the&#160;external hardware interrupt&#160;me<a href="o_fe12b1e2a880e0ce-188.html">chanisms (see Section&#160;6.3,&#160;<br/>‚ÄúSources of Interrupts‚Äù).</a></p>
</div>
</body>
</html>
