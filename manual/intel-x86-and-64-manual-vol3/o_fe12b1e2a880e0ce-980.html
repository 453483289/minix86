<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 980</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page980-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce980.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">20-4&#160;Vol. 3B</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">8086&#160;EMULATION</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:100px;left:93px;white-space:nowrap" class="ft03">LOCK&#160;prefix.</p>
<p style="position:absolute;top:122px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:123px;left:93px;white-space:nowrap" class="ft03">Repeat prefixes&#160;REP,&#160;REPE,&#160;REPZ,&#160;REPNE,&#160;and&#160;REPNZ.</p>
<p style="position:absolute;top:145px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:145px;left:93px;white-space:nowrap" class="ft03">Processor&#160;halt (HLT) instruction.</p>
<p style="position:absolute;top:167px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:168px;left:93px;white-space:nowrap" class="ft03">No operation (NOP)&#160;instruction.</p>
<p style="position:absolute;top:192px;left:68px;white-space:nowrap" class="ft07">The&#160;following&#160;instructions, added&#160;to later IA-32&#160;processors&#160;(some in&#160;the Intel 286 processor and&#160;the remainder in&#160;<br/>the Intel386&#160;processor), can&#160;be&#160;executed&#160;in&#160;real-address&#160;mode, if backwards compatibility to&#160;the&#160;Intel&#160;8086&#160;<br/>processor is&#160;not required.</p>
<p style="position:absolute;top:247px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:247px;left:93px;white-space:nowrap" class="ft03">Move (MOV)&#160;instructions&#160;that&#160;operate on&#160;the control and debug&#160;registers.</p>
<p style="position:absolute;top:269px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:270px;left:93px;white-space:nowrap" class="ft03">Load segment register&#160;instructions&#160;LSS,&#160;LFS,&#160;and LGS.</p>
<p style="position:absolute;top:292px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:292px;left:93px;white-space:nowrap" class="ft03">Generalized multiply&#160;instructions&#160;and multiply immediate data.</p>
<p style="position:absolute;top:314px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:315px;left:93px;white-space:nowrap" class="ft03">Shift&#160;and rotate by immediate counts.</p>
<p style="position:absolute;top:337px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:337px;left:93px;white-space:nowrap" class="ft03">Stack&#160;instructions&#160;PUSHA,&#160;PUSHAD,&#160;POPA&#160;and POPAD,&#160;and PUSH&#160;immediate&#160;data.</p>
<p style="position:absolute;top:359px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:360px;left:93px;white-space:nowrap" class="ft03">Move with sign extension instructions MOVSX&#160;and MOVZX.</p>
<p style="position:absolute;top:382px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:382px;left:93px;white-space:nowrap" class="ft03">Long-displacement J<i>cc</i>&#160;instructions.</p>
<p style="position:absolute;top:404px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:405px;left:93px;white-space:nowrap" class="ft03">Exchange instructions CMPXCHG,&#160;CMPXCHG8B, and&#160;XADD.&#160;</p>
<p style="position:absolute;top:427px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:427px;left:93px;white-space:nowrap" class="ft03">String&#160;instructions MOVS,&#160;CMPS,&#160;SCAS,&#160;LODS,&#160;and&#160;STOS.&#160;</p>
<p style="position:absolute;top:449px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:450px;left:93px;white-space:nowrap" class="ft07">Bit test and&#160;bit&#160;scan&#160;instructions&#160;BT, BTS,&#160;BTR, BTC, BSF,&#160;and&#160;BSR;&#160;the&#160;byte-set-on condition&#160;instruction SET<i>c</i>c;&#160;<br/>and the&#160;byte swap (BSWAP) instruction.</p>
<p style="position:absolute;top:488px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:489px;left:93px;white-space:nowrap" class="ft03">Double shift instructions SHLD&#160;and SHRD.</p>
<p style="position:absolute;top:511px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:511px;left:93px;white-space:nowrap" class="ft03">EFLAGS&#160;control instructions PUSHF&#160;and POPF.</p>
<p style="position:absolute;top:533px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:534px;left:93px;white-space:nowrap" class="ft03">ENTER and LEAVE&#160;control instructions.</p>
<p style="position:absolute;top:556px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:556px;left:93px;white-space:nowrap" class="ft03">BOUND instruction.</p>
<p style="position:absolute;top:578px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:579px;left:93px;white-space:nowrap" class="ft03">CPU identification&#160;(CPUID) instruction.</p>
<p style="position:absolute;top:601px;left:68px;white-space:nowrap" class="ft02">•</p>
<p style="position:absolute;top:601px;left:93px;white-space:nowrap" class="ft07">System&#160;instructions&#160;CLTS,&#160;INVD, WINVD,&#160;INVLPG, LGDT, SGDT, LIDT,&#160;SIDT, LMSW, SMSW, RDMSR,&#160;WRMSR,&#160;<br/>RDTSC, and&#160;RDPMC.</p>
<p style="position:absolute;top:642px;left:68px;white-space:nowrap" class="ft07">Execution of any&#160;of the&#160;other IA-32&#160;architecture&#160;instructions (not&#160;given&#160;in the&#160;previous two lists)&#160;in real-address&#160;<br/>mode result&#160;in an invalid-opcode exception&#160;(#UD)&#160;being&#160;generated.</p>
<p style="position:absolute;top:709px;left:68px;white-space:nowrap" class="ft05">20.1.4&#160;</p>
<p style="position:absolute;top:709px;left:148px;white-space:nowrap" class="ft05">Interrupt&#160;and Exception Handling</p>
<p style="position:absolute;top:739px;left:68px;white-space:nowrap" class="ft08">When operating&#160;in real-address mode,&#160;software&#160;must provide&#160;interrupt and exception-handling&#160;facilities that&#160;are&#160;<br/>separate from those provided in protected mode.&#160;Even during the early stages of processor initialization when the&#160;<br/>processor&#160;is still in real-address&#160;mode,&#160;elementary real-address&#160;mode interrupt and&#160;exception-handling facilities&#160;<br/>must be&#160;provided&#160;to insure&#160;reliable operation of the&#160;processor,&#160;or&#160;the&#160;initialization&#160;code must insure&#160;that&#160;no inter-<br/>rupts or&#160;exceptions will occur.<br/>The IA-32 processors handle&#160;interrupts&#160;and exceptions&#160;in&#160;real-address mode similar to&#160;the way they&#160;handle them&#160;<br/>in protected mode. When a processor&#160;receives&#160;an&#160;interrupt&#160;or generates an exception, it uses the vector&#160;number of&#160;<br/>the interrupt&#160;or&#160;exception as an index into the&#160;interrupt&#160;table. (In protected mode, the interrupt table is&#160;called&#160;the&#160;<br/><b>interrupt descriptor table (IDT)</b>, but&#160;in real-address mode,&#160;the table is&#160;usually&#160;called the&#160;<b>interrupt vector&#160;<br/>table</b>, or simply&#160;the&#160;<b>interrupt table</b>.) The&#160;entry in the&#160;interrupt&#160;vector table&#160;provides a&#160;pointer to&#160;an interrupt- or&#160;<br/>exception-handler&#160;procedure.&#160;(The pointer consists&#160;of&#160;a segment selector for a&#160;code&#160;segment&#160;and a&#160;16-bit offset&#160;<br/>into the&#160;segment.) The processor performs the following&#160;actions to&#160;make an&#160;implicit call&#160;to the&#160;selected&#160;handler:<br/>1.&#160;Pushes&#160;the&#160;current&#160;values&#160;of the&#160;CS and&#160;EIP&#160;registers&#160;onto&#160;the stack. (Only&#160;the&#160;16&#160;least-significant bits of the&#160;</p>
<p style="position:absolute;top:969px;left:93px;white-space:nowrap" class="ft03">EIP register&#160;are pushed.)</p>
<p style="position:absolute;top:993px;left:68px;white-space:nowrap" class="ft08">2.&#160;Pushes&#160;the&#160;low-order 16 bits of the EFLAGS&#160;register onto the&#160;stack.<br/>3.&#160;Clears&#160;the&#160;IF&#160;flag in&#160;the EFLAGS&#160;register to&#160;disable interrupts.<br/>4.&#160;Clears&#160;the&#160;TF,&#160;RF,&#160;and&#160;AC flags,&#160;in&#160;the&#160;EFLAGS&#160;register.</p>
</div>
</body>
</html>
