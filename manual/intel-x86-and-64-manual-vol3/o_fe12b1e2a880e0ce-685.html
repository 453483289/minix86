<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 685</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:18px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page685-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce685.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:761px;white-space:nowrap" class="ft00">Vol. 3B&#160;18-49</p>
<p style="position:absolute;top:47px;left:672px;white-space:nowrap" class="ft01">PERFORMANCE MONITORING</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft07">The individual&#160;MSRs that provide uncore&#160;PMU interfaces&#160;are&#160;liste<a href="þÿ">d in Chapter&#160;35</a><a href="o_fe12b1e2a880e0ce-1406.html">, Table&#160;35-15 unde</a>r&#160;the general&#160;<br/>naming&#160;style&#160;of MSR_%box#%_PMON_%scope_function%,&#160;where&#160;%box#%&#160;designates the type&#160;of box and&#160;zero-<br/>based&#160;index if&#160;there are more&#160;the&#160;one&#160;box&#160;of the&#160;same&#160;type,&#160;%scope_function% follows&#160;the examples below:</p>
<p style="position:absolute;top:155px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:156px;left:95px;white-space:nowrap" class="ft07">Multi-counter enabling MSRs:&#160;MSR_U_PMON_GLOBAL_CTL,&#160;MSR_S0_PMON_BOX_CTL,&#160;<br/>MSR_C7_PMON_BOX_CTL,&#160;etc.</p>
<p style="position:absolute;top:194px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:195px;left:95px;white-space:nowrap" class="ft07">Multi-counter&#160;status MSRs: MSR_U_PMON_GLOBAL_STATUS,&#160;MSR_S0_PMON_BOX_STATUS,&#160;<br/>MSR_C7_PMON_BOX_STATUS,&#160;etc.</p>
<p style="position:absolute;top:233px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:234px;left:95px;white-space:nowrap" class="ft07">Multi-counter&#160;overflow&#160;control MSRs: MSR_U_PMON_GLOBAL_OVF_CTL,&#160;MSR_S0_PMON_BOX_OVF_CTL,&#160;<br/>MSR_C7_PMON_BOX_OVF_CTL, etc.</p>
<p style="position:absolute;top:272px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:273px;left:95px;white-space:nowrap" class="ft07">Performance&#160;counters MSRs:&#160;the scope is&#160;implicitly per counter,&#160;e.g.&#160;MSR_U_PMON_CTR,&#160;<br/>MSR_S0_PMON_CTR0, MSR_C7_PMON_CTR5, etc.</p>
<p style="position:absolute;top:311px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:312px;left:95px;white-space:nowrap" class="ft07">Event select MSRs:&#160;the scope is&#160;implicitly&#160;per counter, e.g.&#160;MSR_U_PMON_EVNT_SEL,&#160;<br/>MSR_S0_PMON_EVNT_SEL0,&#160;MSR_C7_PMON_EVNT_SEL5,&#160;etc</p>
<p style="position:absolute;top:350px;left:69px;white-space:nowrap" class="ft03">â€¢</p>
<p style="position:absolute;top:351px;left:95px;white-space:nowrap" class="ft02">Sub-control MSRs:&#160;the scope is&#160;implicitly per-box&#160;granularity,&#160;e.g.&#160;</p>
<p style="position:absolute;top:351px;left:543px;white-space:nowrap" class="ft02">MSR_M0_PMON_TIMESTAMP,&#160;</p>
<p style="position:absolute;top:367px;left:94px;white-space:nowrap" class="ft02">MSR_R0_PMON_IPERF0_P1,&#160;MSR_S1_PMON_MATCH.</p>
<p style="position:absolute;top:391px;left:69px;white-space:nowrap" class="ft07">Details of uncore&#160;PMU MSR&#160;bit field definitions&#160;can be&#160;found in&#160;a separate&#160;document â€œIntel&#160;Xeon&#160;Processor&#160;7500&#160;<br/>Series Uncore Performance Monitoring Guideâ€œ.</p>
<p style="position:absolute;top:458px;left:69px;white-space:nowrap" class="ft04">18.8.4&#160;</p>
<p style="position:absolute;top:458px;left:149px;white-space:nowrap" class="ft04">Performance Monitoring for Processors Based on Intel</p>
<p style="position:absolute;top:457px;left:581px;white-space:nowrap" class="ft01">Â®&#160;</p>
<p style="position:absolute;top:458px;left:598px;white-space:nowrap" class="ft04">Microarchitecture&#160;Code Name&#160;</p>
<p style="position:absolute;top:479px;left:149px;white-space:nowrap" class="ft04">Westmere</p>
<p style="position:absolute;top:510px;left:69px;white-space:nowrap" class="ft07">All&#160;of the performance&#160;monitoring&#160;programming&#160;interfaces&#160;(architectural and non-architectural core PMU facilities,&#160;<br/>and uncore&#160;PMU) descri<a href="o_fe12b1e2a880e0ce-670.html">bed in Section 18.8 al</a>so apply to processors&#160;based on Intel</p>
<p style="position:absolute;top:524px;left:622px;white-space:nowrap" class="ft05">Â®</p>
<p style="position:absolute;top:526px;left:633px;white-space:nowrap" class="ft02">&#160;microarchitecture code&#160;name&#160;</p>
<p style="position:absolute;top:543px;left:69px;white-space:nowrap" class="ft07">Westmere.&#160;<br/><a href="o_fe12b1e2a880e0ce-677.html">Table&#160;18-25</a>&#160;describes a&#160;non-architectural&#160;performance&#160;monitoring&#160;event (event code 0B7H)&#160;and associated&#160;<br/>MSR_OFFCORE_RSP_0 (address&#160;1A6H)&#160;in the&#160;core PMU.&#160;This&#160;event and&#160;a second functionally equivalent offcore&#160;<br/>response event&#160;using event code 0BBH and&#160;MSR_OFFCORE_RSP_1&#160;(address 1A7H) are&#160;supported in&#160;processors&#160;<br/>based on Intel microarchitecture&#160;code&#160;name Westmere. The&#160;event code and event mask definitions&#160;of&#160;Non-archi-<br/>tectural performance&#160;monitoring&#160;events are&#160;lis<a href="o_fe12b1e2a880e0ce-910.html">ted in Table 19-26</a>.&#160;<br/>The&#160;load latency&#160;facility is&#160;the&#160;same&#160;as described&#160;in&#160;<a href="o_fe12b1e2a880e0ce-675.html">Section 18.8.1.2,</a>&#160;but&#160;added&#160;enhancement&#160;to provide more&#160;<br/>information&#160;in the&#160;data&#160;source encoding field of&#160;each&#160;load latency record.&#160;The&#160;additional&#160;information relates to&#160;<br/>STLB_MISS&#160;and LO<a href="o_fe12b1e2a880e0ce-692.html">CK, see Table&#160;18-33.</a></p>
<p style="position:absolute;top:740px;left:69px;white-space:nowrap" class="ft04">18.8.5 Intel</p>
<p style="position:absolute;top:739px;left:186px;white-space:nowrap" class="ft01">Â®</p>
<p style="position:absolute;top:740px;left:199px;white-space:nowrap" class="ft04">&#160;Xeon</p>
<p style="position:absolute;top:739px;left:245px;white-space:nowrap" class="ft01">Â®</p>
<p style="position:absolute;top:740px;left:259px;white-space:nowrap" class="ft04">&#160;Processor E7&#160;Family Performance Monitoring Facility</p>
<p style="position:absolute;top:771px;left:69px;white-space:nowrap" class="ft02">The&#160;performance&#160;monitoring facility&#160;in&#160;the&#160;processor core&#160;of the&#160;Intel</p>
<p style="position:absolute;top:768px;left:534px;white-space:nowrap" class="ft05">Â®</p>
<p style="position:absolute;top:771px;left:545px;white-space:nowrap" class="ft02">&#160;Xeon</p>
<p style="position:absolute;top:768px;left:583px;white-space:nowrap" class="ft05">Â®</p>
<p style="position:absolute;top:771px;left:594px;white-space:nowrap" class="ft02">&#160;processor E7&#160;family is&#160;the&#160;same as&#160;</p>
<p style="position:absolute;top:787px;left:69px;white-space:nowrap" class="ft02">those supported&#160;in the&#160;Intel Xeon processor 5600&#160;series</p>
<p style="position:absolute;top:785px;left:446px;white-space:nowrap" class="ft05">3</p>
<p style="position:absolute;top:787px;left:453px;white-space:nowrap" class="ft02">.&#160;The uncore&#160;subsystem in the&#160;Intel&#160;Xeon processor E7&#160;</p>
<p style="position:absolute;top:804px;left:69px;white-space:nowrap" class="ft09">family&#160;is similar to&#160;those of the&#160;Intel&#160;Xeon processor 7500 series.&#160;The high&#160;level construction of the uncore sub-<br/>system is&#160;similar to that&#160;shown in&#160;<a href="o_fe12b1e2a880e0ce-684.html">Figure&#160;18-31, with&#160;</a>the additional&#160;capability&#160;that up&#160;to 10&#160;C-Box units&#160;are&#160;<br/>supported.&#160;<br/><a href="o_fe12b1e2a880e0ce-685.html">Table&#160;18-29 s</a>ummarizes the number MSRs&#160;for&#160;uncore PMU&#160;for&#160;each&#160;box.</p>
<p style="position:absolute;top:1038px;left:69px;white-space:nowrap" class="ft02">3.&#160;Exceptions&#160;are&#160;indicated&#160;for event code&#160;0FH in<a href="o_fe12b1e2a880e0ce-842.html">&#160;Table&#160;19-19</a>; and&#160;valid bits of data source&#160;encoding field of&#160;each load&#160;</p>
<p style="position:absolute;top:1055px;left:91px;white-space:nowrap" class="ft02">latency record&#160;is&#160;</p>
<p style="position:absolute;top:1054px;left:207px;white-space:nowrap" class="ft02">limited to&#160;bits 5:4 of&#160;<a href="o_fe12b1e2a880e0ce-692.html">Table&#160;18-33.</a></p>
<p style="position:absolute;top:902px;left:193px;white-space:nowrap" class="ft06">Table&#160;18-29.&#160;&#160;Uncore&#160;PMU&#160;MSR&#160;Summary&#160;for&#160;IntelÂ®&#160;XeonÂ®&#160;Processor&#160;E7&#160;Family</p>
<p style="position:absolute;top:943px;left:78px;white-space:nowrap" class="ft02">Box</p>
<p style="position:absolute;top:943px;left:165px;white-space:nowrap" class="ft02">#&#160;of&#160;Boxes</p>
<p style="position:absolute;top:943px;left:248px;white-space:nowrap" class="ft02">Counters&#160;per&#160;Box</p>
<p style="position:absolute;top:926px;left:409px;white-space:nowrap" class="ft02">Counter&#160;</p>
<p style="position:absolute;top:943px;left:409px;white-space:nowrap" class="ft02">Width</p>
<p style="position:absolute;top:926px;left:498px;white-space:nowrap" class="ft02">General&#160;</p>
<p style="position:absolute;top:943px;left:498px;white-space:nowrap" class="ft02">Purpose</p>
<p style="position:absolute;top:926px;left:587px;white-space:nowrap" class="ft02">Global&#160;</p>
<p style="position:absolute;top:943px;left:587px;white-space:nowrap" class="ft02">Enable Sub-control&#160;</p>
<p style="position:absolute;top:943px;left:749px;white-space:nowrap" class="ft02">MSRs</p>
<p style="position:absolute;top:967px;left:78px;white-space:nowrap" class="ft02">C-Box</p>
<p style="position:absolute;top:967px;left:165px;white-space:nowrap" class="ft02">10</p>
<p style="position:absolute;top:967px;left:249px;white-space:nowrap" class="ft02">6</p>
<p style="position:absolute;top:967px;left:409px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:967px;left:498px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:967px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:967px;left:677px;white-space:nowrap" class="ft02">None</p>
<p style="position:absolute;top:991px;left:78px;white-space:nowrap" class="ft02">S-Box</p>
<p style="position:absolute;top:991px;left:165px;white-space:nowrap" class="ft02">2</p>
<p style="position:absolute;top:991px;left:248px;white-space:nowrap" class="ft02">4</p>
<p style="position:absolute;top:991px;left:409px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:991px;left:498px;white-space:nowrap" class="ft02">Yes</p>
<p style="position:absolute;top:991px;left:587px;white-space:nowrap" class="ft02">per-box</p>
<p style="position:absolute;top:991px;left:677px;white-space:nowrap" class="ft02">Match/Mask</p>
</div>
</body>
</html>
