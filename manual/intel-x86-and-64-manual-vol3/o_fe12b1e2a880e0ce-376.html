<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 376</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:12px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page376-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_fe12b1e2a880e0ce376.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">10-14&#160;Vol. 3A</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">ADVANCED PROGRAMMABLE INTERRUPT CONTROLLER&#160;(APIC)</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft02"><b>Interrupt Input Pin Polarity</b></p>
<p style="position:absolute;top:117px;left:205px;white-space:nowrap" class="ft03">Specifies&#160;the polarity&#160;of the&#160;corresponding interrupt&#160;pin:&#160;(0) active&#160;high&#160;or (1)&#160;active&#160;low.&#160;</p>
<p style="position:absolute;top:138px;left:68px;white-space:nowrap" class="ft02"><b>Remote IRR Flag&#160;(Read Only)</b></p>
<p style="position:absolute;top:154px;left:205px;white-space:nowrap" class="ft07">For fixed mode, level-triggered interrupts; this&#160;flag is&#160;set when the&#160;local APIC accepts&#160;the&#160;<br/>interrupt for servicing and is reset when an EOI command&#160;is received from the&#160;processor.&#160;The&#160;<br/>meaning&#160;of&#160;this flag&#160;is undefined for edge-triggered interrupts and&#160;other delivery&#160;modes.&#160;</p>
<p style="position:absolute;top:208px;left:68px;white-space:nowrap" class="ft02"><b>Trigger Mode</b></p>
<p style="position:absolute;top:208px;left:206px;white-space:nowrap" class="ft03">Selects&#160;the&#160;trigger&#160;mode for the&#160;local LINT0&#160;and&#160;LINT1&#160;pins:&#160;(0)&#160;edge sensitive&#160;and (1) level&#160;</p>
<p style="position:absolute;top:225px;left:205px;white-space:nowrap" class="ft07">sensitive. This flag&#160;is only used when&#160;the&#160;delivery&#160;mode&#160;is Fixed.&#160;When the&#160;delivery mode&#160;is&#160;<br/>NMI,&#160;SMI,&#160;or INIT, the&#160;trigger mode&#160;is always&#160;edge&#160;sensitive. When&#160;the&#160;delivery&#160;mode is&#160;<br/>ExtINT, the&#160;trigger mode&#160;is always level&#160;sensitive.&#160;The&#160;timer and&#160;error interrupts&#160;are&#160;always&#160;<br/>treated&#160;as edge&#160;sensitive.&#160;</p>
<p style="position:absolute;top:295px;left:206px;white-space:nowrap" class="ft03">If the&#160;local APIC is&#160;not used&#160;in conjunction&#160;with an&#160;I/O APIC and&#160;fixed delivery&#160;mode is&#160;</p>
<p style="position:absolute;top:312px;left:205px;white-space:nowrap" class="ft07">selected;&#160;the Pentium 4,&#160;Intel Xeon,&#160;and P6 family processors will&#160;always&#160;use level-sensitive&#160;<br/>triggering, regardless&#160;if edge-sensitive&#160;triggering&#160;is selected.</p>
<p style="position:absolute;top:349px;left:206px;white-space:nowrap" class="ft03">Software&#160;should always set the&#160;trigger mode&#160;in the&#160;LVT LINT1&#160;register to&#160;0 (edge&#160;sensitive).&#160;</p>
<p style="position:absolute;top:366px;left:205px;white-space:nowrap" class="ft03">Level-sensitive interrupts are&#160;not supported for&#160;LINT1.</p>
<p style="position:absolute;top:387px;left:68px;white-space:nowrap" class="ft02"><b>Mask</b></p>
<p style="position:absolute;top:387px;left:206px;white-space:nowrap" class="ft03">Interrupt mask: (0)&#160;enables reception&#160;of&#160;the interrupt and&#160;(1)&#160;inhibits reception of&#160;the&#160;inter-</p>
<p style="position:absolute;top:403px;left:205px;white-space:nowrap" class="ft07">rupt.&#160;When the&#160;local APIC handles a performance-monitoring&#160;counters interrupt, it&#160;automati-<br/>cally sets the&#160;mask flag in the LVT performance counter register. This flag is set to 1 on reset.&#160;<br/>It&#160;can&#160;be cleared only by&#160;software.</p>
<p style="position:absolute;top:457px;left:68px;white-space:nowrap" class="ft02"><b>Timer Mode</b></p>
<p style="position:absolute;top:457px;left:206px;white-space:nowrap" class="ft09">Bits 18:17&#160;selects the&#160;timer mode&#160;(see<a href="o_fe12b1e2a880e0ce-378.html">&#160;Section 10.5.4):&#160;<br/></a>(00b) one-shot&#160;mode using&#160;a count-down value,<br/>(01b) periodic&#160;mode reloading&#160;a count-down&#160;value,<br/>(10b) TSC-Deadline&#160;mode&#160;using&#160;absolute&#160;target&#160;value in&#160;IA32_TSC_DEADLINE&#160;MSR&#160;(see&#160;</p>
<p style="position:absolute;top:537px;left:205px;white-space:nowrap" class="ft03"><a href="o_fe12b1e2a880e0ce-379.html">Section 10.5.4.1</a>),</p>
<p style="position:absolute;top:558px;left:206px;white-space:nowrap" class="ft03">(11b) is&#160;reserved.</p>
<p style="position:absolute;top:608px;left:68px;white-space:nowrap" class="ft04">10.5.2&#160;</p>
<p style="position:absolute;top:608px;left:148px;white-space:nowrap" class="ft04">Valid Interrupt Vectors</p>
<p style="position:absolute;top:639px;left:68px;white-space:nowrap" class="ft011">The Intel&#160;64&#160;and&#160;IA-32 architectures define 256 vector&#160;numbers, ranging&#160;from 0 through 255&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-187.html">Section&#160;6.2,&#160;<br/>“Exception and&#160;Interrupt&#160;Vectors”).</a>&#160;Local and&#160;I/O&#160;APICs&#160;support 240 of&#160;these&#160;vectors&#160;(in the range of&#160;16&#160;to 255)&#160;as&#160;<br/>valid interrupts.<br/>When an&#160;interrupt vector in&#160;the range&#160;of 0&#160;to 15 is&#160;sent or&#160;received&#160;through the&#160;local APIC,&#160;the APIC indicates an&#160;<br/>illegal vector in its Error&#160;Status&#160;Register&#160;(see&#160;<a href="o_fe12b1e2a880e0ce-376.html">Section&#160;10.5.3, “Error Handling”).&#160;</a>The&#160;Intel 64 and&#160;IA-32&#160;architec-<br/>tures reserve&#160;vectors 16 through&#160;31&#160;for predefined&#160;interrupts, exceptions, and Intel-reserved&#160;en<a href="o_fe12b1e2a880e0ce-188.html">codings (see Table&#160;<br/>6-1). Howe</a>ver,&#160;the local APIC&#160;does&#160;not treat&#160;vectors&#160;in this&#160;range&#160;as illegal.<br/>When an illegal vector value&#160;(0</p>
<p style="position:absolute;top:769px;left:275px;white-space:nowrap" class="ft05">&#160;</p>
<p style="position:absolute;top:769px;left:278px;white-space:nowrap" class="ft03">to&#160;15) is written to&#160;an LVT entry and the delivery mode is Fixed (bits 8-11</p>
<p style="position:absolute;top:769px;left:769px;white-space:nowrap" class="ft05">&#160;</p>
<p style="position:absolute;top:769px;left:772px;white-space:nowrap" class="ft03">equal 0),&#160;</p>
<p style="position:absolute;top:786px;left:68px;white-space:nowrap" class="ft07">the APIC&#160;may signal an illegal vector error,&#160;without regard&#160;to whether&#160;the&#160;mask bit is set or whether an interrupt&#160;is&#160;<br/>actually seen&#160;on the&#160;input.</p>
<p style="position:absolute;top:853px;left:68px;white-space:nowrap" class="ft04">10.5.3 Error&#160;</p>
<p style="position:absolute;top:853px;left:192px;white-space:nowrap" class="ft04">Handling</p>
<p style="position:absolute;top:883px;left:68px;white-space:nowrap" class="ft07">The&#160;local APIC records errors&#160;detected&#160;during interrupt handling&#160;in the&#160;error status&#160;register (ESR). The format of&#160;<br/>the ESR is&#160;given&#160;<a href="o_fe12b1e2a880e0ce-377.html">in Figure&#160;10-9;&#160;</a>it contains&#160;the&#160;following&#160;flags:</p>
<p style="position:absolute;top:922px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:922px;left:93px;white-space:nowrap" class="ft07">Bit&#160;0: Send&#160;Checksum Error.<br/>Set when&#160;the local APIC detects a checksum&#160;error for a message&#160;that&#160;it&#160;sent&#160;on&#160;the&#160;APIC&#160;bus.&#160;Used&#160;only&#160;on&#160;P6&#160;<br/>family and Pentium&#160;processors.</p>
<p style="position:absolute;top:977px;left:68px;white-space:nowrap" class="ft06">•</p>
<p style="position:absolute;top:978px;left:93px;white-space:nowrap" class="ft07">Bit&#160;1: Receive&#160;Checksum Error.<br/>Set when the&#160;local APIC&#160;detects a&#160;checksum error&#160;for&#160;a message&#160;that&#160;it received&#160;on the APIC bus.&#160;Used&#160;only&#160;on&#160;<br/>P6 family and&#160;Pentium&#160;processors.</p>
</div>
</body>
</html>
