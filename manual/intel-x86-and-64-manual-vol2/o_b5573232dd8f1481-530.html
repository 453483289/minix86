<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 530</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page530-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481530.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:477px;white-space:nowrap" class="ft00">FUCOM/FUCOMP/FUCOMPP—Unordered&#160;Compare Floating Point Values</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-402&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">FUCOM/FUCOMP/FUCOMPP—Unordered Compare Floating Point Values</p>
<p style="position:absolute;top:309px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:334px;left:68px;white-space:nowrap" class="ft05">Performs an unordered comparison of&#160;the&#160;contents of register&#160;ST(0)&#160;and ST(i)&#160;and&#160;sets&#160;condition&#160;code&#160;flags C0,&#160;C2,&#160;<br/>and&#160;C3 in&#160;the FPU&#160;status word according to&#160;the results&#160;(see the&#160;table&#160;below).&#160;If no operand&#160;is specified, the&#160;<br/>contents of registers&#160;ST(0) and&#160;ST(1)&#160;are compared.&#160;The&#160;sign of zero&#160;is&#160;ignored,&#160;so that&#160;–0.0 is&#160;equal&#160;to&#160;+0.0.</p>
<p style="position:absolute;top:580px;left:68px;white-space:nowrap" class="ft07">An unordered comparison&#160;checks&#160;the&#160;class of the&#160;numbers&#160;<a href="o_b5573232dd8f1481-533.html">being compared (see “FXAM—Examine Floating-Point”&#160;<br/></a>in&#160;this chapter).&#160;The FUCOM/FUCOMP/FUCOMPP instructions perform&#160;the same&#160;operations as&#160;the&#160;<br/>FCOM/FCOMP/FCOMPP&#160;instructions. The only difference&#160;is that&#160;the FUCOM/FUCOMP/FUCOMPP instructions raise&#160;<br/>the invalid-arithmetic-operand&#160;exception (#IA)&#160;only when either&#160;or both operands are an SNaN or are&#160;in an unsup-<br/>ported format; QNaNs&#160;cause&#160;the&#160;condition code&#160;flags&#160;to be set to&#160;unordered, but&#160;do&#160;not&#160;cause an&#160;exception to be&#160;<br/>generated. The&#160;FCOM/FCOMP/FCOMPP&#160;instructions raise an invalid-operation exception when&#160;either or both&#160;of the&#160;<br/>operands are a&#160;NaN value of&#160;any kind or&#160;are in&#160;an unsupported format.<br/>As with&#160;the FCOM/FCOMP/FCOMPP instructions, if the operation results&#160;in&#160;an invalid-arithmetic-operand&#160;exception&#160;<br/>being raised, the&#160;condition code&#160;flags&#160;are set only if the&#160;exception is&#160;masked.<br/>The&#160;FUCOMP instruction pops the&#160;register&#160;stack following&#160;the&#160;comparison operation and&#160;the FUCOMPP&#160;instruction&#160;<br/>pops the&#160;register stack&#160;twice following&#160;the comparison&#160;operation.&#160;To&#160;pop&#160;the&#160;register stack,&#160;the&#160;processor&#160;marks&#160;<br/>the&#160;ST(0) register&#160;as empty and&#160;increments the&#160;stack pointer&#160;(TOP) by 1.<br/>This&#160;instruction’s operation is&#160;the&#160;same in non-64-bit modes and&#160;64-bit mode.</p>
<p style="position:absolute;top:128px;left:73px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:128px;left:196px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:128px;left:344px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:144px;left:344px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:128px;left:416px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:144px;left:416px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:128px;left:495px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:166px;left:73px;white-space:nowrap" class="ft04">DD E0+i</p>
<p style="position:absolute;top:166px;left:196px;white-space:nowrap" class="ft04">FUCOM ST(i)</p>
<p style="position:absolute;top:166px;left:344px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:416px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:495px;white-space:nowrap" class="ft04">Compare&#160;ST(0) with ST(i).</p>
<p style="position:absolute;top:189px;left:73px;white-space:nowrap" class="ft04">DD E1</p>
<p style="position:absolute;top:189px;left:196px;white-space:nowrap" class="ft04">FUCOM</p>
<p style="position:absolute;top:189px;left:344px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:189px;left:416px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:189px;left:495px;white-space:nowrap" class="ft04">Compare&#160;ST(0) with ST(1).</p>
<p style="position:absolute;top:211px;left:73px;white-space:nowrap" class="ft04">DD E8+i</p>
<p style="position:absolute;top:211px;left:196px;white-space:nowrap" class="ft04">FUCOMP ST(i)</p>
<p style="position:absolute;top:211px;left:344px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:211px;left:416px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:211px;left:495px;white-space:nowrap" class="ft04">Compare&#160;ST(0) with ST(i) and pop register&#160;stack.</p>
<p style="position:absolute;top:234px;left:73px;white-space:nowrap" class="ft04">DD E9</p>
<p style="position:absolute;top:234px;left:196px;white-space:nowrap" class="ft04">FUCOMP</p>
<p style="position:absolute;top:234px;left:344px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:234px;left:416px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:234px;left:495px;white-space:nowrap" class="ft04">Compare&#160;ST(0) with ST(1) and&#160;pop register&#160;stack.</p>
<p style="position:absolute;top:256px;left:73px;white-space:nowrap" class="ft04">DA E9</p>
<p style="position:absolute;top:256px;left:196px;white-space:nowrap" class="ft04">FUCOMPP</p>
<p style="position:absolute;top:256px;left:344px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:256px;left:416px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:256px;left:495px;white-space:nowrap" class="ft04">Compare&#160;ST(0) with ST(1) and&#160;pop register&#160;stack twice.</p>
<p style="position:absolute;top:390px;left:292px;white-space:nowrap" class="ft03">Table 3-41.&#160;&#160;FUCOM/FUCOMP/FUCOMPP&#160;Results</p>
<p style="position:absolute;top:412px;left:191px;white-space:nowrap" class="ft04">Comparison Results*</p>
<p style="position:absolute;top:412px;left:501px;white-space:nowrap" class="ft04">C3</p>
<p style="position:absolute;top:412px;left:634px;white-space:nowrap" class="ft04">C2</p>
<p style="position:absolute;top:412px;left:763px;white-space:nowrap" class="ft04">C0</p>
<p style="position:absolute;top:436px;left:220px;white-space:nowrap" class="ft04">ST0&#160;</p>
<p style="position:absolute;top:436px;left:248px;white-space:nowrap" class="ft04">&gt;&#160;ST(i)</p>
<p style="position:absolute;top:436px;left:505px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:436px;left:638px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:436px;left:767px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:459px;left:220px;white-space:nowrap" class="ft04">ST0&#160;</p>
<p style="position:absolute;top:458px;left:248px;white-space:nowrap" class="ft04">&lt;&#160;ST(i)</p>
<p style="position:absolute;top:459px;left:505px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:459px;left:638px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:459px;left:767px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:481px;left:220px;white-space:nowrap" class="ft04">ST0&#160;</p>
<p style="position:absolute;top:481px;left:248px;white-space:nowrap" class="ft04">=&#160;ST(i)</p>
<p style="position:absolute;top:481px;left:505px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:481px;left:638px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:481px;left:767px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:504px;left:222px;white-space:nowrap" class="ft04">Unordered</p>
<p style="position:absolute;top:504px;left:505px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:504px;left:638px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:504px;left:767px;white-space:nowrap" class="ft04">1</p>
<p style="position:absolute;top:525px;left:74px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:544px;left:74px;white-space:nowrap" class="ft04">*&#160;Flags not set if&#160;unmasked&#160;invalid-arithmetic-operand&#160;(#IA) exception is&#160;generated.</p>
</div>
</body>
</html>
