<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 2033</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page2033-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14812033.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 2D&#160;A-17</p>
<p style="position:absolute;top:47px;left:761px;white-space:nowrap" class="ft01">OPCODE&#160;MAP</p>
<p style="position:absolute;top:97px;left:69px;white-space:nowrap" class="ft02">A.4&#160;</p>
<p style="position:absolute;top:97px;left:148px;white-space:nowrap" class="ft02">OPCODE EXTENSIONS FOR ONE-BYTE AND TWO-BYTE OPCODES</p>
<p style="position:absolute;top:133px;left:69px;white-space:nowrap" class="ft07">Some 1-byte and 2-byte opcodes&#160;use bits&#160;3-5&#160;of the ModR/M&#160;byte (the nn<a href="o_b5573232dd8f1481-2033.html">n field in Figure&#160;A-1) as an</a>&#160;extension of&#160;<br/>the opcode.</p>
<p style="position:absolute;top:259px;left:69px;white-space:nowrap" class="ft07">Opcodes that have&#160;opcode extensions&#160;are indicated&#160;<a href="o_b5573232dd8f1481-2034.html">in Table A-6&#160;</a>and organized by group number. Group numbers&#160;<br/>(from 1 to 16, second column) provide&#160;a table entry point. The encoding&#160;for the r/m field&#160;for each&#160;instruction&#160;can&#160;<br/>be established using the third column&#160;of the table.</p>
<p style="position:absolute;top:343px;left:69px;white-space:nowrap" class="ft04">A.4.1 &#160;</p>
<p style="position:absolute;top:343px;left:150px;white-space:nowrap" class="ft04">Opcode Look-up Examples Using Opcode Extensions</p>
<p style="position:absolute;top:373px;left:69px;white-space:nowrap" class="ft03">An Example is&#160;provided below.</p>
<p style="position:absolute;top:414px;left:69px;white-space:nowrap" class="ft01">Example A-4. &#160;Interpreting&#160;an ADD&#160;Instruction</p>
<p style="position:absolute;top:439px;left:69px;white-space:nowrap" class="ft03">An&#160;ADD instruction with a&#160;1-byte&#160;opcode&#160;of&#160;80H is&#160;a Group 1&#160;instruction:</p>
<p style="position:absolute;top:460px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:461px;left:95px;white-space:nowrap" class="ft03"><a href="o_b5573232dd8f1481-2034.html">Table&#160;A-6 ind</a>icates that&#160;the opcode extension&#160;field&#160;encoded in the&#160;ModR/M byte&#160;for&#160;this instruction is&#160;000B.&#160;</p>
<p style="position:absolute;top:483px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:484px;left:95px;white-space:nowrap" class="ft07">The&#160;r/m field can be encoded&#160;to access a&#160;register&#160;(11B)&#160;or a&#160;memory address&#160;using a&#160;specified addressing&#160;<br/>mode (for example: mem&#160;=&#160;00B,&#160;01B, 10B).</p>
<p style="position:absolute;top:541px;left:69px;white-space:nowrap" class="ft01">Example A-5. &#160;Looking Up&#160;0F01C3H</p>
<p style="position:absolute;top:565px;left:69px;white-space:nowrap" class="ft03">Look up&#160;opcode&#160;0F01C3 for a&#160;VMRESUME&#160;instruction&#160;by using&#160;<a href="o_b5573232dd8f1481-2023.html">Table A-2</a>,&#160;<a href="o_b5573232dd8f1481-2025.html">Table A-3</a>&#160;and&#160;<a href="o_b5573232dd8f1481-2034.html">Table&#160;A-6:</a></p>
<p style="position:absolute;top:587px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:588px;left:95px;white-space:nowrap" class="ft03">0F&#160;tells&#160;us that&#160;this&#160;instruction&#160;is in&#160;the 2-byte&#160;opcode map.</p>
<p style="position:absolute;top:610px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:610px;left:95px;white-space:nowrap" class="ft03">01&#160;(row 0,&#160;column 1&#160;<a href="o_b5573232dd8f1481-2025.html">in Table&#160;A-3)&#160;</a>reveals that this&#160;opcode&#160;is&#160;in&#160;Group&#160;<a href="o_b5573232dd8f1481-2034.html">7 of Table A-6.</a></p>
<p style="position:absolute;top:632px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:633px;left:95px;white-space:nowrap" class="ft07">C3 is&#160;the ModR/M byte. The first two bits of C3&#160;are 11B.&#160;This tells us&#160;to&#160;look&#160;at&#160;the&#160;second of the&#160;Group 7&#160;rows&#160;<br/><a href="o_b5573232dd8f1481-2034.html">in Table A-6.</a></p>
<p style="position:absolute;top:671px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:672px;left:95px;white-space:nowrap" class="ft03">The&#160;Op/Reg bits [5,4,3]&#160;are 000B.&#160;This&#160;tells&#160;us&#160;to look in the&#160;000&#160;column for Group&#160;7.</p>
<p style="position:absolute;top:694px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:694px;left:95px;white-space:nowrap" class="ft03">Finally,&#160;the&#160;R/M bits [2,1,0]&#160;are 011B.&#160;This&#160;identifies&#160;the&#160;opcode&#160;as the&#160;VMRESUME instruction.</p>
<p style="position:absolute;top:770px;left:69px;white-space:nowrap" class="ft04">A.4.2 &#160;</p>
<p style="position:absolute;top:770px;left:150px;white-space:nowrap" class="ft04">Opcode Extension Tables</p>
<p style="position:absolute;top:801px;left:69px;white-space:nowrap" class="ft03">Se<a href="o_b5573232dd8f1481-2034.html">e Table&#160;A-6&#160;</a>below.</p>
<p style="position:absolute;top:191px;left:184px;white-space:nowrap" class="ft03">mod</p>
<p style="position:absolute;top:191px;left:441px;white-space:nowrap" class="ft03">nnn</p>
<p style="position:absolute;top:191px;left:698px;white-space:nowrap" class="ft03">R/M</p>
<p style="position:absolute;top:223px;left:277px;white-space:nowrap" class="ft06">Figure&#160;A-1.&#160; ModR/M&#160;Byte&#160;nnn&#160;Field (Bits&#160;5,&#160;4,&#160;and&#160;3)</p>
</div>
</body>
</html>
