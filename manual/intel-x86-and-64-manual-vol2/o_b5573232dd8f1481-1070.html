<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1070</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:17px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1070-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811070.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:585px;white-space:nowrap" class="ft00">POPA/POPAD—Pop All&#160;General-Purpose Registers</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, M-U</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-390&#160;Vol. 2B</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">POPA/POPAD—Pop All General-Purpose Registers</p>
<p style="position:absolute;top:239px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:326px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:352px;left:68px;white-space:nowrap" class="ft07">Pops doublewords (POPAD)&#160;or words (POPA) from the&#160;stack into&#160;the general-purpose registers. The registers&#160;are&#160;<br/>loaded in&#160;the following order:&#160;EDI, ESI, EBP,&#160;EBX,&#160;EDX,&#160;ECX,&#160;and EAX (if&#160;the operand-size&#160;attribute&#160;is 32) and&#160;DI,&#160;<br/>SI,&#160;BP, BX, DX,&#160;CX,&#160;and&#160;AX&#160;(if the&#160;operand-size attribute is&#160;16).&#160;(These&#160;instructions reverse&#160;the operation of&#160;the&#160;<br/>PUSHA/PUSHAD&#160;instructions.)&#160;The&#160;value&#160;on&#160;the stack for the&#160;ESP or&#160;SP&#160;register&#160;is ignored.&#160;Instead,&#160;the ESP or SP&#160;<br/>register&#160;is incremented after&#160;each register&#160;is loaded.<br/>The POPA&#160;(pop all)&#160;and POPAD&#160;(pop&#160;all double) mnemonics reference the same&#160;opcode. The POPA&#160;instruction is&#160;<br/>intended&#160;for&#160;use when&#160;the&#160;operand-size attribute is&#160;16&#160;and the&#160;POPAD instruction for when the&#160;operand-size&#160;attri-<br/>bute is&#160;32. Some assemblers may&#160;force&#160;the operand&#160;size&#160;to&#160;16&#160;when&#160;POPA&#160;is&#160;used&#160;and&#160;to&#160;32&#160;when&#160;POPAD&#160;is&#160;used&#160;<br/>(using the&#160;operand-size override&#160;prefix [66H] if necessary). Others&#160;may&#160;treat these&#160;mnemonics as&#160;synonyms&#160;<br/>(POPA/POPAD) and&#160;use the&#160;current setting of the&#160;operand-size&#160;attribute to determine&#160;the size&#160;of&#160;values to&#160;be&#160;<br/>popped from the&#160;stack,&#160;regardless of the&#160;mnemonic&#160;used.&#160;(The&#160;D&#160;flag in the&#160;current code segment’s segment&#160;<br/>descriptor determines the&#160;operand-size&#160;attribute.)<br/>This instruction&#160;executes&#160;as described&#160;in&#160;non-64-bit modes. It&#160;is not&#160;valid in&#160;64-bit&#160;mode.</p>
<p style="position:absolute;top:602px;left:68px;white-space:nowrap" class="ft03">Operation</p>
<p style="position:absolute;top:628px;left:68px;white-space:nowrap" class="ft04">IF&#160;64-Bit Mode</p>
<p style="position:absolute;top:645px;left:88px;white-space:nowrap" class="ft04">THEN</p>
<p style="position:absolute;top:661px;left:115px;white-space:nowrap" class="ft04">#UD;</p>
<p style="position:absolute;top:678px;left:68px;white-space:nowrap" class="ft04">ELSE</p>
<p style="position:absolute;top:694px;left:88px;white-space:nowrap" class="ft04">IF&#160;OperandSize&#160;</p>
<p style="position:absolute;top:694px;left:177px;white-space:nowrap" class="ft05">=</p>
<p style="position:absolute;top:694px;left:185px;white-space:nowrap" class="ft04">&#160;32 (* Instruction&#160;</p>
<p style="position:absolute;top:694px;left:285px;white-space:nowrap" class="ft05">=&#160;</p>
<p style="position:absolute;top:694px;left:297px;white-space:nowrap" class="ft04">POPAD *)</p>
<p style="position:absolute;top:712px;left:88px;white-space:nowrap" class="ft04">THEN</p>
<p style="position:absolute;top:730px;left:115px;white-space:nowrap" class="ft04">EDI&#160;←&#160;Pop();</p>
<p style="position:absolute;top:748px;left:115px;white-space:nowrap" class="ft04">ESI&#160;←&#160;Pop();</p>
<p style="position:absolute;top:766px;left:115px;white-space:nowrap" class="ft04">EBP&#160;←&#160;Pop();</p>
<p style="position:absolute;top:784px;left:115px;white-space:nowrap" class="ft08">Increment ESP by 4;&#160;(* Skip&#160;next 4 bytes of&#160;stack *)<br/>EBX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:820px;left:115px;white-space:nowrap" class="ft04">EDX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:838px;left:115px;white-space:nowrap" class="ft04">ECX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:856px;left:115px;white-space:nowrap" class="ft04">EAX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:874px;left:88px;white-space:nowrap" class="ft04">ELSE&#160;(* OperandSize&#160;</p>
<p style="position:absolute;top:874px;left:208px;white-space:nowrap" class="ft05">=</p>
<p style="position:absolute;top:874px;left:216px;white-space:nowrap" class="ft04">&#160;16,&#160;instruction&#160;</p>
<p style="position:absolute;top:874px;left:306px;white-space:nowrap" class="ft05">=</p>
<p style="position:absolute;top:874px;left:314px;white-space:nowrap" class="ft04">&#160;POPA&#160;*)</p>
<p style="position:absolute;top:892px;left:115px;white-space:nowrap" class="ft04">DI&#160;←&#160;Pop();</p>
<p style="position:absolute;top:910px;left:115px;white-space:nowrap" class="ft04">SI&#160;←&#160;Pop();</p>
<p style="position:absolute;top:928px;left:115px;white-space:nowrap" class="ft04">BP&#160;←&#160;Pop();</p>
<p style="position:absolute;top:946px;left:115px;white-space:nowrap" class="ft08">Increment ESP by 2;&#160;(* Skip&#160;next 2 bytes of&#160;stack *)<br/>BX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:982px;left:115px;white-space:nowrap" class="ft04">DX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:1000px;left:115px;white-space:nowrap" class="ft04">CX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:1018px;left:115px;white-space:nowrap" class="ft04">AX&#160;←&#160;Pop();</p>
<p style="position:absolute;top:1036px;left:88px;white-space:nowrap" class="ft04">FI;</p>
<p style="position:absolute;top:1054px;left:68px;white-space:nowrap" class="ft04">FI;</p>
<p style="position:absolute;top:123px;left:73px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:123px;left:220px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:387px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:387px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:424px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:424px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:496px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:496px;white-space:nowrap" class="ft04">Leg Mode</p>
<p style="position:absolute;top:123px;left:566px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:73px;white-space:nowrap" class="ft04">61</p>
<p style="position:absolute;top:160px;left:220px;white-space:nowrap" class="ft04">POPA</p>
<p style="position:absolute;top:160px;left:387px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:160px;left:424px;white-space:nowrap" class="ft04">Invalid</p>
<p style="position:absolute;top:160px;left:496px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:566px;white-space:nowrap" class="ft04">Pop DI, SI, BP, BX,&#160;DX,&#160;CX,&#160;and AX.</p>
<p style="position:absolute;top:182px;left:73px;white-space:nowrap" class="ft04">61</p>
<p style="position:absolute;top:182px;left:220px;white-space:nowrap" class="ft04">POPAD</p>
<p style="position:absolute;top:182px;left:387px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:182px;left:424px;white-space:nowrap" class="ft04">Invalid</p>
<p style="position:absolute;top:182px;left:496px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:182px;left:566px;white-space:nowrap" class="ft04">Pop&#160;EDI, ESI, EBP,&#160;EBX, EDX, ECX, and&#160;EAX.</p>
<p style="position:absolute;top:262px;left:84px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:262px;left:192px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:262px;left:366px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:262px;left:540px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:262px;left:717px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:286px;left:94px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:286px;left:213px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:286px;left:387px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:286px;left:561px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:286px;left:738px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
