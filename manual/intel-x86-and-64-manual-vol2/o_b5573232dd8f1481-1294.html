<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1294</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:17px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1294-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811294.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:657px;white-space:nowrap" class="ft00">SHRD—Double Precision&#160;Shift&#160;Right</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, M-U</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-614&#160;Vol. 2B</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">SHRD—Double Precision Shift Right</p>
<p style="position:absolute;top:428px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:539px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:565px;left:68px;white-space:nowrap" class="ft08">The&#160;SHRD&#160;instruction&#160;is useful for&#160;multi-precision shifts of 64&#160;bits or&#160;more.<br/>The instruction shifts the&#160;first operand&#160;(destination&#160;operand)&#160;to&#160;the right&#160;the&#160;number of bits&#160;specified&#160;by&#160;the third&#160;<br/>operand&#160;(count operand).&#160;The second operand&#160;(source operand)&#160;provides bits to&#160;shift in&#160;from&#160;the&#160;left&#160;(starting with&#160;<br/>the most&#160;significant bit&#160;of the&#160;destination operand).&#160;<br/>The&#160;destination operand&#160;can be a&#160;register&#160;or&#160;a memory&#160;location; the&#160;source&#160;operand&#160;is a&#160;register. The&#160;count&#160;<br/>operand&#160;is an&#160;unsigned&#160;integer&#160;that can be stored in&#160;an immediate byte&#160;or&#160;the CL&#160;register. If&#160;the count operand&#160;is&#160;<br/>CL, the&#160;shift count is&#160;the logical AND&#160;of&#160;CL and&#160;a count mask.&#160;In non-64-bit modes&#160;and default&#160;64-bit mode, the&#160;<br/>width of the count mask is&#160;5 bits.&#160;Only bits 0&#160;through&#160;4 of&#160;the&#160;count&#160;register&#160;are&#160;used (masking the&#160;count to a&#160;value&#160;<br/>between&#160;0 and&#160;31). If&#160;the count is&#160;greater&#160;than the&#160;operand&#160;size,&#160;the&#160;result&#160;is&#160;undefined.<br/>If&#160;the count is&#160;1&#160;or&#160;greater,&#160;the CF flag&#160;is filled with the&#160;last bit shifted&#160;out&#160;of&#160;the&#160;destination operand. For&#160;a 1-bit&#160;<br/>shift,&#160;the&#160;OF&#160;flag is&#160;set if&#160;a sign&#160;change&#160;occurred; otherwise,&#160;it&#160;is cleared.&#160;If&#160;the&#160;count operand&#160;is 0,&#160;flags are&#160;not&#160;<br/>affected.<br/>In 64-bit&#160;mode,&#160;the instruction’s&#160;default operation size&#160;is&#160;32 bits.&#160;Using&#160;a REX prefix&#160;in&#160;the&#160;form&#160;of REX.R permits&#160;<br/>access to&#160;additional&#160;registers (R8-R15). Using&#160;a REX&#160;prefix&#160;in&#160;the form of&#160;REX.W&#160;promotes operation&#160;to&#160;64&#160;bits&#160;<br/>(upgrading the count mask to 6 bits). See the summary&#160;chart&#160;at&#160;the&#160;beginning of&#160;this section&#160;for encoding data and&#160;<br/>limits.</p>
<p style="position:absolute;top:880px;left:68px;white-space:nowrap" class="ft03">Operation</p>
<p style="position:absolute;top:906px;left:68px;white-space:nowrap" class="ft04">IF&#160;(In&#160;64-Bit&#160;Mode&#160;and REX.W&#160;= 1)&#160;</p>
<p style="position:absolute;top:924px;left:88px;white-space:nowrap" class="ft04">THEN COUNT&#160;←&#160;COUNT MOD 64;</p>
<p style="position:absolute;top:942px;left:88px;white-space:nowrap" class="ft04">ELSE COUNT&#160;←&#160;COUNT MOD 32;</p>
<p style="position:absolute;top:960px;left:68px;white-space:nowrap" class="ft010">FI<br/>SIZE&#160;←&#160;OperandSize;</p>
<p style="position:absolute;top:996px;left:68px;white-space:nowrap" class="ft04">IF&#160;COUNT</p>
<p style="position:absolute;top:994px;left:122px;white-space:nowrap" class="ft05">&#160;=&#160;</p>
<p style="position:absolute;top:996px;left:138px;white-space:nowrap" class="ft04">0</p>
<p style="position:absolute;top:1014px;left:88px;white-space:nowrap" class="ft04">THEN&#160;</p>
<p style="position:absolute;top:1032px;left:115px;white-space:nowrap" class="ft04">No&#160;operation;</p>
<p style="position:absolute;top:1050px;left:88px;white-space:nowrap" class="ft04">ELSE</p>
<p style="position:absolute;top:123px;left:74px;white-space:nowrap" class="ft04">Opcode*</p>
<p style="position:absolute;top:123px;left:221px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:388px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:388px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:425px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:425px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:498px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:498px;white-space:nowrap" class="ft04">Leg Mode</p>
<p style="position:absolute;top:123px;left:568px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:74px;white-space:nowrap" class="ft04">0F AC&#160;/r ib</p>
<p style="position:absolute;top:160px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m16, r16, imm8</i></p>
<p style="position:absolute;top:160px;left:388px;white-space:nowrap" class="ft04">MRI&#160;Valid&#160;Valid</p>
<p style="position:absolute;top:160px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m16</i>&#160;to&#160;right&#160;<i>imm8</i>&#160;places&#160;while&#160;</p>
<p style="position:absolute;top:177px;left:568px;white-space:nowrap" class="ft04">shifting bits from&#160;<i>r16</i>&#160;in from the left.</p>
<p style="position:absolute;top:199px;left:74px;white-space:nowrap" class="ft04">0F&#160;AD&#160;/r</p>
<p style="position:absolute;top:199px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m16, r16</i>, CL</p>
<p style="position:absolute;top:199px;left:388px;white-space:nowrap" class="ft04">MRC&#160;Valid&#160;</p>
<p style="position:absolute;top:199px;left:498px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:199px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m16</i>&#160;to&#160;right CL&#160;places&#160;while shifting&#160;</p>
<p style="position:absolute;top:215px;left:568px;white-space:nowrap" class="ft04">bits&#160;from&#160;<i>r16</i>&#160;in&#160;from the left.</p>
<p style="position:absolute;top:238px;left:74px;white-space:nowrap" class="ft04">0F AC&#160;/r ib</p>
<p style="position:absolute;top:238px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m32, r32, imm8</i></p>
<p style="position:absolute;top:238px;left:388px;white-space:nowrap" class="ft04">MRI&#160;Valid&#160;Valid</p>
<p style="position:absolute;top:238px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m32</i>&#160;to&#160;right&#160;<i>imm8</i>&#160;places&#160;while&#160;</p>
<p style="position:absolute;top:254px;left:568px;white-space:nowrap" class="ft04">shifting bits from&#160;<i>r32</i>&#160;in from the left.</p>
<p style="position:absolute;top:277px;left:74px;white-space:nowrap" class="ft04">REX.W + 0F AC&#160;/r ib</p>
<p style="position:absolute;top:277px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m64, r64, imm8</i></p>
<p style="position:absolute;top:277px;left:388px;white-space:nowrap" class="ft04">MRI&#160;Valid</p>
<p style="position:absolute;top:277px;left:498px;white-space:nowrap" class="ft04">N.E.</p>
<p style="position:absolute;top:277px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m64</i>&#160;to&#160;right&#160;<i>imm8</i>&#160;places&#160;while&#160;</p>
<p style="position:absolute;top:294px;left:568px;white-space:nowrap" class="ft04">shifting bits from&#160;<i>r64</i>&#160;in from the left.</p>
<p style="position:absolute;top:316px;left:74px;white-space:nowrap" class="ft04">0F&#160;AD&#160;/r</p>
<p style="position:absolute;top:316px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m32, r32</i>, CL</p>
<p style="position:absolute;top:316px;left:388px;white-space:nowrap" class="ft04">MRC&#160;Valid&#160;</p>
<p style="position:absolute;top:316px;left:498px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:316px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m32</i>&#160;to&#160;right CL&#160;places&#160;while shifting&#160;</p>
<p style="position:absolute;top:333px;left:568px;white-space:nowrap" class="ft04">bits&#160;from&#160;<i>r32</i>&#160;in&#160;from the left.</p>
<p style="position:absolute;top:355px;left:74px;white-space:nowrap" class="ft04">REX.W +&#160;0F&#160;AD&#160;/r</p>
<p style="position:absolute;top:355px;left:221px;white-space:nowrap" class="ft04">SHRD&#160;<i>r/m64, r64</i>, CL</p>
<p style="position:absolute;top:355px;left:388px;white-space:nowrap" class="ft04">MRC&#160;Valid&#160;</p>
<p style="position:absolute;top:355px;left:498px;white-space:nowrap" class="ft04">N.E.</p>
<p style="position:absolute;top:355px;left:568px;white-space:nowrap" class="ft04">Shift<i>&#160;r/m64</i>&#160;to&#160;right CL&#160;places&#160;while shifting&#160;</p>
<p style="position:absolute;top:371px;left:568px;white-space:nowrap" class="ft04">bits&#160;from&#160;<i>r64</i>&#160;in&#160;from the left.</p>
<p style="position:absolute;top:451px;left:85px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:451px;left:191px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:451px;left:363px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:451px;left:537px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:451px;left:715px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:475px;left:92px;white-space:nowrap" class="ft04">MRI</p>
<p style="position:absolute;top:475px;left:178px;white-space:nowrap" class="ft04">ModRM:r/m&#160;(w)</p>
<p style="position:absolute;top:475px;left:353px;white-space:nowrap" class="ft04">ModRM:reg (r)</p>
<p style="position:absolute;top:475px;left:551px;white-space:nowrap" class="ft04">imm8</p>
<p style="position:absolute;top:475px;left:736px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:499px;left:90px;white-space:nowrap" class="ft04">MRC</p>
<p style="position:absolute;top:499px;left:178px;white-space:nowrap" class="ft04">ModRM:r/m&#160;(w)</p>
<p style="position:absolute;top:499px;left:353px;white-space:nowrap" class="ft04">ModRM:reg (r)</p>
<p style="position:absolute;top:499px;left:560px;white-space:nowrap" class="ft04">CL</p>
<p style="position:absolute;top:499px;left:736px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
