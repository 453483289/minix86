<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 496</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:19px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page496-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481496.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:695px;white-space:nowrap" class="ft00">FPREM1—Partial Remainder</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-368&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">FPREM1—Partial Remainder</p>
<p style="position:absolute;top:236px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:261px;left:68px;white-space:nowrap" class="ft07">Computes&#160;the&#160;IEEE&#160;remainder obtained&#160;from dividing the value in&#160;the&#160;ST(0) register (the dividend) by the value in&#160;<br/>the ST(1)&#160;register (the&#160;divisor&#160;or&#160;<b>modulus</b>), and&#160;stores&#160;the result&#160;in ST(0). The remainder represents&#160;the following&#160;<br/>value:<br/>Remainder&#160;←&#160;ST(0)&#160;−&#160;(Q&#160;∗&#160;ST(1))<br/>Here, Q&#160;is an&#160;integer&#160;value that is&#160;obtained by rounding&#160;the floating-point&#160;number quotient of&#160;[ST(0)&#160;/ ST(1)]&#160;<br/>toward&#160;the nearest integer value. The magnitude&#160;of the&#160;remainder&#160;is less than&#160;or&#160;equal&#160;to half the&#160;magnitude&#160;of the&#160;<br/>modulus,&#160;unless a&#160;partial remainder was&#160;computed&#160;(as described&#160;below).<br/>This instruction produces an&#160;exact result;&#160;the&#160;precision&#160;(inexact) exception&#160;does&#160;not&#160;occur and&#160;the rounding control&#160;<br/>has no effect. The following&#160;table shows the&#160;results obtained when&#160;computing&#160;the remainder&#160;of various classes of&#160;<br/>numbers,&#160;assuming&#160;that&#160;underflow does not&#160;occur.</p>
<p style="position:absolute;top:789px;left:68px;white-space:nowrap" class="ft04">When the&#160;result is 0,&#160;its&#160;sign is&#160;the&#160;same&#160;as&#160;that&#160;of&#160;the dividend.&#160;When the modulus is&#160;∞, the&#160;result is equal to the&#160;</p>
<p style="position:absolute;top:805px;left:68px;white-space:nowrap" class="ft07">value&#160;in ST(0).&#160;<br/>The FPREM1 instruction computes the&#160;remainder&#160;specified&#160;in IEEE&#160;Standard&#160;754.&#160;This instruction operates&#160;differ-<br/>ently from&#160;the FPREM instruction in the&#160;way that&#160;it rounds&#160;the&#160;quotient of ST(0)&#160;divided&#160;by ST(1) to&#160;an&#160;integer (see&#160;<br/>the “Operation” section&#160;below).<br/>Like&#160;the FPREM instruction,&#160;FPREM1&#160;computes&#160;the remainder through&#160;iterative subtraction,&#160;but can&#160;reduce&#160;the&#160;<br/>exponent&#160;of&#160;ST(0)&#160;by&#160;no&#160;more&#160;than&#160;63&#160;in&#160;one&#160;execution&#160;of&#160;the&#160;instruction. If the instruction succeeds in producing&#160;<br/>a remainder that is less than one&#160;half the modulus, the operation is&#160;complete and the C2 flag in&#160;the&#160;FPU status word&#160;<br/>is cleared. Otherwise, C2&#160;is set,&#160;and the result in ST(0) is called the&#160;<b>partial remainder</b>. The exponent of the partial&#160;<br/>remainder will be less than the exponent&#160;of the&#160;original dividend&#160;by&#160;at least 32.&#160;Software&#160;can re-execute the&#160;<br/>instruction (using&#160;the&#160;partial remainder in&#160;ST(0) as&#160;the&#160;dividend) until C2 is&#160;cleared.&#160;(Note&#160;that while&#160;executing&#160;<br/>such&#160;a remainder-computation loop, a&#160;higher-priority interrupting routine&#160;that needs the&#160;FPU can&#160;force&#160;a&#160;context&#160;<br/>switch&#160;in-between the&#160;instructions&#160;in the&#160;loop.)<br/>An&#160;important&#160;use&#160;of&#160;the FPREM1 instruction is&#160;to reduce&#160;the arguments&#160;of&#160;periodic functions. When reduction&#160;is&#160;<br/>complete, the&#160;instruction&#160;stores the&#160;three&#160;least-significant bits of the&#160;quotient in&#160;the C3,&#160;C1,&#160;and C0 flags&#160;of&#160;the FPU&#160;</p>
<p style="position:absolute;top:128px;left:73px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:128px;left:191px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:128px;left:332px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:144px;left:332px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:128px;left:394px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:144px;left:394px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:128px;left:476px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:166px;left:73px;white-space:nowrap" class="ft04">D9&#160;F5</p>
<p style="position:absolute;top:166px;left:191px;white-space:nowrap" class="ft04">FPREM1</p>
<p style="position:absolute;top:166px;left:332px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:394px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:476px;white-space:nowrap" class="ft04">Replace&#160;ST(0) with&#160;the&#160;IEEE&#160;remainder obtained from&#160;dividing&#160;</p>
<p style="position:absolute;top:182px;left:476px;white-space:nowrap" class="ft04">ST(0) by ST(1).</p>
<p style="position:absolute;top:455px;left:356px;white-space:nowrap" class="ft03">Table 3-32. &#160;FPREM1 Results</p>
<p style="position:absolute;top:480px;left:474px;white-space:nowrap" class="ft04">ST(1)</p>
<p style="position:absolute;top:505px;left:262px;white-space:nowrap" class="ft04">−</p>
<p style="position:absolute;top:507px;left:269px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:503px;left:272px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:505px;left:351px;white-space:nowrap" class="ft04">−&#160;F</p>
<p style="position:absolute;top:505px;left:439px;white-space:nowrap" class="ft04">−&#160;0</p>
<p style="position:absolute;top:505px;left:524px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:505px;left:611px;white-space:nowrap" class="ft04">+&#160;F</p>
<p style="position:absolute;top:505px;left:697px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:503px;left:704px;white-space:nowrap" class="ft06">&#160;∞</p>
<p style="position:absolute;top:505px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:529px;left:177px;white-space:nowrap" class="ft04">−</p>
<p style="position:absolute;top:531px;left:184px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:527px;left:187px;white-space:nowrap" class="ft06">∞</p>
<p style="position:absolute;top:529px;left:270px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:358px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:530px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:618px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:705px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:529px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:552px;left:75px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:553px;left:178px;white-space:nowrap" class="ft04">−&#160;F</p>
<p style="position:absolute;top:553px;left:256px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:553px;left:335px;white-space:nowrap" class="ft04">±F or&#160;−0</p>
<p style="position:absolute;top:553px;left:443px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:553px;left:528px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:553px;left:592px;white-space:nowrap" class="ft04">±&#160;F or&#160;−&#160;0</p>
<p style="position:absolute;top:553px;left:691px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:553px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:577px;left:178px;white-space:nowrap" class="ft04">−&#160;0</p>
<p style="position:absolute;top:577px;left:263px;white-space:nowrap" class="ft04">−&#160;0</p>
<p style="position:absolute;top:577px;left:351px;white-space:nowrap" class="ft04">−&#160;0</p>
<p style="position:absolute;top:577px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:577px;left:530px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:577px;left:611px;white-space:nowrap" class="ft04">−&#160;0</p>
<p style="position:absolute;top:577px;left:702px;white-space:nowrap" class="ft04">-0</p>
<p style="position:absolute;top:577px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:601px;left:178px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:601px;left:263px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:601px;left:351px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:601px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:601px;left:530px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:601px;left:611px;white-space:nowrap" class="ft04">+&#160;0</p>
<p style="position:absolute;top:601px;left:700px;white-space:nowrap" class="ft04">+0</p>
<p style="position:absolute;top:601px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:625px;left:178px;white-space:nowrap" class="ft04">+&#160;F</p>
<p style="position:absolute;top:625px;left:256px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:625px;left:332px;white-space:nowrap" class="ft04">±&#160;F or&#160;+&#160;0</p>
<p style="position:absolute;top:625px;left:443px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:625px;left:528px;white-space:nowrap" class="ft04">**</p>
<p style="position:absolute;top:625px;left:592px;white-space:nowrap" class="ft04">±&#160;F or&#160;+&#160;&#160;0</p>
<p style="position:absolute;top:625px;left:691px;white-space:nowrap" class="ft04">ST(0)</p>
<p style="position:absolute;top:625px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:649px;left:176px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:647px;left:184px;white-space:nowrap" class="ft06">&#160;∞</p>
<p style="position:absolute;top:649px;left:270px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:358px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:445px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:530px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:618px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:705px;white-space:nowrap" class="ft04">*</p>
<p style="position:absolute;top:649px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:174px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:259px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:347px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:435px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:520px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:607px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:694px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:673px;left:779px;white-space:nowrap" class="ft04">NaN</p>
<p style="position:absolute;top:696px;left:75px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:715px;left:75px;white-space:nowrap" class="ft010">F&#160;Means finite floating-point&#160;value.<br/>*&#160;Indicates floating-point&#160;invalid-arithmetic-operand&#160;(#IA) exception.<br/>**&#160;Indicates floating-point&#160;zero-divide&#160;(#Z) exception.</p>
</div>
</body>
</html>
