<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 2021</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page2021-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14812021.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:774px;white-space:nowrap" class="ft00">Vol. 2D&#160;A-5</p>
<p style="position:absolute;top:47px;left:761px;white-space:nowrap" class="ft01">OPCODE&#160;MAP</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">A.2.4.3 &#160;</p>
<p style="position:absolute;top:99px;left:153px;white-space:nowrap" class="ft02">Three-Byte&#160;Opcode Instructions</p>
<p style="position:absolute;top:127px;left:69px;white-space:nowrap" class="ft06">The&#160;three-byte opcode&#160;maps&#160;shown&#160;<a href="o_b5573232dd8f1481-2029.html">in Table&#160;A-4&#160;</a><a href="o_b5573232dd8f1481-2031.html">and Table&#160;A-5 includes primary opcode</a>s&#160;that are&#160;either&#160;3 or&#160;4&#160;<br/>bytes in&#160;length.&#160;Primary&#160;opcodes that are&#160;3&#160;bytes in&#160;length begin with two escape&#160;bytes 0F38H&#160;or 0F3A.&#160;The&#160;upper&#160;<br/>and lower&#160;four bits of the third opcode byte are used to index a&#160;particular&#160;row and colu<a href="o_b5573232dd8f1481-2029.html">mn in Table A-4 or&#160;</a><a href="o_b5573232dd8f1481-2031.html">Table A-5.&#160;<br/></a>Three-byte opcodes&#160;that are&#160;4&#160;bytes&#160;in&#160;length begin with&#160;a&#160;mandatory&#160;prefix&#160;(66H, F2H, or&#160;F3H)&#160;and two escape&#160;<br/>bytes (0F38H or&#160;0F3AH).&#160;The&#160;upper and&#160;lower four&#160;bits&#160;of&#160;the fourth byte&#160;are used to&#160;index a&#160;particular&#160;row and&#160;<br/>column in&#160;<a href="o_b5573232dd8f1481-2029.html">Table A-4&#160;</a><a href="o_b5573232dd8f1481-2031.html">or Table A-5.&#160;<br/></a>For each&#160;entry in&#160;the&#160;opcode map,&#160;the&#160;rules for interpreting&#160;the&#160;byte following the&#160;primary&#160;opcode&#160;fall into&#160;the&#160;<br/>following case:</p>
<p style="position:absolute;top:280px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:280px;left:95px;white-space:nowrap" class="ft06">A ModR/M byte&#160;is required&#160;and&#160;is interpreted&#160;according to&#160;<a href="o_b5573232dd8f1481-2017.html">the abbreviations listed in&#160;A.1&#160;</a><a href="˛ˇ">and Chapter&#160;2,&#160;<br/>‚ÄúInstruction&#160;Format,‚Äù</a>&#160;of the&#160;<a href="˛ˇ"><i>Intel¬Æ 64 and&#160;IA-32 Architectures Software&#160;Developer‚Äôs&#160;Manual,&#160;Volume 2A</i>. The</a>&#160;<br/>operand types are&#160;listed according to&#160;notations&#160;listed&#160;<a href="o_b5573232dd8f1481-2017.html">in Section A.2.</a></p>
<p style="position:absolute;top:354px;left:69px;white-space:nowrap" class="ft01">Example A-3. &#160;Look-up Example for 3-Byte&#160;Opcodes</p>
<p style="position:absolute;top:379px;left:69px;white-space:nowrap" class="ft03">Look-up&#160;opcode&#160;660F3A0FC108H&#160;for&#160;a PALIGNR&#160;instruction&#160;using<a href="o_b5573232dd8f1481-2031.html">&#160;Table&#160;A-5.</a></p>
<p style="position:absolute;top:400px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:401px;left:95px;white-space:nowrap" class="ft07">66H is&#160;a prefix&#160;and 0F3AH indicate to&#160;<a href="o_b5573232dd8f1481-2031.html">use Table A-5. Th</a>e opcode&#160;is located in&#160;row 0,&#160;column&#160;F indicating a&#160;<br/>PALIGNR instruction with&#160;operands Vdq,&#160;Wdq,&#160;and Ib. Interpret the operands as&#160;follows:<br/>‚Äî&#160;Vdq:&#160;The reg field of the&#160;ModR/M byte&#160;selects&#160;a&#160;128-bit XMM&#160;register.<br/>‚Äî&#160;Wdq:&#160;The&#160;R/M field of the&#160;ModR/M byte&#160;selects either&#160;a 128-bit XMM&#160;register or memory location.<br/>‚Äî&#160;Ib: Immediate data is&#160;encoded&#160;in the&#160;subsequent byte&#160;of&#160;the instruction.</p>
<p style="position:absolute;top:511px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:512px;left:95px;white-space:nowrap" class="ft06">The&#160;next byte&#160;is the&#160;ModR/M&#160;byte (C1H).&#160;The&#160;reg&#160;field&#160;indicates that the&#160;first operand&#160;is XMM0.&#160;The mod&#160;shows&#160;<br/>that&#160;the&#160;R/M field specifies&#160;a register and the&#160;R/M indicates that the&#160;second&#160;operand is&#160;XMM1.</p>
<p style="position:absolute;top:550px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:551px;left:95px;white-space:nowrap" class="ft03">The last&#160;byte is&#160;the immediate byte&#160;(08H).</p>
<p style="position:absolute;top:573px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:574px;left:95px;white-space:nowrap" class="ft03">By this breakdown, it&#160;has been shown&#160;that this&#160;opcode&#160;represents the&#160;instruction: PALIGNR XMM0,&#160;XMM1,&#160;8.</p>
<p style="position:absolute;top:618px;left:69px;white-space:nowrap" class="ft02">A.2.4.4&#160;&#160;</p>
<p style="position:absolute;top:618px;left:153px;white-space:nowrap" class="ft02">VEX Prefix Instructions</p>
<p style="position:absolute;top:646px;left:69px;white-space:nowrap" class="ft06">Instructions&#160;that&#160;include&#160;a VEX prefix&#160;are organized relative&#160;to the&#160;2-byte&#160;and 3-byte&#160;opcode maps, based&#160;on&#160;the&#160;<br/>VEX.mmmmm field&#160;encoding&#160;of implied&#160;0F,&#160;0F38H, 0F3AH,&#160;respectively.&#160;Each entry in&#160;the opcode map&#160;of a&#160;VEX-<br/>encoded instruction is&#160;based on the&#160;value of the&#160;opcode byte, similar&#160;to non-VEX-encoded instructions.&#160;<br/>A&#160;VEX&#160;prefix includes&#160;several&#160;bit&#160;fields&#160;that encode&#160;implied 66H, F2H,&#160;F3H&#160;prefix&#160;functionality (VEX.pp)&#160;and&#160;<br/>operand size/opcode&#160;information (VEX.L).&#160;See chapter 4 for details.&#160;<br/>Opcode&#160;tables&#160;A2-A6 include both&#160;instructions&#160;with&#160;a VEX&#160;prefix&#160;and instructions without&#160;a VEX&#160;prefix. Many&#160;entries&#160;<br/>are only made&#160;once, but represent both&#160;the VEX&#160;and&#160;non-VEX&#160;forms of&#160;the&#160;instruction.&#160;If the&#160;VEX&#160;prefix is present&#160;<br/>all the&#160;operands are&#160;valid&#160;and the&#160;mnemonic&#160;is usually prefixed with&#160;a ‚Äúv‚Äù.&#160;If the&#160;VEX prefix&#160;is not present&#160;the&#160;<br/>VEX.vvvv operand&#160;is not available&#160;and&#160;the prefix&#160;‚Äúv‚Äù is&#160;dropped&#160;from&#160;the mnemonic.&#160;<br/>A few instructions exist&#160;only&#160;in VEX form and&#160;these&#160;are marked with a&#160;superscript&#160;‚Äúv‚Äù.<br/>Operand size of VEX prefix&#160;instructions&#160;can be determined&#160;by&#160;the&#160;operand type&#160;code. 128-bit vectors are&#160;indicated&#160;<br/>by&#160;'dq',&#160;256-bit&#160;vectors&#160;are&#160;indicated&#160;by 'qq',&#160;and&#160;instructions with&#160;operands supporting either 128&#160;or&#160;256-bit,&#160;<br/>determined&#160;by VEX.L,&#160;are indicated by 'x'.&#160;For example,&#160;the entry &#34;VMOVUPD Vx,Wx&#34; indicates both VEX.L=0 and&#160;<br/>VEX.L=1 are&#160;supported.&#160;</p>
</div>
</body>
</html>
