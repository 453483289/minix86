<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1218</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1218-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811218.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:590px;white-space:nowrap" class="ft00">RDPMC‚ÄîRead Performance-Monitoring Counters</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, M-U</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-538&#160;Vol. 2B</p>
<p style="position:absolute;top:619px;left:68px;white-space:nowrap" class="ft06">Processors based on&#160;Intel&#160;NetBurst microarchitecture support&#160;‚Äúfast‚Äù&#160;(32-bit) and ‚Äúslow‚Äù (40-bit) reads on&#160;the&#160;first&#160;<br/>18&#160;performance counters. Selected this option&#160;using&#160;ECX[31].&#160;If&#160;bit&#160;31 is&#160;set,&#160;RDPMC&#160;reads only the low 32 bits of&#160;<br/>the selected&#160;performance counter.&#160;If bit&#160;31&#160;is clear,&#160;all&#160;40&#160;bits are&#160;read. A 32-bit result&#160;is returned&#160;in EAX and EDX&#160;<br/>is&#160;set&#160;to 0. A 32-bit&#160;read&#160;executes&#160;faster on&#160;these processors&#160;than&#160;a full 40-bit&#160;read.<br/>On processors&#160;based on Intel&#160;NetBurst microarchitecture&#160;with L3,&#160;performance counters&#160;with indices 18-25 are 32-<br/>bit counters. EDX&#160;is cleared&#160;after&#160;executing&#160;RDPMC for these counters.&#160;<br/>In Intel Core 2 processor family, Intel Xeon&#160;processor 3000,&#160;5100,&#160;5300&#160;and&#160;7400 series, the&#160;fixed-function perfor-<br/>mance&#160;counters&#160;are 40-bits&#160;wide; they&#160;can be&#160;accessed by RDMPC&#160;with ECX&#160;between from 4000_0000H and&#160;<br/>4000_0002H.<br/>On&#160;Intel Xeon processor 7400&#160;series, there are&#160;eight&#160;32-bit&#160;special-purpose&#160;counters addressable with indices 2-9,&#160;<br/>ECX[30]=0.&#160;<br/>When in protected or virtual 8086 mode, the&#160;performance-monitoring counters enabled (PCE) flag in register CR4&#160;<br/>restricts the&#160;use of&#160;the RDPMC instruction&#160;as&#160;follows. When&#160;the PCE flag&#160;is set,&#160;the RDPMC instruction&#160;can&#160;be&#160;<br/>executed&#160;at&#160;any privilege&#160;level; when&#160;the&#160;flag&#160;is&#160;clear,&#160;the instruction can&#160;only&#160;be&#160;executed at&#160;privilege&#160;level 0.&#160;<br/>(When in&#160;real-address&#160;mode, the&#160;RDPMC instruction is&#160;always&#160;enabled.)<br/>The&#160;performance-monitoring&#160;counters can&#160;also be read with the&#160;RDMSR&#160;instruction, when&#160;executing at privilege&#160;<br/>level 0.<br/>The&#160;performance-monitoring&#160;counters are&#160;event counters&#160;that&#160;can be programmed&#160;to count events such&#160;as the&#160;<br/>number of instructions decoded,&#160;number of interrupts received,&#160;or number of&#160;cache&#160;<a href="˛ˇ">loads. Chapter&#160;19, ‚ÄúPerfor-<br/>mance Monitoring Events,‚Äù</a>&#160;in the&#160;<a href="˛ˇ"><i>Intel¬Æ 64&#160;and IA-32 Architectures&#160;Software&#160;Developer‚Äôs Manual, Volume 3B</i></a>, lists&#160;<br/>the events&#160;that&#160;can be counted for various processors in the&#160;Intel&#160;64&#160;and IA-32 architecture&#160;families.<br/>The RDPMC instruction is&#160;not a&#160;serializing instruction; that&#160;is,&#160;it&#160;does&#160;not imply that&#160;all the&#160;events caused&#160;by the&#160;<br/>preceding instructions have&#160;been completed&#160;or&#160;that events&#160;caused by subsequent instructions have&#160;not begun.&#160;If&#160;</p>
<p style="position:absolute;top:164px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:162px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:164px;left:111px;white-space:nowrap" class="ft02">&#160;Core‚Ñ¢&#160;Solo&#160;and&#160;Intel</p>
<p style="position:absolute;top:162px;left:227px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:164px;left:238px;white-space:nowrap" class="ft02">&#160;Core‚Ñ¢&#160;Duo&#160;</p>
<p style="position:absolute;top:181px;left:75px;white-space:nowrap" class="ft02">processors, Dual-core Intel</p>
<p style="position:absolute;top:179px;left:225px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:181px;left:236px;white-space:nowrap" class="ft02">&#160;Xeon</p>
<p style="position:absolute;top:179px;left:269px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:181px;left:279px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:198px;left:75px;white-space:nowrap" class="ft02">processor LV</p>
<p style="position:absolute;top:164px;left:345px;white-space:nowrap" class="ft02">06H_0EH</p>
<p style="position:absolute;top:164px;left:548px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:164px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:218px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:216px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:218px;left:111px;white-space:nowrap" class="ft02">&#160;Core‚Ñ¢2&#160;Duo&#160;processor,&#160;Intel Xeon&#160;</p>
<p style="position:absolute;top:235px;left:75px;white-space:nowrap" class="ft02">processor 3000, 5100,&#160;5300, 7300&#160;Series&#160;-&#160;</p>
<p style="position:absolute;top:252px;left:75px;white-space:nowrap" class="ft02">general-purpose&#160;PMC</p>
<p style="position:absolute;top:218px;left:345px;white-space:nowrap" class="ft02">06H_0FH</p>
<p style="position:absolute;top:218px;left:548px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:218px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:272px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:270px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:272px;left:111px;white-space:nowrap" class="ft02">&#160;Core‚Ñ¢2&#160;Duo&#160;processor family, Intel&#160;</p>
<p style="position:absolute;top:289px;left:75px;white-space:nowrap" class="ft02">Xeon&#160;processor&#160;3100,&#160;3300,&#160;5200,&#160;5400&#160;</p>
<p style="position:absolute;top:306px;left:75px;white-space:nowrap" class="ft02">series&#160;- general-purpose PMC</p>
<p style="position:absolute;top:272px;left:345px;white-space:nowrap" class="ft02">06H_17H</p>
<p style="position:absolute;top:272px;left:548px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:272px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:326px;left:75px;white-space:nowrap" class="ft02">Intel Xeon&#160;processors 7400 series&#160;</p>
<p style="position:absolute;top:326px;left:344px;white-space:nowrap" class="ft02">(06H_1DH)&#160;</p>
<p style="position:absolute;top:328px;left:548px;white-space:nowrap" class="ft02">‚â•&#160;0 and&#160;‚â§&#160;9</p>
<p style="position:absolute;top:328px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:348px;left:75px;white-space:nowrap" class="ft02">45 nm&#160;and&#160;32 nm&#160;Intel</p>
<p style="position:absolute;top:345px;left:205px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:348px;left:215px;white-space:nowrap" class="ft02">&#160;Atom‚Ñ¢ processors</p>
<p style="position:absolute;top:348px;left:345px;white-space:nowrap" class="ft02">06H_1CH, 06_26H, 06_27H,&#160;</p>
<p style="position:absolute;top:364px;left:345px;white-space:nowrap" class="ft02">06_35H, 06_36H</p>
<p style="position:absolute;top:348px;left:548px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:348px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:385px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:383px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:385px;left:111px;white-space:nowrap" class="ft02">&#160;Atom‚Ñ¢ processors based on&#160;</p>
<p style="position:absolute;top:402px;left:75px;white-space:nowrap" class="ft02">Silvermont&#160;or&#160;Airmont&#160;microarchitectures</p>
<p style="position:absolute;top:385px;left:345px;white-space:nowrap" class="ft02">06H_37H, 06_4AH, 06_4DH,&#160;</p>
<p style="position:absolute;top:402px;left:345px;white-space:nowrap" class="ft02">06_5AH, 06_5DH, 06_4CH</p>
<p style="position:absolute;top:385px;left:548px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:385px;left:698px;white-space:nowrap" class="ft02">0, 1</p>
<p style="position:absolute;top:423px;left:75px;white-space:nowrap" class="ft02">Next Generation Intel</p>
<p style="position:absolute;top:420px;left:197px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:423px;left:208px;white-space:nowrap" class="ft02">&#160;Atom‚Ñ¢&#160;processors&#160;</p>
<p style="position:absolute;top:439px;left:75px;white-space:nowrap" class="ft02">based on Goldmont&#160;microarchitecture</p>
<p style="position:absolute;top:423px;left:345px;white-space:nowrap" class="ft02">06H_5CH, 06_5FH&#160;</p>
<p style="position:absolute;top:423px;left:548px;white-space:nowrap" class="ft02">0-3</p>
<p style="position:absolute;top:423px;left:698px;white-space:nowrap" class="ft02">0-3</p>
<p style="position:absolute;top:460px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:458px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:460px;left:111px;white-space:nowrap" class="ft02">&#160;processors&#160;based&#160;on the Nehalem,&#160;</p>
<p style="position:absolute;top:477px;left:75px;white-space:nowrap" class="ft02">Westmere&#160;microarchitectures</p>
<p style="position:absolute;top:460px;left:345px;white-space:nowrap" class="ft02">06H_1AH, 06H_1EH, 06H_1FH,&#160;</p>
<p style="position:absolute;top:477px;left:345px;white-space:nowrap" class="ft02">06_25H, 06_2CH, 06H_2EH,&#160;</p>
<p style="position:absolute;top:493px;left:345px;white-space:nowrap" class="ft02">06_2FH</p>
<p style="position:absolute;top:460px;left:548px;white-space:nowrap" class="ft02">0-3 0-3&#160;</p>
<p style="position:absolute;top:514px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:512px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:514px;left:111px;white-space:nowrap" class="ft02">&#160;processors&#160;based&#160;on the Sandy&#160;</p>
<p style="position:absolute;top:531px;left:75px;white-space:nowrap" class="ft02">Bridge, Ivy Bridge&#160;microarchitecture</p>
<p style="position:absolute;top:514px;left:345px;white-space:nowrap" class="ft02">06H_2AH,&#160;06H_2DH,&#160;06H_3AH,&#160;</p>
<p style="position:absolute;top:531px;left:345px;white-space:nowrap" class="ft02">06H_3EH</p>
<p style="position:absolute;top:514px;left:548px;white-space:nowrap" class="ft02">0-3 (0-7&#160;if&#160;</p>
<p style="position:absolute;top:531px;left:548px;white-space:nowrap" class="ft02">HyperThreading is&#160;off)</p>
<p style="position:absolute;top:514px;left:698px;white-space:nowrap" class="ft02">0-3 (0-7&#160;if&#160;</p>
<p style="position:absolute;top:531px;left:698px;white-space:nowrap" class="ft02">HyperThreading&#160;is off)</p>
<p style="position:absolute;top:552px;left:75px;white-space:nowrap" class="ft02">Intel</p>
<p style="position:absolute;top:549px;left:101px;white-space:nowrap" class="ft04"><i>¬Æ</i></p>
<p style="position:absolute;top:552px;left:111px;white-space:nowrap" class="ft02">&#160;processors&#160;based&#160;on the Haswell,&#160;</p>
<p style="position:absolute;top:568px;left:75px;white-space:nowrap" class="ft02">Broadwell,&#160;SkyLake&#160;microarchitectures</p>
<p style="position:absolute;top:552px;left:345px;white-space:nowrap" class="ft02">06H_3CH, 06H_45H, 06H_46H,&#160;</p>
<p style="position:absolute;top:568px;left:345px;white-space:nowrap" class="ft02">06H_3FH, 06_3DH, 06_47H,&#160;</p>
<p style="position:absolute;top:585px;left:345px;white-space:nowrap" class="ft02">4FH, 06_56H, 06_4EH, 06_5EH</p>
<p style="position:absolute;top:552px;left:548px;white-space:nowrap" class="ft02">0-3 (0-7&#160;if&#160;</p>
<p style="position:absolute;top:568px;left:548px;white-space:nowrap" class="ft02">HyperThreading is&#160;off)</p>
<p style="position:absolute;top:552px;left:698px;white-space:nowrap" class="ft02">0-3 (0-7&#160;if&#160;</p>
<p style="position:absolute;top:568px;left:698px;white-space:nowrap" class="ft02">HyperThreading&#160;is off)</p>
<p style="position:absolute;top:100px;left:113px;white-space:nowrap" class="ft05">Table 4-16.&#160;&#160;Valid&#160;General and&#160;Special Purpose Performance Counter Index Range for RDPMC (Contd.)</p>
<p style="position:absolute;top:128px;left:75px;white-space:nowrap" class="ft02">Processor Family</p>
<p style="position:absolute;top:128px;left:344px;white-space:nowrap" class="ft02">DisplayFamily_DisplayModel/&#160;</p>
<p style="position:absolute;top:144px;left:345px;white-space:nowrap" class="ft02">Other Signatures</p>
<p style="position:absolute;top:128px;left:548px;white-space:nowrap" class="ft02">Valid PMC&#160;Index&#160;</p>
<p style="position:absolute;top:144px;left:548px;white-space:nowrap" class="ft02">Range</p>
<p style="position:absolute;top:128px;left:698px;white-space:nowrap" class="ft02">General-purpose&#160;</p>
<p style="position:absolute;top:144px;left:698px;white-space:nowrap" class="ft02">Counters</p>
</div>
</body>
</html>
