<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 103</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:8px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page103-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481103.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:767px;white-space:nowrap" class="ft00">Vol. 2A&#160;2-43</p>
<p style="position:absolute;top:47px;left:706px;white-space:nowrap" class="ft01">INSTRUCTION FORMAT</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">2.6.11.3 &#160;&#160;Opcode&#160;Dependent #UD</p>
<p style="position:absolute;top:124px;left:69px;white-space:nowrap" class="ft06">This section describes&#160;legal values for the&#160;rest&#160;of&#160;the EVEX&#160;bit fields.&#160;<a href="o_b5573232dd8f1481-103.html">Table&#160;2-39</a>&#160;lists&#160;the&#160;#UD&#160;conditions of EVEX&#160;<br/>prefix bit fields&#160;which&#160;encodes&#160;or modifies&#160;register operands.</p>
<p style="position:absolute;top:685px;left:69px;white-space:nowrap" class="ft03"><a href="o_b5573232dd8f1481-103.html">Table 2-40 l</a>ists the&#160;#UD&#160;conditions of instruction encoding&#160;of opmask register&#160;using EVEX.aaa&#160;and EVEX.z</p>
<p style="position:absolute;top:174px;left:208px;white-space:nowrap" class="ft04">Table&#160;2-39. &#160;#UD Conditions&#160;of&#160;Operand-Encoding&#160;EVEX&#160;Prefix&#160;Bit&#160;Fields&#160;</p>
<p style="position:absolute;top:199px;left:86px;white-space:nowrap" class="ft03">Notation</p>
<p style="position:absolute;top:199px;left:169px;white-space:nowrap" class="ft03">Position</p>
<p style="position:absolute;top:199px;left:338px;white-space:nowrap" class="ft03">&#160;Operand Encoding</p>
<p style="position:absolute;top:199px;left:595px;white-space:nowrap" class="ft03">64-bit&#160;#UD</p>
<p style="position:absolute;top:199px;left:720px;white-space:nowrap" class="ft03">Non-64-bit #UD</p>
<p style="position:absolute;top:223px;left:73px;white-space:nowrap" class="ft03">EVEX.R</p>
<p style="position:absolute;top:223px;left:165px;white-space:nowrap" class="ft03">P[7]</p>
<p style="position:absolute;top:223px;left:235px;white-space:nowrap" class="ft03">ModRM.reg encodes k-reg</p>
<p style="position:absolute;top:223px;left:566px;white-space:nowrap" class="ft03">if&#160;EVEX.R = 0</p>
<p style="position:absolute;top:223px;left:704px;white-space:nowrap" class="ft03">None&#160;(BOUND if&#160;</p>
<p style="position:absolute;top:240px;left:704px;white-space:nowrap" class="ft03">EVEX.RX != 11b)</p>
<p style="position:absolute;top:247px;left:235px;white-space:nowrap" class="ft03">ModRM.reg&#160;is&#160;opcode&#160;extension</p>
<p style="position:absolute;top:247px;left:566px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:271px;left:235px;white-space:nowrap" class="ft03">ModRM.reg encodes all other registers</p>
<p style="position:absolute;top:271px;left:566px;white-space:nowrap" class="ft03">None&#160;(valid)</p>
<p style="position:absolute;top:295px;left:73px;white-space:nowrap" class="ft03">EVEX.X</p>
<p style="position:absolute;top:295px;left:165px;white-space:nowrap" class="ft03">P[6]</p>
<p style="position:absolute;top:295px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;encodes&#160;ZMM/YMM/XMM</p>
<p style="position:absolute;top:295px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:319px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;encodes&#160;k-reg&#160;or&#160;GPR</p>
<p style="position:absolute;top:319px;left:566px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:343px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;without SIB/VSIB</p>
<p style="position:absolute;top:343px;left:566px;white-space:nowrap" class="ft03">None&#160;(ignored)</p>
<p style="position:absolute;top:367px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;with&#160;SIB/VSIB</p>
<p style="position:absolute;top:367px;left:566px;white-space:nowrap" class="ft03">None&#160;(valid)</p>
<p style="position:absolute;top:391px;left:73px;white-space:nowrap" class="ft03">EVEX.B</p>
<p style="position:absolute;top:391px;left:165px;white-space:nowrap" class="ft03">P[5]</p>
<p style="position:absolute;top:391px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;encodes k-reg</p>
<p style="position:absolute;top:391px;left:566px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:391px;left:704px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:415px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;encodes other&#160;registers</p>
<p style="position:absolute;top:415px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:439px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;base&#160;present</p>
<p style="position:absolute;top:439px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:463px;left:235px;white-space:nowrap" class="ft03">ModRM.r/m&#160;base&#160;not present</p>
<p style="position:absolute;top:463px;left:566px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:487px;left:73px;white-space:nowrap" class="ft03">EVEXR’</p>
<p style="position:absolute;top:487px;left:165px;white-space:nowrap" class="ft03">P[4]</p>
<p style="position:absolute;top:487px;left:235px;white-space:nowrap" class="ft03">ModRM.reg&#160;encodes&#160;k-reg or&#160;GPR</p>
<p style="position:absolute;top:487px;left:566px;white-space:nowrap" class="ft03">if 0</p>
<p style="position:absolute;top:487px;left:704px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:511px;left:235px;white-space:nowrap" class="ft03">ModRM.reg&#160;is&#160;opcode&#160;extension</p>
<p style="position:absolute;top:511px;left:566px;white-space:nowrap" class="ft03">None (ignored)</p>
<p style="position:absolute;top:535px;left:235px;white-space:nowrap" class="ft03">ModRM.reg&#160;encodes&#160;ZMM/YMM/XMM</p>
<p style="position:absolute;top:535px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:559px;left:73px;white-space:nowrap" class="ft03">EVEX.vvvv</p>
<p style="position:absolute;top:559px;left:165px;white-space:nowrap" class="ft03">P[14 :&#160;11]&#160;vvvv&#160;encodes ZMM/YMM/XMM</p>
<p style="position:absolute;top:559px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:559px;left:704px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:575px;left:704px;white-space:nowrap" class="ft03">P[14] ignored</p>
<p style="position:absolute;top:600px;left:235px;white-space:nowrap" class="ft03">Otherwise</p>
<p style="position:absolute;top:600px;left:566px;white-space:nowrap" class="ft03">if&#160;!= 1111b</p>
<p style="position:absolute;top:600px;left:704px;white-space:nowrap" class="ft03">if&#160;!= 1111b</p>
<p style="position:absolute;top:624px;left:73px;white-space:nowrap" class="ft03">EVEXV’</p>
<p style="position:absolute;top:624px;left:165px;white-space:nowrap" class="ft03">P[19]</p>
<p style="position:absolute;top:624px;left:235px;white-space:nowrap" class="ft03">Encodes&#160;ZMM/YMM/XMM</p>
<p style="position:absolute;top:624px;left:566px;white-space:nowrap" class="ft03">None (valid)</p>
<p style="position:absolute;top:624px;left:704px;white-space:nowrap" class="ft03">if 0</p>
<p style="position:absolute;top:647px;left:235px;white-space:nowrap" class="ft03">Otherwise</p>
<p style="position:absolute;top:647px;left:566px;white-space:nowrap" class="ft03">if 0</p>
<p style="position:absolute;top:647px;left:704px;white-space:nowrap" class="ft03">if 0</p>
<p style="position:absolute;top:719px;left:239px;white-space:nowrap" class="ft04">Table 2-40. &#160;#UD Conditions of&#160;Opmask&#160;Related Encoding&#160;Field&#160;</p>
<p style="position:absolute;top:744px;left:90px;white-space:nowrap" class="ft03">Notation</p>
<p style="position:absolute;top:744px;left:173px;white-space:nowrap" class="ft03">Position</p>
<p style="position:absolute;top:744px;left:352px;white-space:nowrap" class="ft03">Operand Encoding</p>
<p style="position:absolute;top:744px;left:609px;white-space:nowrap" class="ft03">64-bit&#160;#UD</p>
<p style="position:absolute;top:744px;left:722px;white-space:nowrap" class="ft03">Non-64-bit #UD</p>
<p style="position:absolute;top:768px;left:77px;white-space:nowrap" class="ft03">EVEX.aaa</p>
<p style="position:absolute;top:768px;left:168px;white-space:nowrap" class="ft03">P[18&#160;: 16]&#160;Instructions do&#160;not use opmask&#160;for conditional processing</p>
<p style="position:absolute;top:765px;left:565px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:768px;left:571px;white-space:nowrap" class="ft03">.</p>
<p style="position:absolute;top:947px;left:71px;white-space:nowrap" class="ft01">NOTES:</p>
<p style="position:absolute;top:966px;left:70px;white-space:nowrap" class="ft03">1.&#160;E.g., VBROADCASTMxxx,&#160;VPMOVM2x, VPMOVx2M.</p>
<p style="position:absolute;top:768px;left:586px;white-space:nowrap" class="ft03">if&#160;aaa !=&#160;000b</p>
<p style="position:absolute;top:768px;left:711px;white-space:nowrap" class="ft03">if&#160;aaa !=&#160;000b</p>
<p style="position:absolute;top:791px;left:239px;white-space:nowrap" class="ft03">Opmask&#160;used&#160;as&#160;conditional&#160;processing&#160;mask&#160;and&#160;updated&#160;</p>
<p style="position:absolute;top:808px;left:239px;white-space:nowrap" class="ft03">at&#160;completion</p>
<p style="position:absolute;top:805px;left:315px;white-space:nowrap" class="ft05">2</p>
<p style="position:absolute;top:808px;left:321px;white-space:nowrap" class="ft03">.</p>
<p style="position:absolute;top:986px;left:70px;white-space:nowrap" class="ft03">2. E.g., Gather/Scatter&#160;family.</p>
<p style="position:absolute;top:791px;left:586px;white-space:nowrap" class="ft03">if&#160;aaa =&#160;000b</p>
<p style="position:absolute;top:791px;left:711px;white-space:nowrap" class="ft03">if&#160;aaa =&#160;000b;</p>
<p style="position:absolute;top:832px;left:239px;white-space:nowrap" class="ft03">Opmask&#160;used&#160;as&#160;conditional processing.</p>
<p style="position:absolute;top:832px;left:586px;white-space:nowrap" class="ft03">None (valid</p>
<p style="position:absolute;top:829px;left:650px;white-space:nowrap" class="ft05">3</p>
<p style="position:absolute;top:832px;left:656px;white-space:nowrap" class="ft03">)</p>
<p style="position:absolute;top:1005px;left:70px;white-space:nowrap" class="ft03">3.&#160;aaa&#160;can&#160;take&#160;any value.&#160;A&#160;value&#160;of&#160;000&#160;indicates that&#160;there&#160;is no&#160;masking&#160;on&#160;the&#160;instruction;&#160;in&#160;this&#160;case,&#160;all elements will be&#160;pro-</p>
<p style="position:absolute;top:1022px;left:85px;white-space:nowrap" class="ft03">cessed as&#160;if&#160;there was&#160;a mask&#160;of&#160;‘all ones’&#160;regardless&#160;of&#160;the&#160;actual&#160;value&#160;in&#160;K0.</p>
<p style="position:absolute;top:832px;left:711px;white-space:nowrap" class="ft03">None&#160;(valid</p>
<p style="position:absolute;top:829px;left:775px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:832px;left:781px;white-space:nowrap" class="ft03">)</p>
<p style="position:absolute;top:856px;left:76px;white-space:nowrap" class="ft03">EVEX.z</p>
<p style="position:absolute;top:856px;left:168px;white-space:nowrap" class="ft03">P[23]</p>
<p style="position:absolute;top:856px;left:239px;white-space:nowrap" class="ft03">Vector&#160;instruction&#160;using&#160;opmask as&#160;source or&#160;destination</p>
<p style="position:absolute;top:853px;left:561px;white-space:nowrap" class="ft05">4</p>
<p style="position:absolute;top:856px;left:567px;white-space:nowrap" class="ft03">.</p>
<p style="position:absolute;top:1041px;left:70px;white-space:nowrap" class="ft03">4.&#160;E.g., VFPCLASSPD/PS,&#160;VCMPB/D/Q/W&#160;family,&#160;VPMOVM2x,&#160;VPMOVx2M.</p>
<p style="position:absolute;top:856px;left:586px;white-space:nowrap" class="ft03">if&#160;EVEX.z&#160;!= 0</p>
<p style="position:absolute;top:856px;left:711px;white-space:nowrap" class="ft03">if EVEX.z&#160;!= 0</p>
<p style="position:absolute;top:880px;left:239px;white-space:nowrap" class="ft03">Store instructions&#160;or gather/scatter instructions.</p>
<p style="position:absolute;top:880px;left:586px;white-space:nowrap" class="ft03">if EVEX.z&#160;!= 0</p>
<p style="position:absolute;top:880px;left:711px;white-space:nowrap" class="ft03">if EVEX.z&#160;!= 0</p>
<p style="position:absolute;top:904px;left:239px;white-space:nowrap" class="ft03">Instruction&#160;supporting&#160;conditional&#160;processing&#160;mask with&#160;</p>
<p style="position:absolute;top:921px;left:239px;white-space:nowrap" class="ft03">EVEX.aaa&#160;= 000b.</p>
<p style="position:absolute;top:904px;left:586px;white-space:nowrap" class="ft03">if&#160;EVEX.z&#160;!= 0</p>
<p style="position:absolute;top:904px;left:711px;white-space:nowrap" class="ft03">if EVEX.z&#160;!= 0</p>
</div>
</body>
</html>
