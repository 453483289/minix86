<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 296</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page296-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481296.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:508px;white-space:nowrap" class="ft00">CMPS/CMPSB/CMPSW/CMPSD/CMPSQ—Compare String Operands</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-168&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">CMPS/CMPSB/CMPSW/CMPSD/CMPSQ—Compare&#160;String Operands</p>
<p style="position:absolute;top:707px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:791px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:816px;left:68px;white-space:nowrap" class="ft06">Compares&#160;the byte, word,&#160;doubleword, or&#160;quadword&#160;specified&#160;with the first&#160;source operand&#160;with&#160;the byte, word,&#160;<br/>doubleword, or quadword&#160;specified with the second source&#160;operand and sets&#160;the status flags&#160;in&#160;the EFLAGS&#160;register&#160;<br/>according to&#160;the results.<br/>Both&#160;source&#160;operands are located in&#160;memory.&#160;The&#160;address of&#160;the&#160;first&#160;source&#160;operand&#160;is&#160;read&#160;from&#160;DS:SI,&#160;DS:ESI&#160;<br/>or RSI (depending on&#160;the address-size&#160;attribute&#160;of the&#160;instruction is&#160;16, 32,&#160;or 64,&#160;respectively). The address&#160;of&#160;the&#160;<br/>second source&#160;operand is&#160;read&#160;from&#160;ES:DI, ES:EDI or&#160;RDI (again&#160;depending&#160;on the&#160;address-size&#160;attribute&#160;of the&#160;<br/>instruction is&#160;16, 32,&#160;or 64).&#160;The&#160;DS&#160;segment may&#160;be&#160;overridden with&#160;a segment override&#160;prefix,&#160;but the&#160;ES&#160;<br/>segment cannot be&#160;overridden.<br/>At&#160;the&#160;assembly-code&#160;level, two forms&#160;of this instruction are&#160;allowed:&#160;the “explicit-operands”&#160;form and&#160;the&#160;“no-<br/>operands” form.&#160;The explicit-operands form (specified&#160;with the CMPS mnemonic) allows the&#160;two&#160;source operands&#160;<br/>to be specified&#160;explicitly. Here, the&#160;source&#160;operands&#160;should&#160;be&#160;symbols that&#160;indicate&#160;the size&#160;and&#160;location&#160;of the&#160;<br/>source values. This&#160;explicit-operand&#160;form&#160;is provided&#160;to&#160;allow&#160;documentation. However,&#160;note that&#160;the documenta-<br/>tion provided&#160;by&#160;this&#160;form&#160;can be&#160;misleading.&#160;That is,&#160;the&#160;source&#160;operand symbols must specify the&#160;correct&#160;type&#160;<br/>(size) of the operands (bytes,&#160;words,&#160;or doublewords, quadwords), but they do not have to specify the correct loca-</p>
<p style="position:absolute;top:128px;left:75px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:128px;left:196px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:128px;left:335px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:144px;left:335px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:128px;left:372px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:144px;left:372px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:128px;left:444px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:144px;left:444px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:128px;left:514px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:166px;left:75px;white-space:nowrap" class="ft04">A6</p>
<p style="position:absolute;top:166px;left:196px;white-space:nowrap" class="ft04">CMPS&#160;<i>m8, m8</i></p>
<p style="position:absolute;top:166px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:166px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:166px;left:514px;white-space:nowrap" class="ft04">For&#160;legacy mode, compare&#160;byte&#160;at&#160;address&#160;DS:(E)SI&#160;with&#160;</p>
<p style="position:absolute;top:182px;left:514px;white-space:nowrap" class="ft04">byte at&#160;address&#160;ES:(E)DI; For&#160;64-bit mode&#160;compare&#160;byte&#160;</p>
<p style="position:absolute;top:199px;left:514px;white-space:nowrap" class="ft04">at address (R|E)SI to byte at&#160;address (R|E)DI. The status&#160;</p>
<p style="position:absolute;top:216px;left:514px;white-space:nowrap" class="ft04">flags are&#160;set accordingly.</p>
<p style="position:absolute;top:238px;left:75px;white-space:nowrap" class="ft04">A7</p>
<p style="position:absolute;top:238px;left:196px;white-space:nowrap" class="ft04">CMPS&#160;<i>m16</i>,&#160;<i>m16</i></p>
<p style="position:absolute;top:238px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:238px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:238px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:238px;left:514px;white-space:nowrap" class="ft04">For&#160;legacy mode, compare word&#160;at address DS:(E)SI&#160;</p>
<p style="position:absolute;top:254px;left:514px;white-space:nowrap" class="ft04">with word&#160;at address ES:(E)DI; For 64-bit mode&#160;</p>
<p style="position:absolute;top:271px;left:514px;white-space:nowrap" class="ft04">compare word&#160;at address (R|E)SI with word&#160;at address&#160;</p>
<p style="position:absolute;top:288px;left:514px;white-space:nowrap" class="ft04">(R|E)DI. The status flags are&#160;set accordingly.</p>
<p style="position:absolute;top:310px;left:75px;white-space:nowrap" class="ft04">A7</p>
<p style="position:absolute;top:310px;left:196px;white-space:nowrap" class="ft04">CMPS&#160;<i>m32, m32</i></p>
<p style="position:absolute;top:310px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:310px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:310px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:310px;left:514px;white-space:nowrap" class="ft04">For legacy mode, compare dword at&#160;address&#160;DS:(E)SI at&#160;</p>
<p style="position:absolute;top:326px;left:514px;white-space:nowrap" class="ft04">dword at&#160;address ES:(E)DI; For 64-bit&#160;mode&#160;compare&#160;</p>
<p style="position:absolute;top:343px;left:514px;white-space:nowrap" class="ft04">dword&#160;at&#160;address (R|E)SI at&#160;dword at&#160;address&#160;(R|E)DI.&#160;</p>
<p style="position:absolute;top:360px;left:514px;white-space:nowrap" class="ft04">The status&#160;flags are set accordingly.</p>
<p style="position:absolute;top:382px;left:75px;white-space:nowrap" class="ft04">REX.W + A7</p>
<p style="position:absolute;top:382px;left:196px;white-space:nowrap" class="ft04">CMPS&#160;<i>m64, m64</i></p>
<p style="position:absolute;top:382px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:382px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:382px;left:444px;white-space:nowrap" class="ft04">N.E.</p>
<p style="position:absolute;top:382px;left:514px;white-space:nowrap" class="ft04">Compares quadword&#160;at address (R|E)SI with quadword&#160;</p>
<p style="position:absolute;top:399px;left:514px;white-space:nowrap" class="ft04">at address (R|E)DI and&#160;sets&#160;the status flags accordingly.</p>
<p style="position:absolute;top:421px;left:75px;white-space:nowrap" class="ft04">A6</p>
<p style="position:absolute;top:421px;left:197px;white-space:nowrap" class="ft04">CMPSB</p>
<p style="position:absolute;top:421px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:421px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:421px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:421px;left:514px;white-space:nowrap" class="ft04">For&#160;legacy mode, compare&#160;byte&#160;at&#160;address&#160;DS:(E)SI&#160;with&#160;</p>
<p style="position:absolute;top:438px;left:514px;white-space:nowrap" class="ft04">byte at&#160;address&#160;ES:(E)DI; For&#160;64-bit mode&#160;compare&#160;byte&#160;</p>
<p style="position:absolute;top:454px;left:514px;white-space:nowrap" class="ft04">at address (R|E)SI with byte&#160;at address (R|E)DI. The&#160;</p>
<p style="position:absolute;top:471px;left:514px;white-space:nowrap" class="ft04">status flags are set accordingly.</p>
<p style="position:absolute;top:493px;left:75px;white-space:nowrap" class="ft04">A7</p>
<p style="position:absolute;top:493px;left:196px;white-space:nowrap" class="ft04">CMPSW</p>
<p style="position:absolute;top:493px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:493px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:493px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:493px;left:514px;white-space:nowrap" class="ft04">For legacy mode,&#160;compare word&#160;at address DS:(E)SI&#160;</p>
<p style="position:absolute;top:510px;left:514px;white-space:nowrap" class="ft04">with word&#160;at address ES:(E)DI; For 64-bit mode&#160;</p>
<p style="position:absolute;top:526px;left:514px;white-space:nowrap" class="ft04">compare word&#160;at address (R|E)SI with word&#160;at address&#160;</p>
<p style="position:absolute;top:543px;left:514px;white-space:nowrap" class="ft04">(R|E)DI. The status flags are&#160;set accordingly.</p>
<p style="position:absolute;top:565px;left:75px;white-space:nowrap" class="ft04">A7</p>
<p style="position:absolute;top:565px;left:196px;white-space:nowrap" class="ft04">CMPSD</p>
<p style="position:absolute;top:565px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:565px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:565px;left:444px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:565px;left:514px;white-space:nowrap" class="ft04">For&#160;legacy mode, compare dword at&#160;address&#160;DS:(E)SI&#160;</p>
<p style="position:absolute;top:582px;left:514px;white-space:nowrap" class="ft04">with dword at&#160;address ES:(E)DI; For 64-bit&#160;mode&#160;</p>
<p style="position:absolute;top:598px;left:514px;white-space:nowrap" class="ft04">compare&#160;dword&#160;at address (R|E)SI with dword at&#160;</p>
<p style="position:absolute;top:615px;left:514px;white-space:nowrap" class="ft04">address (R|E)DI. The status flags are set accordingly.</p>
<p style="position:absolute;top:637px;left:75px;white-space:nowrap" class="ft04">REX.W&#160;+ A7</p>
<p style="position:absolute;top:637px;left:197px;white-space:nowrap" class="ft04">CMPSQ</p>
<p style="position:absolute;top:637px;left:335px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:637px;left:372px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:637px;left:444px;white-space:nowrap" class="ft04">N.E.</p>
<p style="position:absolute;top:637px;left:514px;white-space:nowrap" class="ft04">Compares quadword&#160;at address (R|E)SI with quadword&#160;</p>
<p style="position:absolute;top:654px;left:514px;white-space:nowrap" class="ft04">at address (R|E)DI and&#160;sets&#160;the status flags accordingly.</p>
<p style="position:absolute;top:730px;left:86px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:730px;left:193px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:730px;left:368px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:730px;left:542px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:730px;left:717px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:754px;left:95px;white-space:nowrap" class="ft04">NP</p>
<p style="position:absolute;top:754px;left:214px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:754px;left:389px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:754px;left:563px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:754px;left:738px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
