<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1086</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1086-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811086.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:414px;white-space:nowrap" class="ft00">PREFETCHWT1—Prefetch&#160;Vector Data&#160;Into Caches&#160;with Intent&#160;to Write&#160;and T1 Hint</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, M-U</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-406&#160;Vol. 2B</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">PREFETCHWT1—Prefetch Vector Data Into&#160;Caches with Intent&#160;to&#160;Write and T1 Hint</p>
<p style="position:absolute;top:251px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:336px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:361px;left:68px;white-space:nowrap" class="ft06">Fetches the line&#160;of data from memory that&#160;contains&#160;the&#160;byte&#160;specified with&#160;the source&#160;operand to a&#160;location in&#160;the&#160;<br/>cache&#160;hierarchy specified by an intent&#160;to write&#160;hint&#160;(so that data&#160;is brought into ‘Exclusive’&#160;state&#160;via&#160;a request&#160;for&#160;<br/>ownership) and&#160;a locality&#160;hint:<br/>• T1 (temporal&#160;data with respect&#160;to first level&#160;cache)—prefetch&#160;data&#160;into&#160;the second level&#160;cache.<br/>The source&#160;operand is&#160;a byte&#160;memory location. (The locality hints are&#160;encoded&#160;into&#160;the machine&#160;level instruction&#160;<br/>using bits 3 through 5&#160;of&#160;the&#160;ModR/M&#160;byte.&#160;Use of any&#160;ModR/M value&#160;other than the&#160;specified ones&#160;will&#160;lead to&#160;<br/>unpredictable behavior.)<br/>If the&#160;line selected&#160;is&#160;already present&#160;in&#160;the cache&#160;hierarchy at&#160;a level closer to&#160;the processor,&#160;no&#160;data&#160;movement&#160;<br/>occurs. Prefetches from uncacheable&#160;or WC memory are&#160;ignored.<br/>The PREFETCHh&#160;instruction&#160;is merely&#160;a hint and&#160;does not&#160;affect&#160;program&#160;behavior. If executed, this&#160;instruction&#160;<br/>moves&#160;data closer to&#160;the processor in anticipation of future use.<br/>The implementation&#160;of prefetch locality hints is implementation-dependent,&#160;and can be&#160;overloaded or ignored by a&#160;<br/>processor implementation. The amount of data prefetched&#160;is&#160;also processor implementation-dependent.&#160;It will,&#160;<br/>however,&#160;be a&#160;minimum of&#160;32 bytes.<br/>It should&#160;be&#160;noted that&#160;processors&#160;are free&#160;to speculatively fetch&#160;and cache&#160;data&#160;from system&#160;memory regions that&#160;<br/>are assigned a&#160;memory-type that&#160;permits&#160;speculative&#160;reads&#160;(that is, the&#160;WB, WC,&#160;and&#160;WT memory types).&#160;A&#160;<br/>PREFETCHh instruction is considered a&#160;hint to&#160;this&#160;speculative behavior. Because&#160;this speculative fetching can occur&#160;<br/>at any&#160;time and is&#160;not&#160;tied&#160;to instruction execution,&#160;a&#160;PREFETCHh instruction is&#160;not ordered&#160;with&#160;respect to the&#160;<br/>fence instructions (MFENCE,&#160;SFENCE, and LFENCE) or&#160;locked&#160;memory references. A&#160;PREFETCHh instruction is also&#160;<br/>unordered with&#160;respect to&#160;CLFLUSH and&#160;CLFLUSHOPT instructions, other&#160;PREFETCHh instructions,&#160;or any&#160;other&#160;<br/>general instruction.&#160;It is&#160;ordered with respect to&#160;serializing instructions such&#160;as CPUID,&#160;WRMSR,&#160;OUT,&#160;and&#160;MOV&#160;CR.<br/>This&#160;instruction’s operation is&#160;the&#160;same in non-64-bit modes and&#160;64-bit mode.</p>
<p style="position:absolute;top:785px;left:68px;white-space:nowrap" class="ft03">Operation</p>
<p style="position:absolute;top:805px;left:68px;white-space:nowrap" class="ft04">PREFETCH(mem,&#160;Level, State)&#160;Prefetches a&#160;byte&#160;memory&#160;location&#160;pointed&#160;by&#160;‘mem’ into&#160;the cache&#160;level specified&#160;by ‘Level’; a&#160;request&#160;</p>
<p style="position:absolute;top:822px;left:68px;white-space:nowrap" class="ft04">for&#160;exclusive/ownership is&#160;done&#160;if&#160;‘State’&#160;is&#160;1. Note&#160;that&#160;the&#160;memory&#160;location&#160;ignore&#160;cache line splits. This operation&#160;is considered&#160;a&#160;</p>
<p style="position:absolute;top:838px;left:68px;white-space:nowrap" class="ft04">hint&#160;for the&#160;processor and may be&#160;skipped depending on&#160;implementation.</p>
<p style="position:absolute;top:874px;left:68px;white-space:nowrap" class="ft04">Prefetch (m8,&#160;Level = 1, EXCLUSIVE=1);</p>
<p style="position:absolute;top:910px;left:68px;white-space:nowrap" class="ft03">Flags Affected</p>
<p style="position:absolute;top:934px;left:68px;white-space:nowrap" class="ft04">All&#160;flags are affected</p>
<p style="position:absolute;top:970px;left:68px;white-space:nowrap" class="ft03">C/C++&#160;Compiler Intrinsic Equivalent</p>
<p style="position:absolute;top:997px;left:68px;white-space:nowrap" class="ft04">void&#160;_mm_prefetch(&#160;char&#160;const *,&#160;int hint= _MM_HINT_ET1);</p>
<p style="position:absolute;top:1030px;left:68px;white-space:nowrap" class="ft03">Protected Mode Exceptions</p>
<p style="position:absolute;top:1053px;left:68px;white-space:nowrap" class="ft04">#UD&#160;</p>
<p style="position:absolute;top:1053px;left:206px;white-space:nowrap" class="ft04">If the&#160;LOCK prefix&#160;is used.</p>
<p style="position:absolute;top:132px;left:77px;white-space:nowrap" class="ft04">Opcode/</p>
<p style="position:absolute;top:148px;left:77px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:132px;left:258px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:148px;left:258px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:132px;left:299px;white-space:nowrap" class="ft04">64/32&#160;bit&#160;</p>
<p style="position:absolute;top:148px;left:299px;white-space:nowrap" class="ft04">Mode&#160;</p>
<p style="position:absolute;top:164px;left:299px;white-space:nowrap" class="ft04">Support</p>
<p style="position:absolute;top:132px;left:378px;white-space:nowrap" class="ft04">CPUID Feature&#160;</p>
<p style="position:absolute;top:148px;left:378px;white-space:nowrap" class="ft04">Flag</p>
<p style="position:absolute;top:132px;left:484px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:184px;left:77px;white-space:nowrap" class="ft04">0F&#160;0D&#160;/2</p>
<p style="position:absolute;top:200px;left:77px;white-space:nowrap" class="ft04">PREFETCHWT1 m8</p>
<p style="position:absolute;top:184px;left:258px;white-space:nowrap" class="ft04">M</p>
<p style="position:absolute;top:184px;left:299px;white-space:nowrap" class="ft04">V/V</p>
<p style="position:absolute;top:184px;left:378px;white-space:nowrap" class="ft04">PREFETCHWT1</p>
<p style="position:absolute;top:184px;left:484px;white-space:nowrap" class="ft04">Move&#160;data&#160;from&#160;m8 closer to&#160;the&#160;processor using T1 hint&#160;</p>
<p style="position:absolute;top:200px;left:484px;white-space:nowrap" class="ft04">with intent&#160;to&#160;write.</p>
<p style="position:absolute;top:274px;left:96px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:274px;left:210px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:274px;left:376px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:274px;left:546px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:274px;left:719px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:298px;left:109px;white-space:nowrap" class="ft04">M</p>
<p style="position:absolute;top:298px;left:199px;white-space:nowrap" class="ft04">ModRM:r/m&#160;&#160;(r)</p>
<p style="position:absolute;top:298px;left:397px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:298px;left:568px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:298px;left:740px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
