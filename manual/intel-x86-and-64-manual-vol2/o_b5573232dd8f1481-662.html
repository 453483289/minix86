<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 662</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
	.ft011{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page662-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f1481662.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:662px;white-space:nowrap" class="ft00">LMSW‚ÄîLoad Machine&#160;Status Word</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, A-L</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">3-534&#160;Vol. 2A</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">LMSW‚ÄîLoad Machine Status Word</p>
<p style="position:absolute;top:217px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:300px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:325px;left:68px;white-space:nowrap" class="ft06">Loads&#160;the source operand into&#160;the machine status&#160;word,&#160;bits&#160;0 through 15&#160;of register&#160;CR0.&#160;The source&#160;operand can&#160;<br/>be a 16-bit general-purpose&#160;register&#160;or a memory location.&#160;Only the low-order 4 bits&#160;of the source operand&#160;(which&#160;<br/>contains&#160;the PE, MP,&#160;EM,&#160;and TS&#160;flags) are loaded into&#160;CR0.&#160;The&#160;PG,&#160;CD,&#160;NW,&#160;AM,&#160;WP,&#160;NE,&#160;and ET&#160;flags of CR0&#160;are&#160;<br/>not affected. The operand-size&#160;attribute&#160;has no effect&#160;on this instruction.<br/>If the&#160;PE flag&#160;of&#160;the source&#160;operand (bit 0)&#160;is set to&#160;1,&#160;the&#160;instruction causes&#160;the processor to&#160;switch&#160;to protected&#160;<br/>mode. While&#160;in protected&#160;mode, the&#160;LMSW instruction cannot&#160;be used to&#160;clear the&#160;PE&#160;flag&#160;and&#160;force&#160;a switch back&#160;<br/>to real-address&#160;mode.<br/>The&#160;LMSW instruction is&#160;provided&#160;for use&#160;in operating-system&#160;software; it&#160;should not be used in&#160;application&#160;<br/>programs.&#160;In&#160;protected&#160;or virtual-8086 mode,&#160;it&#160;can only be&#160;executed&#160;at&#160;CPL&#160;0.<br/>This instruction&#160;is provided&#160;for compatibility with the&#160;Intel&#160;286&#160;processor;&#160;programs&#160;and procedures&#160;intended&#160;to&#160;<br/>run&#160;on IA-32 and&#160;Intel 64 processors beginning&#160;with Intel386&#160;processors&#160;should use&#160;the&#160;MOV&#160;(control&#160;registers)&#160;<br/>instruction&#160;to load the&#160;whole CR0 register.&#160;The MOV CR0 instruction can be used&#160;to set and clear the&#160;PE flag in CR0,&#160;<br/>allowing a&#160;procedure&#160;or program to&#160;switch&#160;between protected&#160;and real-address&#160;modes.<br/>This instruction&#160;is a&#160;serializing instruction.<br/>This&#160;instruction‚Äôs operation is&#160;the&#160;same in non-64-bit modes and&#160;64-bit mode.&#160;Note&#160;that the&#160;operand&#160;size&#160;is&#160;fixed&#160;<br/>at 16 bits.<br/>See ‚ÄúChanges to Instruction Behavior in VMX&#160;Non-Root Oper<a href="˛ˇ">ation‚Äù in Chapter 25&#160;of the&#160;<i>Intel¬Æ 64&#160;and IA-32&#160;Archi-<br/>tectures&#160;Software Developer‚Äôs Manual, Volume&#160;3C</i>, for mo</a>re&#160;information about&#160;the behavior&#160;of&#160;this instruction in&#160;<br/>VMX&#160;non-root operation.</p>
<p style="position:absolute;top:701px;left:68px;white-space:nowrap" class="ft03">Operation</p>
<p style="position:absolute;top:732px;left:68px;white-space:nowrap" class="ft04">CR0[0:3]&#160;‚Üê&#160;SRC[0:3];</p>
<p style="position:absolute;top:766px;left:68px;white-space:nowrap" class="ft03">Flags Affected</p>
<p style="position:absolute;top:790px;left:68px;white-space:nowrap" class="ft04">None</p>
<p style="position:absolute;top:824px;left:68px;white-space:nowrap" class="ft03">Protected Mode Exceptions</p>
<p style="position:absolute;top:847px;left:68px;white-space:nowrap" class="ft04">#GP(0)</p>
<p style="position:absolute;top:847px;left:206px;white-space:nowrap" class="ft011">If&#160;the current&#160;privilege level&#160;is not 0.<br/>If&#160;a memory operand effective&#160;address is&#160;outside&#160;the CS,&#160;DS, ES,&#160;FS,&#160;or GS segment limit.<br/>If&#160;the&#160;DS,&#160;ES,&#160;FS,&#160;or GS&#160;register&#160;is used&#160;to&#160;access memory and&#160;it contains&#160;a NULL segment&#160;</p>
<p style="position:absolute;top:906px;left:205px;white-space:nowrap" class="ft04">selector.</p>
<p style="position:absolute;top:927px;left:68px;white-space:nowrap" class="ft04">#SS(0)</p>
<p style="position:absolute;top:927px;left:206px;white-space:nowrap" class="ft04">If a&#160;memory&#160;operand&#160;effective&#160;address&#160;is outside&#160;the&#160;SS&#160;segment limit.</p>
<p style="position:absolute;top:948px;left:68px;white-space:nowrap" class="ft04">#PF(fault-code)</p>
<p style="position:absolute;top:948px;left:206px;white-space:nowrap" class="ft04">If a&#160;page fault occurs.</p>
<p style="position:absolute;top:969px;left:68px;white-space:nowrap" class="ft04">#UD&#160;</p>
<p style="position:absolute;top:969px;left:206px;white-space:nowrap" class="ft04">If the&#160;LOCK prefix&#160;is used.</p>
<p style="position:absolute;top:1003px;left:68px;white-space:nowrap" class="ft03">Real-Address&#160;Mode&#160;Exceptions</p>
<p style="position:absolute;top:1026px;left:68px;white-space:nowrap" class="ft04">#GP</p>
<p style="position:absolute;top:1026px;left:206px;white-space:nowrap" class="ft04">If&#160;a memory operand effective&#160;address is&#160;outside&#160;the CS,&#160;DS, ES,&#160;FS,&#160;or GS segment limit.</p>
<p style="position:absolute;top:1047px;left:68px;white-space:nowrap" class="ft04">#UD&#160;</p>
<p style="position:absolute;top:1047px;left:206px;white-space:nowrap" class="ft04">If the&#160;LOCK prefix&#160;is used.</p>
<p style="position:absolute;top:123px;left:74px;white-space:nowrap" class="ft04">Opcode</p>
<p style="position:absolute;top:123px;left:220px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:385px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:385px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:423px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:423px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:495px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:495px;white-space:nowrap" class="ft04">Leg&#160;Mode</p>
<p style="position:absolute;top:123px;left:565px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:74px;white-space:nowrap" class="ft04">0F&#160;01 /6</p>
<p style="position:absolute;top:160px;left:220px;white-space:nowrap" class="ft04">LMSW&#160;<i>r/m</i>16</p>
<p style="position:absolute;top:160px;left:385px;white-space:nowrap" class="ft04">M</p>
<p style="position:absolute;top:160px;left:423px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:495px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:565px;white-space:nowrap" class="ft04">Loads<i>&#160;r/m</i>16 in machine status&#160;word of CR0.</p>
<p style="position:absolute;top:240px;left:91px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:240px;left:200px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:240px;left:372px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:240px;left:544px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:240px;left:717px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:263px;left:103px;white-space:nowrap" class="ft04">M</p>
<p style="position:absolute;top:263px;left:189px;white-space:nowrap" class="ft04">ModRM:r/m&#160;&#160;(r)</p>
<p style="position:absolute;top:263px;left:393px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:263px;left:565px;white-space:nowrap" class="ft04">NA</p>
<p style="position:absolute;top:263px;left:738px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
