<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 1106</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:12px;font-family:Times;color:#0860a8;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:21px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page1106-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_b5573232dd8f14811106.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:672px;white-space:nowrap" class="ft00">PSHUFW‚ÄîShuffle Packed Words</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">INSTRUCTION SET REFERENCE, M-U</p>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">4-426&#160;Vol. 2B</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">PSHUFW‚ÄîShuffle Packed Words</p>
<p style="position:absolute;top:237px;left:353px;white-space:nowrap" class="ft03">Instruction&#160;Operand&#160;Encoding</p>
<p style="position:absolute;top:325px;left:68px;white-space:nowrap" class="ft03">Description</p>
<p style="position:absolute;top:351px;left:68px;white-space:nowrap" class="ft06">Copies words&#160;from&#160;the&#160;source&#160;operand (second operand) and inserts&#160;them in the&#160;destination&#160;operand (first&#160;<br/>operand) at&#160;word locations selected with the&#160;order operand&#160;(third&#160;operand). This operation is&#160;similar to&#160;the&#160;opera-<br/>tion used by the&#160;PSHUFD&#160;instruction, which is&#160;illustra<a href="o_b5573232dd8f1481-1097.html">ted in Figure&#160;4-16.</a>&#160;For the&#160;PSHUFW&#160;instruction, each&#160;2-bit&#160;<br/>field in&#160;the&#160;order&#160;operand&#160;selects&#160;the contents of one word&#160;location in&#160;the&#160;destination operand.&#160;The&#160;encodings&#160;of the&#160;<br/>order&#160;operand fields select words&#160;from the&#160;source operand&#160;to be copied&#160;to the&#160;destination&#160;operand.<br/>The source&#160;operand can&#160;be an&#160;MMX technology&#160;register or&#160;a&#160;64-bit memory location. The&#160;destination operand&#160;is an&#160;<br/>MMX&#160;technology&#160;register. The order&#160;operand is&#160;an 8-bit immediate.&#160;Note&#160;that this&#160;instruction&#160;permits a&#160;word in the&#160;<br/>source operand&#160;to be copied&#160;to more than&#160;one word&#160;location&#160;in&#160;the destination operand.<br/>In&#160;64-bit mode, using&#160;a REX prefix&#160;in&#160;the&#160;form&#160;of REX.R permits this&#160;instruction&#160;to access additional registers&#160;<br/>(XMM8-XMM15).</p>
<p style="position:absolute;top:551px;left:68px;white-space:nowrap" class="ft03">Operation</p>
<p style="position:absolute;top:577px;left:68px;white-space:nowrap" class="ft04">DEST[15:0]&#160;‚Üê&#160;(SRC &gt;&gt;&#160;(ORDER[1:0] * 16))[15:0];</p>
<p style="position:absolute;top:595px;left:68px;white-space:nowrap" class="ft04">DEST[31:16]&#160;‚Üê&#160;(SRC &gt;&gt; (ORDER[3:2] * 16))[15:0];</p>
<p style="position:absolute;top:613px;left:68px;white-space:nowrap" class="ft04">DEST[47:32]&#160;‚Üê&#160;(SRC &gt;&gt; (ORDER[5:4] * 16))[15:0];</p>
<p style="position:absolute;top:631px;left:68px;white-space:nowrap" class="ft04">DEST[63:48]&#160;‚Üê&#160;(SRC &gt;&gt; (ORDER[7:6] * 16))[15:0];</p>
<p style="position:absolute;top:668px;left:68px;white-space:nowrap" class="ft03">Intel C/C++&#160;Compiler&#160;Intrinsic Equivalent</p>
<p style="position:absolute;top:696px;left:68px;white-space:nowrap" class="ft04">PSHUFW:</p>
<p style="position:absolute;top:696px;left:152px;white-space:nowrap" class="ft04">__m64&#160;_mm_shuffle_pi16(__m64 a, int n)</p>
<p style="position:absolute;top:730px;left:68px;white-space:nowrap" class="ft03">Flags Affected</p>
<p style="position:absolute;top:756px;left:68px;white-space:nowrap" class="ft04">None.</p>
<p style="position:absolute;top:793px;left:68px;white-space:nowrap" class="ft03">Numeric Exceptions</p>
<p style="position:absolute;top:819px;left:68px;white-space:nowrap" class="ft04">None.</p>
<p style="position:absolute;top:856px;left:68px;white-space:nowrap" class="ft03">Other&#160;Exceptions</p>
<p style="position:absolute;top:879px;left:68px;white-space:nowrap" class="ft09">Se<a href="˛ˇ">e&#160;Table&#160;22-7,&#160;‚ÄúException Conditions for SIMD/MMX&#160;Instructions with Memory&#160;Reference,‚Äù in the&#160;<i>Intel¬Æ&#160;64 and&#160;<br/>IA-32&#160;Architectures&#160;Software Developer‚Äôs Manual, Volume&#160;3A</i>.</a></p>
<p style="position:absolute;top:123px;left:73px;white-space:nowrap" class="ft04">Opcode/</p>
<p style="position:absolute;top:137px;left:73px;white-space:nowrap" class="ft04">Instruction</p>
<p style="position:absolute;top:123px;left:387px;white-space:nowrap" class="ft04">Op/&#160;</p>
<p style="position:absolute;top:137px;left:387px;white-space:nowrap" class="ft04">En</p>
<p style="position:absolute;top:123px;left:424px;white-space:nowrap" class="ft04">64-Bit&#160;</p>
<p style="position:absolute;top:137px;left:424px;white-space:nowrap" class="ft04">Mode</p>
<p style="position:absolute;top:123px;left:496px;white-space:nowrap" class="ft04">Compat/</p>
<p style="position:absolute;top:137px;left:496px;white-space:nowrap" class="ft04">Leg Mode</p>
<p style="position:absolute;top:123px;left:566px;white-space:nowrap" class="ft04">Description</p>
<p style="position:absolute;top:160px;left:73px;white-space:nowrap" class="ft010">0F&#160;70&#160;/<i>r</i>&#160;ib<br/>PSHUFW&#160;<i>mm1, mm2/m64, imm8</i></p>
<p style="position:absolute;top:160px;left:387px;white-space:nowrap" class="ft04">RMI&#160;Valid&#160;</p>
<p style="position:absolute;top:160px;left:496px;white-space:nowrap" class="ft04">Valid</p>
<p style="position:absolute;top:160px;left:566px;white-space:nowrap" class="ft04">Shuffle&#160;the words in&#160;<i>mm2/m64</i>&#160;based&#160;on&#160;the&#160;</p>
<p style="position:absolute;top:177px;left:566px;white-space:nowrap" class="ft04">encoding&#160;in&#160;<i>imm8</i>&#160;and&#160;store the result in&#160;<i>mm1</i>.</p>
<p style="position:absolute;top:261px;left:85px;white-space:nowrap" class="ft04">Op/En</p>
<p style="position:absolute;top:261px;left:192px;white-space:nowrap" class="ft04">Operand&#160;1</p>
<p style="position:absolute;top:261px;left:368px;white-space:nowrap" class="ft04">Operand&#160;2</p>
<p style="position:absolute;top:261px;left:543px;white-space:nowrap" class="ft04">Operand&#160;3</p>
<p style="position:absolute;top:261px;left:716px;white-space:nowrap" class="ft04">Operand&#160;4</p>
<p style="position:absolute;top:285px;left:92px;white-space:nowrap" class="ft04">RMI</p>
<p style="position:absolute;top:285px;left:180px;white-space:nowrap" class="ft04">ModRM:reg&#160;(w)</p>
<p style="position:absolute;top:285px;left:358px;white-space:nowrap" class="ft04">ModRM:r/m&#160;(r)</p>
<p style="position:absolute;top:285px;left:557px;white-space:nowrap" class="ft04">imm8</p>
<p style="position:absolute;top:285px;left:737px;white-space:nowrap" class="ft04">NA</p>
</div>
</body>
</html>
