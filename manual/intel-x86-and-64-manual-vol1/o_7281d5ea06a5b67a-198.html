<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 198</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:14px;font-family:Times;color:#0860a8;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:3px;font-family:Times;color:#000000;}
	.ft06{font-size:12px;font-family:Times;color:#0860a8;}
	.ft07{font-size:9px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:9px;line-height:13px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page198-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a198.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">8-8&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH THE X87 FPU</p>
<p style="position:absolute;top:264px;left:68px;white-space:nowrap" class="ft08">The&#160;double&#160;precision&#160;and single precision settings reduce&#160;the&#160;size&#160;of&#160;the significand&#160;to&#160;53&#160;bits and&#160;24&#160;bits,&#160;respec-<br/>tively. These&#160;settings&#160;are provided&#160;to&#160;support&#160;IEEE&#160;Standard&#160;754&#160;and&#160;to provide&#160;compatibility with&#160;the specifica-<br/>tions&#160;of&#160;certain existing programming languages.&#160;Using these settings nullifies the&#160;advantages of&#160;the&#160;double&#160;<br/>extended-precision&#160;floating-point&#160;format's 64-bit significand length. When&#160;reduced&#160;precision is&#160;specified, the&#160;<br/>rounding of the significand&#160;value clears&#160;the unused bits&#160;on the&#160;right to&#160;zeros.&#160;<br/>The&#160;precision-control bits only affect the&#160;results&#160;of&#160;the&#160;following floating-point&#160;instructions:&#160;FADD, FADDP,&#160;FIADD,&#160;<br/>FSUB, FSUBP,&#160;FISUB,&#160;FSUBR, FSUBRP,&#160;FISUBR,&#160;FMUL, FMULP,&#160;FIMUL, FDIV,&#160;FDIVP,&#160;FIDIV,&#160;FDIVR, FDIVRP,&#160;FIDIVR,&#160;<br/>and FSQRT.</p>
<p style="position:absolute;top:431px;left:68px;white-space:nowrap" class="ft03">8.1.5.3&#160;&#160;</p>
<p style="position:absolute;top:431px;left:152px;white-space:nowrap" class="ft03">Rounding Control&#160;Field</p>
<p style="position:absolute;top:460px;left:68px;white-space:nowrap" class="ft08">The rounding-control&#160;(RC) field of&#160;the x87 FPU control&#160;register (bits 10&#160;and&#160;11)&#160;controls how the results of x87 FPU&#160;<br/>floating-point instructions are rounded.&#160;<a href="o_7281d5ea06a5b67a-101.html">See Section 4.8.4,&#160;“Rounding,” f</a>or a&#160;discussion&#160;of&#160;rounding&#160;of floating-<br/>point values;&#160;Se<a href="o_7281d5ea06a5b67a-102.html">e Section 4.8.4.1,&#160;“Rounding&#160;Control&#160;(RC) Fields”,</a>&#160;for&#160;the encodings of&#160;the RC field.</p>
<p style="position:absolute;top:543px;left:68px;white-space:nowrap" class="ft04">8.1.6 Infinity&#160;</p>
<p style="position:absolute;top:543px;left:211px;white-space:nowrap" class="ft04">Control&#160;</p>
<p style="position:absolute;top:543px;left:273px;white-space:nowrap" class="ft04">Flag</p>
<p style="position:absolute;top:574px;left:68px;white-space:nowrap" class="ft08">The infinity&#160;control flag&#160;(bit&#160;12&#160;of&#160;the x87 FPU&#160;control&#160;word)&#160;is provided&#160;for compatibility with the&#160;Intel&#160;287&#160;Math&#160;<br/>Coprocessor; it is not meaningful for later version x87 FPU coprocessors or IA-32 processors.&#160;Se<a href="o_7281d5ea06a5b67a-99.html">e Section 4.8.3.3,&#160;<br/>“Signed&#160;Infinities,”</a>&#160;for information&#160;on&#160;how&#160;the x87&#160;FPUs&#160;handle infinity&#160;values.</p>
<p style="position:absolute;top:657px;left:68px;white-space:nowrap" class="ft04">8.1.7&#160;</p>
<p style="position:absolute;top:657px;left:148px;white-space:nowrap" class="ft04">x87 FPU Tag Word</p>
<p style="position:absolute;top:688px;left:68px;white-space:nowrap" class="ft08">The&#160;16-bit tag&#160;word&#160;(see<a href="o_7281d5ea06a5b67a-198.html">&#160;Figure&#160;8-7) i</a>ndicates&#160;the&#160;contents&#160;of each&#160;the 8 registers&#160;in&#160;the x87 FPU&#160;data-register&#160;<br/>stack (one&#160;2-bit&#160;tag&#160;per&#160;register). The tag codes indicate whether a&#160;register contains a&#160;valid&#160;number, zero,&#160;or a&#160;<br/>special floating-point&#160;number (NaN, infinity,&#160;denormal,&#160;or&#160;unsupported format),&#160;or whether it&#160;is empty.&#160;The x87&#160;<br/>FPU tag word is cached in&#160;the&#160;x87 FPU in&#160;the x87 FPU tag word register. When the&#160;x87&#160;FPU is initialized&#160;with either&#160;<br/>an&#160;FINIT/FNINIT or&#160;FSAVE/FNSAVE instruction,&#160;the x87 FPU&#160;tag word is&#160;set&#160;to FFFFH, which marks all&#160;the x87 FPU&#160;<br/>data registers&#160;as empty.</p>
<p style="position:absolute;top:800px;left:68px;white-space:nowrap" class="ft05">.</p>
<p style="position:absolute;top:1020px;left:68px;white-space:nowrap" class="ft08">Each&#160;tag in&#160;the x87&#160;FPU tag word corresponds&#160;to&#160;a physical register&#160;(numbers 0&#160;through 7). The current&#160;top-of-<br/>stack (TOP) pointer stored&#160;in the x87&#160;FPU status&#160;word can be&#160;used&#160;to associate&#160;tags&#160;with registers&#160;relative&#160;to ST(0).</p>
<p style="position:absolute;top:105px;left:325px;white-space:nowrap" class="ft06">Table 8-2. &#160;Precision&#160;Control Field (PC)</p>
<p style="position:absolute;top:127px;left:73px;white-space:nowrap" class="ft02">Precision</p>
<p style="position:absolute;top:127px;left:457px;white-space:nowrap" class="ft02">PC Field</p>
<p style="position:absolute;top:150px;left:73px;white-space:nowrap" class="ft02">Single&#160;Precision&#160;(24 bits)</p>
<p style="position:absolute;top:150px;left:457px;white-space:nowrap" class="ft02">00B</p>
<p style="position:absolute;top:172px;left:73px;white-space:nowrap" class="ft02">Reserved</p>
<p style="position:absolute;top:172px;left:457px;white-space:nowrap" class="ft02">01B</p>
<p style="position:absolute;top:195px;left:73px;white-space:nowrap" class="ft02">Double Precision (53&#160;bits)</p>
<p style="position:absolute;top:195px;left:457px;white-space:nowrap" class="ft02">10B</p>
<p style="position:absolute;top:217px;left:73px;white-space:nowrap" class="ft02">Double Extended&#160;Precision&#160;(64 bits)</p>
<p style="position:absolute;top:217px;left:457px;white-space:nowrap" class="ft02">11B</p>
<p style="position:absolute;top:974px;left:351px;white-space:nowrap" class="ft06">Figure&#160;8-7.&#160; x87&#160;FPU&#160;Tag&#160;Word</p>
<p style="position:absolute;top:829px;left:652px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:829px;left:248px;white-space:nowrap" class="ft00">15</p>
<p style="position:absolute;top:886px;left:279px;white-space:nowrap" class="ft07"><b>TAG&#160;Values</b></p>
<p style="position:absolute;top:853px;left:255px;white-space:nowrap" class="ft00">TAG(7)</p>
<p style="position:absolute;top:853px;left:357px;white-space:nowrap" class="ft00">TAG(5)</p>
<p style="position:absolute;top:853px;left:307px;white-space:nowrap" class="ft00">TAG(6)</p>
<p style="position:absolute;top:853px;left:409px;white-space:nowrap" class="ft00">TAG(4)</p>
<p style="position:absolute;top:853px;left:460px;white-space:nowrap" class="ft00">TAG(3)</p>
<p style="position:absolute;top:853px;left:511px;white-space:nowrap" class="ft00">TAG(2)</p>
<p style="position:absolute;top:853px;left:562px;white-space:nowrap" class="ft00">TAG(1)</p>
<p style="position:absolute;top:853px;left:614px;white-space:nowrap" class="ft00">TAG(0)</p>
<p style="position:absolute;top:900px;left:292px;white-space:nowrap" class="ft010">00 —&#160;Valid<br/>01 —&#160;Zero<br/>10 —&#160;Special: invalid (NaN, unsupported), infinity, or&#160;denormal<br/>11&#160;—&#160;Empty</p>
</div>
</body>
</html>
