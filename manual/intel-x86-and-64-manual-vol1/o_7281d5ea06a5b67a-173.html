<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 173</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:16px;font-family:Times;color:#0860a8;}
	.ft06{font-size:18px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page173-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a173.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:782px;white-space:nowrap" class="ft00">Vol. 1&#160;7-9</p>
<p style="position:absolute;top:47px;left:510px;white-space:nowrap" class="ft01">PROGRAMMING WITH GENERAL-PURPOSE INSTRUCTIONS</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">7.3.2.5 &#160;</p>
<p style="position:absolute;top:99px;left:153px;white-space:nowrap" class="ft02">Multiplication and&#160;Division Instructions</p>
<p style="position:absolute;top:127px;left:69px;white-space:nowrap" class="ft010">The processor provides two multiply&#160;instructions, MUL (unsigned multiply) and&#160;IMUL&#160;(signed multiply),&#160;and two&#160;<br/>divide instructions, DIV&#160;(unsigned divide)&#160;and IDIV&#160;(signed divide).<br/>The&#160;MUL instruction multiplies two unsigned integer operands. The result&#160;is computed to&#160;twice the&#160;size of the&#160;<br/>source operands&#160;(for&#160;example,&#160;if word&#160;operands&#160;are&#160;being multiplied,&#160;the result&#160;is&#160;a doubleword).<br/>The IMUL instruction multiplies two signed&#160;integer operands.&#160;The&#160;result is computed to twice the size of the source&#160;<br/>operands;&#160;however,&#160;in&#160;some cases the&#160;result&#160;is truncated&#160;to the&#160;size of the source&#160;operands (see ‚ÄúIMUL‚ÄîSigned&#160;<br/>Multiply‚Äù in&#160;<a href="˛ˇ">Chapter 3, ‚ÄúInstruction Set Reference, A-L,‚Äù of the&#160;</a><i>Intel¬Æ 64&#160;and&#160;IA-32 Architectures Software&#160;Devel-<br/>oper‚Äôs&#160;Manual, Volume&#160;2A)</i>.<br/>The&#160;DIV instruction divides one&#160;unsigned&#160;operand by another&#160;unsigned&#160;operand and&#160;returns&#160;a quotient and&#160;a&#160;<br/>remainder.<br/>The&#160;IDIV instruction is&#160;identical&#160;to the&#160;DIV instruction,&#160;except that&#160;IDIV performs&#160;a signed&#160;division.</p>
<p style="position:absolute;top:373px;left:69px;white-space:nowrap" class="ft05">7.3.3&#160;</p>
<p style="position:absolute;top:373px;left:149px;white-space:nowrap" class="ft05">Decimal Arithmetic Instructions</p>
<p style="position:absolute;top:403px;left:69px;white-space:nowrap" class="ft07">Decimal arithmetic&#160;can be performed by combining the&#160;binary arithmetic&#160;instructions&#160;ADD,&#160;SUB,&#160;MUL, and DIV&#160;<br/>(discussed in&#160;<a href="o_7281d5ea06a5b67a-172.html">Section 7.3.2, ‚ÄúBinary Arithmetic Instructions‚Äù) with the de</a>cimal arithmetic instructions. The decimal&#160;<br/>arithmetic instructions are&#160;provided&#160;to&#160;carry&#160;out the&#160;following operations:</p>
<p style="position:absolute;top:458px;left:69px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:459px;left:95px;white-space:nowrap" class="ft03">To&#160;adjust&#160;the&#160;results of a&#160;previous binary&#160;arithmetic operation to&#160;produce&#160;a valid&#160;BCD result.</p>
<p style="position:absolute;top:481px;left:69px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:481px;left:95px;white-space:nowrap" class="ft07">To&#160;adjust&#160;the operands&#160;of&#160;a subsequent binary&#160;arithmetic&#160;operation&#160;so that the&#160;operation will produce a&#160;valid&#160;<br/>BCD result.&#160;</p>
<p style="position:absolute;top:522px;left:69px;white-space:nowrap" class="ft07">These instructions&#160;operate on both&#160;packed&#160;and unpacked&#160;BCD&#160;values.&#160;For&#160;the purpose&#160;of&#160;this discussion,&#160;the&#160;<br/>decimal&#160;arithmetic instructions are&#160;divided&#160;into subordinate&#160;subgroups&#160;of instructions that provide:</p>
<p style="position:absolute;top:560px;left:69px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:561px;left:95px;white-space:nowrap" class="ft03">Packed BCD adjustments</p>
<p style="position:absolute;top:583px;left:69px;white-space:nowrap" class="ft06">‚Ä¢</p>
<p style="position:absolute;top:583px;left:95px;white-space:nowrap" class="ft03">Unpacked BCD&#160;adjustments</p>
<p style="position:absolute;top:628px;left:69px;white-space:nowrap" class="ft02">7.3.3.1 &#160;</p>
<p style="position:absolute;top:628px;left:153px;white-space:nowrap" class="ft02">Packed&#160;BCD Adjustment&#160;Instructions</p>
<p style="position:absolute;top:656px;left:69px;white-space:nowrap" class="ft07">The&#160;DAA (decimal adjust&#160;after&#160;addition) and&#160;DAS&#160;(decimal&#160;adjust after&#160;subtraction) instructions adjust&#160;the&#160;results&#160;<br/>of&#160;operations&#160;performed&#160;on&#160;packed&#160;BCD&#160;integers&#160;<a href="o_7281d5ea06a5b67a-93.html">(see Section&#160;4.7,&#160;‚ÄúBCD&#160;and&#160;Packed&#160;BCD&#160;Integers‚Äù</a>).&#160;Adding&#160;two&#160;<br/>packed&#160;BCD&#160;values&#160;requires&#160;two instructions: an&#160;ADD instruction&#160;followed by a&#160;DAA&#160;instruction. The ADD instruc-<br/>tion adds (binary addition) the&#160;two&#160;values and&#160;stores the&#160;result&#160;in the&#160;AL register.&#160;The DAA instruction then&#160;adjusts&#160;<br/>the&#160;value in&#160;the AL register&#160;to obtain&#160;a valid, 2-digit,&#160;packed&#160;BCD value&#160;and sets the&#160;CF&#160;flag if&#160;a decimal carry&#160;<br/>occurred&#160;as the&#160;result of the addition.<br/>Likewise, subtracting one&#160;packed&#160;BCD value from another&#160;requires a SUB instruction followed by a DAS&#160;instruction.&#160;<br/>The&#160;SUB&#160;instruction subtracts (binary subtraction) one&#160;BCD&#160;value from another and stores&#160;the result&#160;in the&#160;AL&#160;<br/>register. The&#160;DAS&#160;instruction&#160;then&#160;adjusts the value in the&#160;AL register to obtain&#160;a valid, 2-digit,&#160;packed&#160;BCD value&#160;<br/>and sets the&#160;CF&#160;flag&#160;if&#160;a decimal borrow occurred as&#160;the result&#160;of the&#160;subtraction.&#160;</p>
<p style="position:absolute;top:856px;left:69px;white-space:nowrap" class="ft02">7.3.3.2&#160;&#160;</p>
<p style="position:absolute;top:856px;left:153px;white-space:nowrap" class="ft02">Unpacked BCD Adjustment&#160;Instructions</p>
<p style="position:absolute;top:885px;left:69px;white-space:nowrap" class="ft07">The&#160;AAA (ASCII&#160;adjust&#160;after addition),&#160;AAS&#160;(ASCII adjust&#160;after subtraction), AAM (ASCII adjust&#160;after multiplica-<br/>tion),&#160;and AAD (ASCII adjust&#160;before&#160;division) instructions adjust the&#160;results&#160;of&#160;arithmetic&#160;operations&#160;performed&#160;<br/>on&#160;unpacked&#160;BCD&#160;values&#160;(see&#160;<a href="o_7281d5ea06a5b67a-93.html">Section 4.7,&#160;‚ÄúBCD&#160;and Packed BCD Integers‚Äù). Al</a>l these&#160;instructions&#160;assume that&#160;<br/>the value&#160;to be&#160;adjusted&#160;is stored&#160;in&#160;the AL&#160;register&#160;or, in&#160;one instance, the&#160;AL and&#160;AH registers.&#160;<br/>The AAA&#160;instruction&#160;adjusts the&#160;contents of the&#160;AL register&#160;following&#160;the addition of&#160;two unpacked BCD&#160;values.&#160;It&#160;<br/>converts&#160;the binary value&#160;in the&#160;AL register into a decimal&#160;value and stores&#160;the&#160;result&#160;in the&#160;AL&#160;register&#160;in&#160;unpacked&#160;<br/>BCD format (the&#160;decimal number&#160;is stored&#160;in&#160;the&#160;lower 4 bits&#160;of the register and&#160;the&#160;upper 4 bits are cleared).&#160;If a&#160;<br/>decimal&#160;carry&#160;occurred&#160;as a&#160;result of the&#160;addition,&#160;the&#160;CF flag&#160;is set and&#160;the contents&#160;of&#160;the AH&#160;register are&#160;incre-<br/>mented by 1.</p>
</div>
</body>
</html>
