<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 295</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:11px;font-family:Times;color:#000000;-moz-transform: matrix(         0,         -1,          1,          0, 0, 0);-webkit-transform: matrix(         0,         -1,          1,          0, 0, 0);-o-transform: matrix(         0,         -1,          1,          0, 0, 0);-ms-transform: matrix(         0,         -1,          1,          0, 0, 0);-moz-transform-origin: left 75%;-webkit-transform-origin: left 75%;-o-transform-origin: left 75%;-ms-transform-origin: left 75%;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page295-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a295.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:768px;white-space:nowrap" class="ft00">Vol. 1&#160;12-15</p>
<p style="position:absolute;top:47px;left:414px;white-space:nowrap" class="ft01">PROGRAMMING WITH&#160;INTEL®&#160;SSE3,&#160;SSSE3,&#160;INTEL® SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft06">mode; or the&#160;instruction&#160;can be forced to&#160;use the&#160;current&#160;rounding mode. Another bit&#160;in the&#160;immediate&#160;is used to&#160;<br/>suppress inexact precision exceptions.<br/>Rounding instructions in&#160;SSE4.1 generally permit single-instruction solutions to&#160;C99 functions ceil(),&#160;floor(),&#160;<br/>trunc(), rint(), nearbyint(). These instructions simplify the implementations of half-way-away-from-zero rounding&#160;<br/>modes&#160;as used&#160;by C99&#160;round() and&#160;F90’s nint().</p>
<p style="position:absolute;top:224px;left:69px;white-space:nowrap" class="ft03">12.10.7&#160;&#160;Insertion and Extractions from XMM Registers</p>
<p style="position:absolute;top:255px;left:69px;white-space:nowrap" class="ft06">SSE4.1 adds 7&#160;instructions (corresponding to&#160;9&#160;assembly&#160;instruction mnemonics) that&#160;simplify&#160;data&#160;insertion and&#160;<br/>extraction between general-purpose register (GPR) and XMM&#160;registers (EXTRACTPS, INSERTPS, PINSRB,&#160;PINSRD,&#160;<br/>PINSRQ, PEXTRB,&#160;PEXTRW,&#160;PEXTRD, and&#160;PEXTRQ).&#160;When accessing memory, no&#160;alignment is&#160;required for any&#160;of&#160;<br/>these instructions (unless&#160;alignment checking&#160;is enabled).<br/>EXTRACTPS extracts&#160;a single-precision&#160;floating-point value&#160;from any dword offset&#160;in an XMM&#160;register and&#160;stores&#160;<br/>the result&#160;to memory or&#160;a general-purpose register.&#160;INSERTPS inserts a&#160;single&#160;floating-point value from either&#160;a&#160;<br/>32-bit&#160;memory location or from specified element in an&#160;XMM register to a&#160;selected&#160;element in&#160;the destination&#160;XMM&#160;<br/>register.&#160;In addition,&#160;INSERTPS allows the&#160;insertion&#160;of +0.0f&#160;into any&#160;destination elements using&#160;a mask.<br/>PINSRB,&#160;PINSRD,&#160;and PINSRQ&#160;insert&#160;byte,&#160;dword, or qword&#160;integer&#160;values from&#160;a register or memory into an&#160;XMM&#160;<br/>register. Insertion&#160;of integer word values&#160;were&#160;already supported by&#160;SSE2 (PINSRW).&#160;<br/>PEXTRB,&#160;PEXTRW,&#160;PEXTRD, and PEXTRQ extract byte,&#160;word,&#160;dword,&#160;and qword from&#160;an&#160;XMM register and insert the&#160;<br/>values into a&#160;general-purpose register or&#160;memory.</p>
<p style="position:absolute;top:509px;left:69px;white-space:nowrap" class="ft03">12.10.8&#160;&#160;Packed Integer Format Conversions</p>
<p style="position:absolute;top:540px;left:69px;white-space:nowrap" class="ft06">A&#160;common type of operation&#160;on&#160;packed integers&#160;is the&#160;conversion&#160;by zero- or&#160;sign-extension of&#160;packed integers&#160;<br/>into wider&#160;data&#160;types. SSE4.1&#160;adds&#160;12&#160;instructions&#160;that convert from a&#160;smaller packed integer type&#160;to&#160;a larger&#160;<br/>integer type&#160;(PMOVSXBW,&#160;PMOVZXBW,&#160;PMOVSXBD,&#160;PMOVZXBD,&#160;PMOVSXWD,&#160;PMOVZXWD,&#160;PMOVSXBQ,&#160;<br/>PMOVZXBQ, PMOVSXWQ, PMOVZXWQ, PMOVSXDQ, PMOVZXDQ).<br/>The&#160;source&#160;operand&#160;is&#160;from either an XMM&#160;register or&#160;memory;&#160;the destination is an XMM&#160;register. See&#160;<a href="o_7281d5ea06a5b67a-295.html">Table&#160;12-5</a>.<br/>When accessing memory, no alignment is required&#160;for any&#160;of&#160;the instructions unless&#160;alignment checking is enabled.&#160;<br/>In which&#160;case, all&#160;conversions&#160;must be&#160;aligned to&#160;the width&#160;of&#160;the memory reference.&#160;The&#160;number&#160;of elements&#160;<br/>converted (and&#160;width of&#160;memory&#160;reference) is&#160;illustrate<a href="o_7281d5ea06a5b67a-296.html">d in Table 12-6</a>.&#160;The&#160;alignment requirement is&#160;shown&#160;in&#160;<br/>parenthesis.</p>
<p style="position:absolute;top:728px;left:233px;white-space:nowrap" class="ft04">Table&#160;12-5. &#160;New SIMD Integer&#160;conversions supported by&#160;SSE4.1&#160;</p>
<p style="position:absolute;top:757px;left:323px;white-space:nowrap" class="ft08">Source&#160;Type<br/>Byte</p>
<p style="position:absolute;top:778px;left:496px;white-space:nowrap" class="ft02">Word</p>
<p style="position:absolute;top:778px;left:670px;white-space:nowrap" class="ft02">Dword</p>
<p style="position:absolute;top:889px;left:85px;white-space:nowrap" class="ft05">Des</p>
<p style="position:absolute;top:866px;left:85px;white-space:nowrap" class="ft05">tina</p>
<p style="position:absolute;top:843px;left:85px;white-space:nowrap" class="ft05">tio</p>
<p style="position:absolute;top:826px;left:85px;white-space:nowrap" class="ft05">n</p>
<p style="position:absolute;top:889px;left:100px;white-space:nowrap" class="ft05">Ty</p>
<p style="position:absolute;top:874px;left:100px;white-space:nowrap" class="ft05">pe</p>
<p style="position:absolute;top:799px;left:137px;white-space:nowrap" class="ft02">Signed&#160;Word</p>
<p style="position:absolute;top:816px;left:137px;white-space:nowrap" class="ft02">Unsigned&#160;Word</p>
<p style="position:absolute;top:799px;left:323px;white-space:nowrap" class="ft02">PMOVSXBW</p>
<p style="position:absolute;top:816px;left:323px;white-space:nowrap" class="ft02">PMOVZXBW</p>
<p style="position:absolute;top:836px;left:137px;white-space:nowrap" class="ft02">Signed&#160;Dword</p>
<p style="position:absolute;top:853px;left:137px;white-space:nowrap" class="ft02">Unsigned&#160;Dword</p>
<p style="position:absolute;top:836px;left:323px;white-space:nowrap" class="ft02">PMOVSXBD</p>
<p style="position:absolute;top:853px;left:323px;white-space:nowrap" class="ft02">PMOVZXBD</p>
<p style="position:absolute;top:836px;left:496px;white-space:nowrap" class="ft02">PMOVSXWD</p>
<p style="position:absolute;top:853px;left:496px;white-space:nowrap" class="ft02">PMOVZXWD</p>
<p style="position:absolute;top:874px;left:137px;white-space:nowrap" class="ft02">Signed&#160;Qword</p>
<p style="position:absolute;top:890px;left:137px;white-space:nowrap" class="ft02">Unsigned&#160;Qword</p>
<p style="position:absolute;top:874px;left:323px;white-space:nowrap" class="ft02">PMOVSXBQ</p>
<p style="position:absolute;top:890px;left:323px;white-space:nowrap" class="ft02">PMOVZXBQ</p>
<p style="position:absolute;top:874px;left:496px;white-space:nowrap" class="ft02">PMOVSXWQ</p>
<p style="position:absolute;top:890px;left:496px;white-space:nowrap" class="ft02">PMOVZXWQ</p>
<p style="position:absolute;top:874px;left:670px;white-space:nowrap" class="ft02">PMOVSXDQ</p>
<p style="position:absolute;top:890px;left:670px;white-space:nowrap" class="ft02">PMOVZXDQ</p>
</div>
</body>
</html>
