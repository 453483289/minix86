<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 67</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page67-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a067.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:782px;white-space:nowrap" class="ft00">Vol. 1&#160;3-7</p>
<p style="position:absolute;top:47px;left:645px;white-space:nowrap" class="ft01">BASIC EXECUTION ENVIRONMENT</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft08">Virtually&#160;any operating&#160;system or&#160;executive designed to&#160;work with an IA-32 or&#160;Intel 64&#160;processor will use&#160;the&#160;<br/>processor‚Äôs memory management facilities to&#160;access memory. These facilities provide features&#160;such as&#160;segmenta-<br/>tion and&#160;paging,&#160;which allow&#160;memory&#160;to be&#160;managed&#160;efficiently and reliably.&#160;Memory management&#160;is described in&#160;<br/>detail<a href="˛ˇ">&#160;in Chapter&#160;3, ‚ÄúProtected-Mode&#160;Memory&#160;Management,‚Äù</a>&#160;in&#160;the&#160;<i>Intel¬Æ 64 and&#160;IA-32 Architectures&#160;Software&#160;<br/>Developer‚Äôs Manual, Volume 3A.</i>&#160;The&#160;following paragraphs&#160;describe the basic methods of addressing memory when&#160;<br/>memory management&#160;is used.</p>
<p style="position:absolute;top:233px;left:69px;white-space:nowrap" class="ft04">3.3.1&#160;</p>
<p style="position:absolute;top:233px;left:150px;white-space:nowrap" class="ft04">IA-32 Memory Models</p>
<p style="position:absolute;top:264px;left:69px;white-space:nowrap" class="ft08">When&#160;employing the&#160;processor‚Äôs memory management&#160;facilities, programs do&#160;not directly&#160;address physical&#160;<br/>memory. Instead, they&#160;access&#160;memory using one&#160;of three&#160;memory&#160;models: flat, segmented, or real address mode:</p>
<p style="position:absolute;top:302px;left:69px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:303px;left:95px;white-space:nowrap" class="ft08"><b>Flat memory&#160;model</b>&#160;‚Äî&#160;Memory&#160;appears to&#160;a program as&#160;a single,&#160;continuous&#160;<a href="o_7281d5ea06a5b67a-68.html">address space (Figure&#160;3-3). This&#160;<br/></a>space is&#160;called a&#160;<b>linear address space</b>. Code, data,&#160;and stacks are all&#160;contained in&#160;this address&#160;space. Linear&#160;<br/>address space is&#160;byte addressable,&#160;with&#160;addresses running&#160;contiguously from&#160;0&#160;to 2</p>
<p style="position:absolute;top:333px;left:659px;white-space:nowrap" class="ft07">32</p>
<p style="position:absolute;top:336px;left:673px;white-space:nowrap" class="ft02">&#160;- 1&#160;(if not in&#160;64-bit&#160;</p>
<p style="position:absolute;top:352px;left:95px;white-space:nowrap" class="ft02">mode).&#160;An&#160;address for any&#160;byte in linear address&#160;space&#160;is called&#160;a&#160;<b>linear address</b>.</p>
<p style="position:absolute;top:374px;left:69px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:375px;left:95px;white-space:nowrap" class="ft08"><b>Segmented memory model</b>&#160;‚Äî&#160;Memory appears&#160;to&#160;a program as&#160;a group of independent address&#160;spaces&#160;<br/>called segments.&#160;Code, data, and stacks are&#160;typically&#160;contained in&#160;separate segments.&#160;To&#160;address a&#160;byte&#160;in a&#160;<br/>segment,&#160;a program issues&#160;a logical address. This&#160;consists&#160;of&#160;a segment selector&#160;and an&#160;offset&#160;(logical&#160;<br/>addresses are often&#160;referred&#160;to&#160;as&#160;far pointers).&#160;The segment selector identifies&#160;the&#160;segment to be&#160;accessed&#160;<br/>and the&#160;offset identifies a&#160;byte in&#160;the&#160;address space&#160;of&#160;the&#160;segment. Programs running on&#160;an&#160;IA-32&#160;processor&#160;<br/>can address&#160;up&#160;to&#160;16,383 segments of different sizes&#160;and types,&#160;and each segment can be as&#160;large&#160;as&#160;2</p>
<p style="position:absolute;top:455px;left:793px;white-space:nowrap" class="ft07">32</p>
<p style="position:absolute;top:457px;left:807px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:474px;left:94px;white-space:nowrap" class="ft08">bytes.<br/>Internally, all the segments that&#160;are&#160;defined&#160;for a&#160;system are mapped&#160;into&#160;the&#160;processor‚Äôs linear address&#160;space.&#160;<br/>To&#160;access a&#160;memory&#160;location, the&#160;processor&#160;thus translates each&#160;logical&#160;address into a&#160;linear&#160;address. This&#160;<br/>translation&#160;is transparent to&#160;the application program.<br/>The&#160;primary&#160;reason for using&#160;segmented memory is&#160;to&#160;increase&#160;the&#160;reliability of&#160;programs&#160;and systems. For&#160;<br/>example, placing&#160;a program‚Äôs stack&#160;in&#160;a separate segment&#160;prevents the&#160;stack&#160;from&#160;growing into&#160;the code or&#160;<br/>data&#160;space&#160;and&#160;overwriting instructions&#160;or&#160;data, respectively.</p>
<p style="position:absolute;top:607px;left:69px;white-space:nowrap" class="ft05">‚Ä¢</p>
<p style="position:absolute;top:607px;left:95px;white-space:nowrap" class="ft08"><b>Real-address mode memory model</b>&#160;‚Äî&#160;This is&#160;the memory model for the&#160;Intel 8086&#160;processor.&#160;It&#160;is&#160;<br/>supported to&#160;provide compatibility with existing programs&#160;written to run on the Intel 8086 processor.&#160;The&#160;real-<br/>address mode&#160;uses&#160;a specific implementation&#160;of segmented&#160;memory in&#160;which the&#160;linear&#160;address space for&#160;the&#160;<br/>program and the&#160;operating system/executive consists&#160;of&#160;an&#160;array&#160;of&#160;segments&#160;of&#160;up&#160;to&#160;64&#160;KBytes&#160;in&#160;size&#160;each.&#160;<br/>The&#160;maximum size&#160;of&#160;the linear address&#160;space&#160;in real-address mode&#160;is&#160;2</p>
<p style="position:absolute;top:671px;left:582px;white-space:nowrap" class="ft07">20</p>
<p style="position:absolute;top:673px;left:595px;white-space:nowrap" class="ft02">&#160;bytes.&#160;</p>
<p style="position:absolute;top:696px;left:95px;white-space:nowrap" class="ft09">See&#160;<a href="˛ˇ">also: Chapter&#160;20,&#160;‚Äú8086 Emulation,‚Äù&#160;</a><i>Intel¬Æ 64&#160;and&#160;IA-32 Architectures Software&#160;Developer‚Äôs&#160;Manual,&#160;<br/>Volume 3B.</i></p>
</div>
</body>
</html>
