<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 171</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:11px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:9px;font-family:Times;color:#000000;}
	.ft07{font-size:8px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft011{font-size:9px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page171-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a171.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:782px;white-space:nowrap" class="ft00">Vol. 1&#160;7-7</p>
<p style="position:absolute;top:47px;left:510px;white-space:nowrap" class="ft01">PROGRAMMING WITH GENERAL-PURPOSE INSTRUCTIONS</p>
<p style="position:absolute;top:418px;left:69px;white-space:nowrap" class="ft02">7.3.1.5&#160;&#160;</p>
<p style="position:absolute;top:418px;left:153px;white-space:nowrap" class="ft02">Stack Manipulation Instructions in 64-Bit Mode</p>
<p style="position:absolute;top:446px;left:69px;white-space:nowrap" class="ft08">In 64-bit mode, the stack pointer size is 64 bits&#160;and&#160;cannot&#160;be&#160;overridden by an instruction prefix. In&#160;implicit stack&#160;<br/>references, address-size&#160;overrides&#160;are ignored. Pushes&#160;and pops of&#160;32-bit&#160;values on&#160;the&#160;stack are&#160;not possible&#160;in&#160;<br/>64-bit mode.&#160;16-bit&#160;pushes&#160;and pops are&#160;supported&#160;by&#160;using the&#160;66H&#160;operand-size&#160;prefix.&#160;PUSHA,&#160;PUSHAD,&#160;POPA,&#160;<br/>and POPAD&#160;are not&#160;supported.</p>
<p style="position:absolute;top:540px;left:69px;white-space:nowrap" class="ft02">7.3.1.6&#160;&#160;</p>
<p style="position:absolute;top:540px;left:153px;white-space:nowrap" class="ft02">Type Conversion Instructions</p>
<p style="position:absolute;top:568px;left:69px;white-space:nowrap" class="ft09">The type conversion&#160;instructions&#160;convert&#160;bytes into&#160;words,&#160;words&#160;into doublewords,&#160;and doublewords into&#160;quad-<br/>words. These instructions are especially useful&#160;for&#160;converting&#160;integers&#160;to larger integer formats,&#160;because they&#160;<br/>perform sign&#160;extension (see<a href="o_7281d5ea06a5b67a-171.html">&#160;Figure&#160;7-5).<br/></a>Two&#160;kinds of type conversion&#160;instructions&#160;are provided:&#160;simple conversion&#160;and move&#160;and&#160;convert.</p>
<p style="position:absolute;top:863px;left:69px;white-space:nowrap" class="ft08"><b>Simple conversion â€”</b>&#160;The&#160;CBW&#160;(convert byte&#160;to word), CWDE (convert&#160;word&#160;to doubleword extended), CWD&#160;<br/>(convert word to doubleword),&#160;and CDQ (convert&#160;doubleword to&#160;quadword) instructions perform sign&#160;extension to&#160;<br/>double&#160;the&#160;size&#160;of the&#160;source operand.<br/>The&#160;CBW instruction copies the&#160;sign&#160;(bit 7)&#160;of the&#160;byte&#160;in the&#160;AL&#160;register into every bit position&#160;of&#160;the upper byte&#160;of&#160;<br/>the AX register. The&#160;CWDE&#160;instruction copies the sign (bit 15)&#160;of the word in the AX&#160;register into every bit position&#160;<br/>of&#160;the high&#160;word&#160;of the&#160;EAX register.<br/>The CWD instruction&#160;copies the&#160;sign&#160;(bit&#160;15) of&#160;the word in&#160;the&#160;AX&#160;register into&#160;every bit position in&#160;the DX&#160;register.&#160;<br/>The&#160;CDQ&#160;instruction&#160;copies&#160;the&#160;sign&#160;(bit 31) of the&#160;doubleword in the&#160;EAX register into every bit&#160;position in the&#160;EDX&#160;<br/>register. The CWD&#160;instruction&#160;can be used to&#160;produce&#160;a doubleword dividend from a&#160;word before&#160;a word&#160;division,&#160;<br/>and the&#160;CDQ instruction can&#160;be&#160;used&#160;to produce a&#160;quadword&#160;dividend from a&#160;doubleword&#160;before doubleword divi-<br/>sion.</p>
<p style="position:absolute;top:373px;left:298px;white-space:nowrap" class="ft05">Figure&#160;7-4. &#160;Operation of&#160;the POPA&#160;Instruction</p>
<p style="position:absolute;top:817px;left:363px;white-space:nowrap" class="ft05">Figure&#160;7-5.&#160;&#160;Sign&#160;Extension</p>
<p style="position:absolute;top:168px;left:203px;white-space:nowrap" class="ft00">Stack</p>
<p style="position:absolute;top:149px;left:520px;white-space:nowrap" class="ft00">After Popping Registers</p>
<p style="position:absolute;top:180px;left:199px;white-space:nowrap" class="ft00">Growth</p>
<p style="position:absolute;top:205px;left:687px;white-space:nowrap" class="ft00">ESP</p>
<p style="position:absolute;top:205px;left:240px;white-space:nowrap" class="ft011">n -&#160;4<br/>n -&#160;8</p>
<p style="position:absolute;top:189px;left:257px;white-space:nowrap" class="ft00">n</p>
<p style="position:absolute;top:131px;left:454px;white-space:nowrap" class="ft06"><b>Stack</b></p>
<p style="position:absolute;top:149px;left:283px;white-space:nowrap" class="ft00">Before Popping Registers</p>
<p style="position:absolute;top:339px;left:455px;white-space:nowrap" class="ft00">ESP</p>
<p style="position:absolute;top:222px;left:342px;white-space:nowrap" class="ft00">EAX</p>
<p style="position:absolute;top:339px;left:344px;white-space:nowrap" class="ft00">EDI</p>
<p style="position:absolute;top:272px;left:342px;white-space:nowrap" class="ft00">EBX</p>
<p style="position:absolute;top:305px;left:342px;white-space:nowrap" class="ft00">EBP</p>
<p style="position:absolute;top:239px;left:342px;white-space:nowrap" class="ft011">ECX<br/>EDX</p>
<p style="position:absolute;top:289px;left:333px;white-space:nowrap" class="ft00">Ignored</p>
<p style="position:absolute;top:322px;left:344px;white-space:nowrap" class="ft00">ESI</p>
<p style="position:absolute;top:339px;left:233px;white-space:nowrap" class="ft00">n - 36</p>
<p style="position:absolute;top:272px;left:233px;white-space:nowrap" class="ft00">n - 20</p>
<p style="position:absolute;top:305px;left:233px;white-space:nowrap" class="ft00">n - 28</p>
<p style="position:absolute;top:239px;left:233px;white-space:nowrap" class="ft011">n - 12<br/>n - 16</p>
<p style="position:absolute;top:288px;left:233px;white-space:nowrap" class="ft00">n - 24</p>
<p style="position:absolute;top:322px;left:233px;white-space:nowrap" class="ft00">n - 32</p>
<p style="position:absolute;top:164px;left:506px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:164px;left:650px;white-space:nowrap" class="ft00">31</p>
<p style="position:absolute;top:164px;left:273px;white-space:nowrap" class="ft00">0</p>
<p style="position:absolute;top:164px;left:417px;white-space:nowrap" class="ft00">31</p>
<p style="position:absolute;top:747px;left:220px;white-space:nowrap" class="ft07">31</p>
<p style="position:absolute;top:761px;left:631px;white-space:nowrap" class="ft00">After Sign</p>
<p style="position:absolute;top:747px;left:423px;white-space:nowrap" class="ft07">15</p>
<p style="position:absolute;top:747px;left:616px;white-space:nowrap" class="ft07">0</p>
<p style="position:absolute;top:769px;left:425px;white-space:nowrap" class="ft07">S&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N</p>
<p style="position:absolute;top:769px;left:565px;white-space:nowrap" class="ft07">N</p>
<p style="position:absolute;top:769px;left:552px;white-space:nowrap" class="ft07">N</p>
<p style="position:absolute;top:769px;left:577px;white-space:nowrap" class="ft07">N&#160;N&#160;N&#160;N</p>
<p style="position:absolute;top:769px;left:413px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:400px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:387px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:374px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:362px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:349px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:337px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:324px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:312px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:299px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:286px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:261px;white-space:nowrap" class="ft07">S&#160;S</p>
<p style="position:absolute;top:769px;left:247px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:235px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:769px;left:222px;white-space:nowrap" class="ft07">S</p>
<p style="position:absolute;top:775px;left:631px;white-space:nowrap" class="ft00">Extension</p>
<p style="position:absolute;top:713px;left:631px;white-space:nowrap" class="ft00">Before Sign</p>
<p style="position:absolute;top:699px;left:423px;white-space:nowrap" class="ft07">15</p>
<p style="position:absolute;top:699px;left:616px;white-space:nowrap" class="ft07">0</p>
<p style="position:absolute;top:721px;left:425px;white-space:nowrap" class="ft07">S&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N&#160;N</p>
<p style="position:absolute;top:721px;left:565px;white-space:nowrap" class="ft07">N</p>
<p style="position:absolute;top:721px;left:552px;white-space:nowrap" class="ft07">N</p>
<p style="position:absolute;top:721px;left:577px;white-space:nowrap" class="ft07">N&#160;N&#160;N&#160;N</p>
<p style="position:absolute;top:727px;left:631px;white-space:nowrap" class="ft00">Extension</p>
</div>
</body>
</html>
