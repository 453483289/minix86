<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 294</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:6px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:19px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:20px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page294-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a294.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">12-14&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH INTEL® SSE3, SSSE3,&#160;INTEL®&#160;SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:98px;left:68px;white-space:nowrap" class="ft02">12.10.4&#160;&#160;Packed Blending Instructions</p>
<p style="position:absolute;top:129px;left:68px;white-space:nowrap" class="ft06">SSE4.1&#160;adds 6&#160;instructions used&#160;for blending&#160;(BLENDPS,&#160;BLENDPD,&#160;BLENDVPS,&#160;BLENDVPD,&#160;PBLENDVB,&#160;<br/>PBLENDW).<br/>Blending conditionally copies&#160;a data&#160;element&#160;in a&#160;source&#160;operand&#160;to the&#160;same&#160;element&#160;in&#160;the destination.&#160;SSE4.1&#160;<br/>instructions&#160;improve&#160;blending operations&#160;for&#160;most&#160;field&#160;sizes. A single&#160;new SSE4.1&#160;instruction&#160;can generally replace&#160;<br/>a&#160;sequence of 2 to 4 operations&#160;using&#160;previous architectures.<br/>The variable blend instructions (BLENDVPS,&#160;BLENDVPD,&#160;PBLENDW)&#160;introduce&#160;the use&#160;of&#160;control bits&#160;stored in an&#160;<br/>implicit&#160;XMM register&#160;(XMM0). The&#160;most significant bit in&#160;each&#160;field&#160;(the sign&#160;bit, for 2’s complement integer or&#160;<br/>floating-point)&#160;is used as&#160;a selector.&#160;S<a href="o_7281d5ea06a5b67a-294.html">ee Table&#160;12-3</a>.</p>
<p style="position:absolute;top:586px;left:68px;white-space:nowrap" class="ft02">12.10.5&#160;&#160;Packed Integer MIN/MAX Instructions&#160;</p>
<p style="position:absolute;top:616px;left:68px;white-space:nowrap" class="ft06">SSE4.1&#160;adds 8&#160;packed&#160;integer MIN&#160;and&#160;MAX instructions (PMINUW,&#160;PMINUD,&#160;PMINSB,&#160;PMINSD; PMAXUW,&#160;<br/>PMAXUD,&#160;PMAXSB,&#160;PMAXSD).&#160;<br/>Four 32-bit integer&#160;packed MIN and&#160;MAX&#160;instructions&#160;operate on unsigned and&#160;signed dwords. Two&#160;instructions&#160;<br/>operate on&#160;signed&#160;bytes.&#160;Two instructions&#160;operate&#160;on unsigned&#160;words.&#160;See&#160;<a href="o_7281d5ea06a5b67a-294.html">Table&#160;12-4.</a></p>
<p style="position:absolute;top:934px;left:68px;white-space:nowrap" class="ft02">12.10.6&#160;&#160;Floating-Point&#160;Round Instructions&#160;with Selectable Rounding Mode</p>
<p style="position:absolute;top:964px;left:68px;white-space:nowrap" class="ft06">High&#160;level&#160;languages&#160;and&#160;libraries&#160;often expose&#160;rounding&#160;operations&#160;having&#160;a&#160;variety&#160;of&#160;numeric&#160;rounding&#160;and&#160;<br/>exception behaviors. Using SSE/SSE2/SSE3 instructions to&#160;mitigate&#160;the rounding-mode-related&#160;problem is&#160;some-<br/>times&#160;not straight forward.<br/>SSE4.1&#160;introduces&#160;four&#160;rounding&#160;instructions&#160;(ROUNDPS,&#160;ROUNDPD,&#160;ROUNDSS,&#160;ROUNDSD)&#160;that&#160;cover&#160;scalar&#160;and&#160;<br/>packed&#160;single- and double-precision&#160;floating-point operands. The&#160;rounding&#160;mode can&#160;be&#160;selected&#160;using an imme-<br/>diate from&#160;one of the IEEE-754 modes (Nearest,&#160;-Inf,&#160;+Inf, and Truncate) without&#160;changing the&#160;current rounding&#160;</p>
<p style="position:absolute;top:300px;left:217px;white-space:nowrap" class="ft04">Table&#160;12-3. &#160;Blend Field Size&#160;and Control Modes&#160;Supported by&#160;SSE4.1&#160;</p>
<p style="position:absolute;top:346px;left:80px;white-space:nowrap" class="ft03">Instructions</p>
<p style="position:absolute;top:330px;left:202px;white-space:nowrap" class="ft03">Packed&#160;</p>
<p style="position:absolute;top:346px;left:202px;white-space:nowrap" class="ft03">Double FP</p>
<p style="position:absolute;top:330px;left:298px;white-space:nowrap" class="ft03">Packed&#160;</p>
<p style="position:absolute;top:346px;left:298px;white-space:nowrap" class="ft03">Single FP</p>
<p style="position:absolute;top:330px;left:380px;white-space:nowrap" class="ft03">Packed&#160;</p>
<p style="position:absolute;top:346px;left:380px;white-space:nowrap" class="ft03">QWord</p>
<p style="position:absolute;top:330px;left:467px;white-space:nowrap" class="ft03">Packed&#160;</p>
<p style="position:absolute;top:346px;left:467px;white-space:nowrap" class="ft03">DWord</p>
<p style="position:absolute;top:330px;left:555px;white-space:nowrap" class="ft03">Packed&#160;</p>
<p style="position:absolute;top:346px;left:555px;white-space:nowrap" class="ft03">Word</p>
<p style="position:absolute;top:346px;left:641px;white-space:nowrap" class="ft03">Packed Byte</p>
<p style="position:absolute;top:346px;left:737px;white-space:nowrap" class="ft03">Blend Control</p>
<p style="position:absolute;top:367px;left:80px;white-space:nowrap" class="ft03">BLENDPS</p>
<p style="position:absolute;top:367px;left:298px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:367px;left:737px;white-space:nowrap" class="ft03">Imm8</p>
<p style="position:absolute;top:388px;left:80px;white-space:nowrap" class="ft03">BLENDPD</p>
<p style="position:absolute;top:388px;left:202px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:388px;left:737px;white-space:nowrap" class="ft03">Imm8</p>
<p style="position:absolute;top:409px;left:80px;white-space:nowrap" class="ft03">BLENDVPS</p>
<p style="position:absolute;top:409px;left:298px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:409px;left:467px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:410px;left:476px;white-space:nowrap" class="ft05">(1)</p>
<p style="position:absolute;top:409px;left:737px;white-space:nowrap" class="ft03">XMM0</p>
<p style="position:absolute;top:430px;left:80px;white-space:nowrap" class="ft03">BLENDVPD</p>
<p style="position:absolute;top:430px;left:202px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:430px;left:380px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:431px;left:388px;white-space:nowrap" class="ft05">(1)</p>
<p style="position:absolute;top:430px;left:737px;white-space:nowrap" class="ft03">XMM0</p>
<p style="position:absolute;top:451px;left:80px;white-space:nowrap" class="ft03">PBLENDVB</p>
<p style="position:absolute;top:450px;left:380px;white-space:nowrap" class="ft05">(2)</p>
<p style="position:absolute;top:450px;left:467px;white-space:nowrap" class="ft05">(2)</p>
<p style="position:absolute;top:450px;left:555px;white-space:nowrap" class="ft05">(2)</p>
<p style="position:absolute;top:451px;left:641px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:451px;left:737px;white-space:nowrap" class="ft03">XMM0</p>
<p style="position:absolute;top:472px;left:80px;white-space:nowrap" class="ft03">PBLENDW</p>
<p style="position:absolute;top:472px;left:380px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:472px;left:467px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:472px;left:555px;white-space:nowrap" class="ft03">X</p>
<p style="position:absolute;top:472px;left:737px;white-space:nowrap" class="ft03">Imm8</p>
<p style="position:absolute;top:493px;left:80px;white-space:nowrap" class="ft01">NOTE:</p>
<p style="position:absolute;top:513px;left:80px;white-space:nowrap" class="ft09">1.&#160;Use of&#160;floating-point&#160;SIMD instructions on integer data types may incur performance&#160;penalties.&#160;<br/>2.&#160;Byte variable&#160;blend can be&#160;used&#160;for larger sized fields by&#160;reformatting&#160;(or shuffling) the blend&#160;control.</p>
<p style="position:absolute;top:714px;left:185px;white-space:nowrap" class="ft04">Table 12-4.&#160;&#160;Enhanced&#160;SIMD Integer MIN/MAX&#160;Instructions&#160;Supported by&#160;SSE4.1</p>
<p style="position:absolute;top:744px;left:288px;white-space:nowrap" class="ft010">Integer Width<br/>Byte</p>
<p style="position:absolute;top:765px;left:459px;white-space:nowrap" class="ft03">Word</p>
<p style="position:absolute;top:765px;left:643px;white-space:nowrap" class="ft03">DWord</p>
<p style="position:absolute;top:786px;left:78px;white-space:nowrap" class="ft03">Integer&#160;</p>
<p style="position:absolute;top:801px;left:78px;white-space:nowrap" class="ft03">Format</p>
<p style="position:absolute;top:802px;left:178px;white-space:nowrap" class="ft03">Unsigned</p>
<p style="position:absolute;top:786px;left:288px;white-space:nowrap" class="ft03">PMINUB*</p>
<p style="position:absolute;top:802px;left:288px;white-space:nowrap" class="ft03">PMAXUB*</p>
<p style="position:absolute;top:786px;left:459px;white-space:nowrap" class="ft03">PMINUW</p>
<p style="position:absolute;top:802px;left:459px;white-space:nowrap" class="ft03">PMAXUW</p>
<p style="position:absolute;top:786px;left:643px;white-space:nowrap" class="ft03">PMINUD</p>
<p style="position:absolute;top:802px;left:643px;white-space:nowrap" class="ft03">PMAXUD</p>
<p style="position:absolute;top:840px;left:178px;white-space:nowrap" class="ft03">Signed</p>
<p style="position:absolute;top:823px;left:288px;white-space:nowrap" class="ft03">PMINSB</p>
<p style="position:absolute;top:840px;left:288px;white-space:nowrap" class="ft03">PMAXSB</p>
<p style="position:absolute;top:823px;left:459px;white-space:nowrap" class="ft03">PMINSW*</p>
<p style="position:absolute;top:840px;left:459px;white-space:nowrap" class="ft03">PMAXSW*</p>
<p style="position:absolute;top:823px;left:643px;white-space:nowrap" class="ft03">PMINSD</p>
<p style="position:absolute;top:840px;left:643px;white-space:nowrap" class="ft03">PMAXSD</p>
<p style="position:absolute;top:861px;left:78px;white-space:nowrap" class="ft01">NOTE:</p>
<p style="position:absolute;top:880px;left:78px;white-space:nowrap" class="ft03">* Available&#160;prior to SSE4.1.</p>
</div>
</body>
</html>
