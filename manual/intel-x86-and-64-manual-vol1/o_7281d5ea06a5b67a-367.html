<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 367</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:18px;font-family:Times;color:#0860a8;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page367-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a367.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:775px;white-space:nowrap" class="ft00">Vol. 1&#160;15-3</p>
<p style="position:absolute;top:47px;left:618px;white-space:nowrap" class="ft01">PROGRAMMING WITH INTEL¬Æ&#160;AVX-512</p>
<p style="position:absolute;top:100px;left:69px;white-space:nowrap" class="ft07">Note&#160;that some&#160;SIMD instructions&#160;supporting three-operand syntax&#160;but processing&#160;only less&#160;than&#160;or equal to 128-<br/>bits of data are considered part of&#160;the&#160;512-bit SIMD&#160;instruction set extensions,&#160;because&#160;bits MAX_VL-1:128&#160;of the&#160;<br/>destination&#160;register&#160;are zeroed&#160;by the&#160;processor.&#160;The&#160;same&#160;rule&#160;applies to instructions operating&#160;on&#160;256-bits of data&#160;<br/>where bits&#160;MAX_VL-1:256&#160;of the destination&#160;register&#160;are zeroed.</p>
<p style="position:absolute;top:200px;left:69px;white-space:nowrap" class="ft03">15.1.5&#160;</p>
<p style="position:absolute;top:200px;left:149px;white-space:nowrap" class="ft03">EVEX Instruction Encoding Support</p>
<p style="position:absolute;top:229px;left:69px;white-space:nowrap" class="ft07">Intel AVX-512 instructions employ a new&#160;encoding&#160;prefix, referred to as EVEX,&#160;in the Intel 64&#160;and IA-32 instruction&#160;<br/>encoding&#160;format. Instruction encoding using&#160;the&#160;EVEX prefix&#160;provides&#160;the following capabilities:</p>
<p style="position:absolute;top:268px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:268px;left:95px;white-space:nowrap" class="ft07">Direct encoding of&#160;a SIMD&#160;register&#160;operand&#160;within EVEX (similar&#160;to VEX).&#160;This provides instruction syntax&#160;<br/>support for three&#160;source operands.&#160;</p>
<p style="position:absolute;top:307px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:307px;left:95px;white-space:nowrap" class="ft07">Compaction of REX prefix functionality and&#160;extended&#160;SIMD&#160;register&#160;encoding: the equivalent&#160;REX-prefix&#160;<br/>compaction functionality&#160;offered by&#160;the VEX prefix&#160;is&#160;provided within&#160;EVEX. Furthermore, EVEX extends the&#160;<br/>operand encoding capability to&#160;allow&#160;direct&#160;addressing of up&#160;to 32&#160;ZMM&#160;registers in&#160;64-bit&#160;mode.</p>
<p style="position:absolute;top:362px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:363px;left:95px;white-space:nowrap" class="ft07">Compaction of SIMD&#160;prefix functionality and&#160;escape&#160;byte&#160;encoding:&#160;the functionality of a&#160;SIMD&#160;prefix&#160;(66H,&#160;<br/>F2H, F3H) on&#160;opcode&#160;is equivalent to&#160;an&#160;opcode extension field&#160;to introduce new processing primitives. This&#160;<br/>functionality is provided in the&#160;VEX&#160;prefix&#160;encoding&#160;scheme and&#160;employed&#160;within&#160;the EVEX prefix. Similarly,&#160;the&#160;<br/>functionality&#160;of&#160;the escape opcode byte (0FH)&#160;and two-byte&#160;escape&#160;(0F38H,&#160;0F3AH) are also compacted&#160;within&#160;<br/>the EVEX prefix&#160;encoding.&#160;</p>
<p style="position:absolute;top:451px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:451px;left:95px;white-space:nowrap" class="ft07">Most EVEX-encoded SIMD numeric and&#160;data&#160;processing&#160;instruction semantics&#160;with&#160;memory operands&#160;have&#160;<br/>more&#160;relaxed&#160;memory&#160;alignment requirements than instructions encoded&#160;using SIMD prefixes&#160;(see<a href="˛ˇ">&#160;Section&#160;<br/>2.6,&#160;‚ÄúMemory Alignment‚Äù&#160;</a>in&#160;<a href="˛ˇ">the&#160;<i>Intel¬Æ&#160;Architecture Instruction Set Extensions Programming Reference</i>).</a></p>
<p style="position:absolute;top:506px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:507px;left:95px;white-space:nowrap" class="ft07">Direct encoding of&#160;an&#160;opmask operand&#160;within the&#160;EVEX&#160;prefix.&#160;This provides instruction syntax support&#160;for&#160;<br/>conditional vector-element operation and&#160;merging&#160;of&#160;destination operand&#160;using an opmask&#160;register&#160;(k1-k7).</p>
<p style="position:absolute;top:545px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:546px;left:95px;white-space:nowrap" class="ft07">Direct encoding of&#160;a broadcast attribute&#160;for instructions with a&#160;memory operand&#160;source. This&#160;provides&#160;<br/>instruction&#160;syntax support for elements broadcasting&#160;the&#160;second&#160;operand&#160;before&#160;being&#160;used&#160;in the&#160;actual&#160;<br/>operation.</p>
<p style="position:absolute;top:601px;left:69px;white-space:nowrap" class="ft04">‚Ä¢</p>
<p style="position:absolute;top:601px;left:95px;white-space:nowrap" class="ft02">Compressed memory&#160;address displacements&#160;for&#160;a more&#160;compact instruction encoding byte&#160;sequence.</p>
<p style="position:absolute;top:624px;left:69px;white-space:nowrap" class="ft07">EVEX encoding applies to SIMD instructions operating on XMM,&#160;YMM and ZMM&#160;registers. EVEX is not supported for&#160;<br/>instructions&#160;operating on MMX or&#160;x87&#160;registers. Details&#160;of&#160;EVEX instruction&#160;encoding are discussed in&#160;<a href="˛ˇ">Section 2.6,&#160;<br/>‚ÄúIntel¬Æ&#160;AVX-512 Encoding‚Äù of the&#160;<i>Intel¬Æ 64&#160;and&#160;IA-32&#160;Architectures Software&#160;Developer‚Äôs Manual, Volume&#160;2A</i></a>.</p>
<p style="position:absolute;top:712px;left:69px;white-space:nowrap" class="ft06">15.2&#160;</p>
<p style="position:absolute;top:712px;left:148px;white-space:nowrap" class="ft06">DETECTION OF&#160;AVX-512&#160;FOUNDATION INSTRUCTIONS&#160;</p>
<p style="position:absolute;top:747px;left:69px;white-space:nowrap" class="ft07">The&#160;majority of AVX-512&#160;Foundation instructions are&#160;encoded using&#160;the&#160;EVEX encoding scheme.&#160;EVEX-encoded&#160;<br/>instructions can&#160;operate on&#160;the 512-bit&#160;ZMM register&#160;state&#160;plus 8&#160;opmask&#160;registers. The&#160;opmask&#160;instructions in&#160;<br/>AVX-512&#160;Foundation&#160;instructions&#160;operate only on opmask&#160;registers or with a&#160;general&#160;purpose register.&#160;System&#160;<br/>software&#160;requirements&#160;to support the&#160;ZMM state and&#160;opmask instructions&#160;are described&#160;in&#160;<a href="˛ˇ">Chapter 3, ‚ÄúSystem&#160;<br/>Programming For Intel¬Æ&#160;AVX-512‚Äù of the&#160;<i>Intel¬Æ Architecture Instruction Set Extensions&#160;Programming Reference</i>.<br/></a>Processor&#160;support of AVX-512&#160;Foundation&#160;instructions&#160;is indicated by CPUID.(EAX=07H,&#160;ECX=0):EBX.AVX512F[bit&#160;<br/>16] = 1.&#160;Detection&#160;of AVX-512&#160;Foundation instructions operating&#160;on&#160;ZMM&#160;states and opmask registers&#160;needs&#160;to&#160;<br/>follow&#160;the&#160;general&#160;procedural&#160;flow&#160;<a href="o_7281d5ea06a5b67a-368.html">in Figure&#160;15-2.</a></p>
</div>
</body>
</html>
