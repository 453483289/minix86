<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 218</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:11px;font-family:Times;color:#000000;}
	.ft03{font-size:16px;font-family:Times;color:#0860a8;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page218-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a218.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:68px;white-space:nowrap" class="ft00">8-28&#160;Vol. 1</p>
<p style="position:absolute;top:47px;left:68px;white-space:nowrap" class="ft01">PROGRAMMING WITH THE X87 FPU</p>
<p style="position:absolute;top:100px;left:68px;white-space:nowrap" class="ft06">tion operand&#160;and/or sets&#160;the floating-point condition codes as&#160;<a href="o_7281d5ea06a5b67a-218.html">shown in Table 8-10. If the&#160;</a>invalid-operation&#160;excep-<br/>tion&#160;is not masked,&#160;a software&#160;exception handler is&#160;invoked&#160;(see<a href="o_7281d5ea06a5b67a-222.html">&#160;Section 8.7,&#160;“Handling&#160;x87&#160;FPU Exceptions in&#160;<br/>Software”)&#160;</a>and the&#160;top-of-stack pointer (TOP)&#160;and source&#160;operands remain unchanged.</p>
<p style="position:absolute;top:789px;left:68px;white-space:nowrap" class="ft06">Normally, when one&#160;or both&#160;of&#160;the source&#160;operands is&#160;a QNaN&#160;(and neither is&#160;an SNaN or in&#160;an unsupported&#160;<br/>format), an&#160;invalid-operand exception&#160;is not&#160;generated. An&#160;exception to&#160;this rule&#160;is most of&#160;the&#160;compare&#160;instruc-<br/>tions (such as&#160;the FCOM&#160;and FCOMI&#160;instructions)&#160;and the floating-point&#160;to integer conversion instructions&#160;<br/>(FIST/FISTP&#160;and FBSTP). With&#160;these instructions, a&#160;QNaN&#160;source&#160;operand will generate&#160;an invalid-operand excep-<br/>tion.</p>
<p style="position:absolute;top:905px;left:68px;white-space:nowrap" class="ft03">8.5.2&#160;</p>
<p style="position:absolute;top:905px;left:148px;white-space:nowrap" class="ft03">Denormal Operand Exception (#D)</p>
<p style="position:absolute;top:936px;left:68px;white-space:nowrap" class="ft02">The x87&#160;FPU&#160;signals the&#160;denormal-operand exception&#160;under the&#160;following&#160;conditions:</p>
<p style="position:absolute;top:958px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:958px;left:93px;white-space:nowrap" class="ft06">If an arithmetic instruction attempts to operate&#160;on&#160;a denormal&#160;operand&#160;<a href="o_7281d5ea06a5b67a-98.html">(see Section&#160;4.8.3.2, “Normalized and&#160;<br/>Denormalized&#160;Finite&#160;Numbers”).</a></p>
<p style="position:absolute;top:997px;left:68px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:997px;left:93px;white-space:nowrap" class="ft06">If an&#160;attempt&#160;is made to load a&#160;denormal single-precision&#160;or&#160;double-precision&#160;floating-point&#160;value into&#160;an&#160;x87&#160;<br/>FPU&#160;register. (If&#160;the&#160;denormal&#160;value&#160;being loaded&#160;is a&#160;double extended-precision&#160;floating-point&#160;value,&#160;the&#160;<br/>denormal-operand exception&#160;is not reported.)</p>
<p style="position:absolute;top:164px;left:286px;white-space:nowrap" class="ft05">Table 8-10.&#160;&#160;Invalid Arithmetic&#160;Operations and the&#160;</p>
<p style="position:absolute;top:182px;left:358px;white-space:nowrap" class="ft05">Masked&#160;Responses to&#160;Them</p>
<p style="position:absolute;top:207px;left:237px;white-space:nowrap" class="ft02">Condition</p>
<p style="position:absolute;top:207px;left:598px;white-space:nowrap" class="ft02">Masked Response</p>
<p style="position:absolute;top:231px;left:74px;white-space:nowrap" class="ft02">Any arithmetic operation on&#160;an&#160;operand that&#160;is&#160;in&#160;an&#160;unsupported&#160;</p>
<p style="position:absolute;top:247px;left:74px;white-space:nowrap" class="ft02">format.</p>
<p style="position:absolute;top:231px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite value to&#160;the&#160;</p>
<p style="position:absolute;top:247px;left:470px;white-space:nowrap" class="ft02">destination operand.</p>
<p style="position:absolute;top:271px;left:74px;white-space:nowrap" class="ft02">Any arithmetic&#160;operation&#160;on&#160;a&#160;SNaN.</p>
<p style="position:absolute;top:271px;left:470px;white-space:nowrap" class="ft02">Return&#160;a QNaN to the&#160;destination operand&#160;(see<a href="o_7281d5ea06a5b67a-100.html">&#160;Table 4-7)</a>.</p>
<p style="position:absolute;top:295px;left:74px;white-space:nowrap" class="ft02">Ordered compare and&#160;test operations: one&#160;or&#160;both&#160;operands&#160;are&#160;</p>
<p style="position:absolute;top:312px;left:74px;white-space:nowrap" class="ft02">NaNs.</p>
<p style="position:absolute;top:295px;left:470px;white-space:nowrap" class="ft02">Set the condition code&#160;flags (C0,&#160;C2,&#160;and C3) in&#160;the&#160;x87&#160;FPU&#160;</p>
<p style="position:absolute;top:312px;left:470px;white-space:nowrap" class="ft02">status&#160;word&#160;or the&#160;CF, PF, and ZF&#160;flags in&#160;the&#160;EFLAGS register&#160;to&#160;</p>
<p style="position:absolute;top:328px;left:470px;white-space:nowrap" class="ft02">111B (not&#160;comparable).</p>
<p style="position:absolute;top:352px;left:74px;white-space:nowrap" class="ft02">Addition: operands are opposite-signed&#160;infinities.</p>
<p style="position:absolute;top:369px;left:74px;white-space:nowrap" class="ft02">Subtraction: operands&#160;are&#160;like-signed&#160;infinities.</p>
<p style="position:absolute;top:352px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite value to&#160;the&#160;</p>
<p style="position:absolute;top:369px;left:470px;white-space:nowrap" class="ft02">destination operand.</p>
<p style="position:absolute;top:393px;left:74px;white-space:nowrap" class="ft02">Multiplication:&#160;&#160;∞&#160;&#160;by&#160;0;&#160;0 by&#160;&#160;∞&#160;.</p>
<p style="position:absolute;top:393px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite value to&#160;the&#160;</p>
<p style="position:absolute;top:409px;left:470px;white-space:nowrap" class="ft02">destination operand.</p>
<p style="position:absolute;top:433px;left:74px;white-space:nowrap" class="ft02">Division:&#160;&#160;∞&#160;&#160;by&#160;&#160;∞&#160;; 0 by 0.</p>
<p style="position:absolute;top:433px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite value to&#160;the&#160;</p>
<p style="position:absolute;top:450px;left:470px;white-space:nowrap" class="ft02">destination operand.</p>
<p style="position:absolute;top:474px;left:74px;white-space:nowrap" class="ft02">Remainder instructions&#160;FPREM,&#160;FPREM1: modulus (divisor) is&#160;0&#160;or&#160;</p>
<p style="position:absolute;top:490px;left:74px;white-space:nowrap" class="ft02">dividend&#160;is&#160;&#160;∞&#160;.</p>
<p style="position:absolute;top:474px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite; clear&#160;condition code&#160;</p>
<p style="position:absolute;top:490px;left:470px;white-space:nowrap" class="ft02">flag C2 to&#160;0.</p>
<p style="position:absolute;top:514px;left:74px;white-space:nowrap" class="ft02">Trigonometric instructions&#160;FCOS, FPTAN, FSIN, FSINCOS:&#160;source&#160;</p>
<p style="position:absolute;top:531px;left:74px;white-space:nowrap" class="ft02">operand&#160;is&#160;&#160;∞&#160;.</p>
<p style="position:absolute;top:514px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite; clear&#160;condition code&#160;</p>
<p style="position:absolute;top:531px;left:470px;white-space:nowrap" class="ft02">flag C2 to&#160;0.</p>
<p style="position:absolute;top:555px;left:74px;white-space:nowrap" class="ft02">FSQRT: negative&#160;operand (except FSQRT&#160;(–0)&#160;= –0); FYL2X:&#160;negative&#160;</p>
<p style="position:absolute;top:571px;left:74px;white-space:nowrap" class="ft02">operand&#160;(except FYL2X&#160;(–0) =&#160;–∞);&#160;FYL2XP1: operand more&#160;</p>
<p style="position:absolute;top:588px;left:74px;white-space:nowrap" class="ft02">negative&#160;than –1.</p>
<p style="position:absolute;top:555px;left:470px;white-space:nowrap" class="ft02">Return the QNaN floating-point&#160;indefinite value to&#160;the&#160;</p>
<p style="position:absolute;top:571px;left:470px;white-space:nowrap" class="ft02">destination operand.</p>
<p style="position:absolute;top:612px;left:74px;white-space:nowrap" class="ft02">FBSTP: Converted&#160;value&#160;cannot&#160;be&#160;represented&#160;in&#160;18&#160;decimal digits,&#160;</p>
<p style="position:absolute;top:628px;left:74px;white-space:nowrap" class="ft02">or source value is an SNaN, QNaN,&#160;&#160;±&#160;∞&#160;, or in an unsupported&#160;</p>
<p style="position:absolute;top:645px;left:74px;white-space:nowrap" class="ft02">format.</p>
<p style="position:absolute;top:612px;left:470px;white-space:nowrap" class="ft02">Store packed&#160;BCD integer&#160;indefinite&#160;value in&#160;the&#160;destination&#160;</p>
<p style="position:absolute;top:628px;left:470px;white-space:nowrap" class="ft02">operand.</p>
<p style="position:absolute;top:669px;left:74px;white-space:nowrap" class="ft02">FIST/FISTP: Converted value&#160;exceeds representable integer range&#160;</p>
<p style="position:absolute;top:685px;left:74px;white-space:nowrap" class="ft02">of&#160;the&#160;destination operand,&#160;or&#160;source value is&#160;an&#160;SNaN,&#160;QNaN,&#160;±∞,&#160;</p>
<p style="position:absolute;top:702px;left:74px;white-space:nowrap" class="ft02">or in an unsupported&#160;format.</p>
<p style="position:absolute;top:669px;left:470px;white-space:nowrap" class="ft02">Store&#160;integer&#160;indefinite value&#160;in&#160;the destination&#160;operand.</p>
<p style="position:absolute;top:726px;left:74px;white-space:nowrap" class="ft02">FXCH: one&#160;or both&#160;registers&#160;are tagged empty.</p>
<p style="position:absolute;top:726px;left:470px;white-space:nowrap" class="ft02">Load&#160;empty registers with the QNaN&#160;floating-point&#160;indefinite&#160;</p>
<p style="position:absolute;top:742px;left:470px;white-space:nowrap" class="ft02">value,&#160;then&#160;perform the&#160;exchange.</p>
</div>
</body>
</html>
