<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 289</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:16px;font-family:Times;color:#0860a8;}
	.ft05{font-size:18px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft08{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft09{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
	.ft010{font-size:11px;line-height:23px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page289-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a289.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:775px;white-space:nowrap" class="ft00">Vol. 1&#160;12-9</p>
<p style="position:absolute;top:47px;left:414px;white-space:nowrap" class="ft01">PROGRAMMING WITH&#160;INTEL®&#160;SSE3,&#160;SSSE3,&#160;INTEL® SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:97px;left:69px;white-space:nowrap" class="ft02">12.7 WRITING&#160;</p>
<p style="position:absolute;top:97px;left:236px;white-space:nowrap" class="ft02">APPLICATIONS WITH SSSE3 EXTENSIONS</p>
<p style="position:absolute;top:133px;left:69px;white-space:nowrap" class="ft07">The&#160;following sections&#160;give guidelines for writing&#160;application&#160;programs&#160;and operating-system code that use SSSE3&#160;<br/>instructions.&#160;</p>
<p style="position:absolute;top:200px;left:69px;white-space:nowrap" class="ft04">12.7.1&#160;</p>
<p style="position:absolute;top:200px;left:149px;white-space:nowrap" class="ft04">Guidelines for Using SSSE3 Extensions</p>
<p style="position:absolute;top:231px;left:69px;white-space:nowrap" class="ft03">The following&#160;guidelines describe how&#160;to maximize the&#160;benefits&#160;of&#160;using SSSE3&#160;extensions:</p>
<p style="position:absolute;top:253px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:253px;left:95px;white-space:nowrap" class="ft03">Check&#160;that&#160;the processor supports SSSE3&#160;extensions.</p>
<p style="position:absolute;top:275px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:276px;left:95px;white-space:nowrap" class="ft07">Ensure&#160;that your&#160;operating system&#160;supports SSE/SSE2/SSE3/SSSE3 extensions. (Operating&#160;system&#160;support&#160;<br/>for&#160;the SSE&#160;extensions implies sufficient support&#160;for SSE2, SSE3, and SSSE3.)&#160;</p>
<p style="position:absolute;top:314px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:315px;left:95px;white-space:nowrap" class="ft08">Employ&#160;the optimization and scheduling techniques&#160;described in the<i>&#160;Intel® 64&#160;and IA-32 Architectures Optimi-<br/>zation Reference Manual&#160;</i><a href="o_7281d5ea06a5b67a-30.html">(see Section 1.4, “Related Literature”).</a></p>
<p style="position:absolute;top:382px;left:69px;white-space:nowrap" class="ft04">12.7.2&#160;</p>
<p style="position:absolute;top:382px;left:149px;white-space:nowrap" class="ft04">Checking for SSSE3 Support</p>
<p style="position:absolute;top:412px;left:69px;white-space:nowrap" class="ft07">Before&#160;an&#160;application attempts to&#160;use the&#160;SSSE3 extensions,&#160;the&#160;application should&#160;follow the&#160;steps illustrated in&#160;<br/><a href="o_7281d5ea06a5b67a-273.html">Section 11.6.2, “Checking for SSE/SSE2&#160;Support.”&#160;</a>Next, use&#160;the additional step provided&#160;below:</p>
<p style="position:absolute;top:451px;left:69px;white-space:nowrap" class="ft05">•</p>
<p style="position:absolute;top:451px;left:95px;white-space:nowrap" class="ft03">Check&#160;that&#160;the processor supports SSSE3&#160;(if CPUID.01H:ECX.SSSE3[bit 9] = 1).&#160;</p>
<p style="position:absolute;top:507px;left:69px;white-space:nowrap" class="ft02">12.8&#160;</p>
<p style="position:absolute;top:507px;left:148px;white-space:nowrap" class="ft02">SSE3/SSSE3 AND SSE4 EXCEPTIONS</p>
<p style="position:absolute;top:543px;left:69px;white-space:nowrap" class="ft07">SSE3, SSSE3, and&#160;SSE4 instructions can&#160;generate the&#160;same type of memory-access and&#160;non-numeric exceptions&#160;<br/>as other&#160;Intel&#160;64&#160;or IA-32 instructions. Existing exception&#160;handlers generally&#160;handle these exceptions&#160;without&#160;code&#160;<br/>modification.&#160;<br/>FISTTP&#160;can generate&#160;floating-point exceptions. Some&#160;SSE3&#160;instructions&#160;can&#160;also generate&#160;SIMD&#160;floating-point&#160;<br/>exceptions.&#160;<br/>SSE3 additions and changes&#160;are&#160;noted in&#160;the following&#160;sections. See&#160;<a href="o_7281d5ea06a5b67a-267.html">also: Section 11.5,&#160;“SSE, SSE2,&#160;and SSE3&#160;<br/>Exceptions”.</a></p>
<p style="position:absolute;top:707px;left:69px;white-space:nowrap" class="ft04">12.8.1&#160;</p>
<p style="position:absolute;top:707px;left:149px;white-space:nowrap" class="ft04">Device&#160;Not Available (DNA) Exceptions</p>
<p style="position:absolute;top:738px;left:69px;white-space:nowrap" class="ft07">SSE3, SSSE3, and&#160;SSE4 will cause&#160;a&#160;DNA Exception&#160;(#NM) if&#160;the processor attempts to&#160;execute&#160;an SSE3&#160;instruc-<br/>tion while&#160;CR0.TS[bit&#160;3] = 1.&#160;If&#160;CPUID.01H:ECX.SSE3[bit&#160;0] = 0,&#160;execution of an&#160;SSE3 extension&#160;will&#160;cause an&#160;<br/>invalid&#160;opcode&#160;fault regardless&#160;of the&#160;state of CR0.TS[bit&#160;3].<br/>Similarly,&#160;an&#160;attempt to execute an SSSE3 instruction&#160;on a processor that reports CPUID.01H:ECX.SSSE3[bit&#160;9]&#160;=&#160;<br/>0 will cause&#160;an invalid opcode fault regardless of the&#160;state&#160;of CR0.TS[bit&#160;3]. An&#160;attempt&#160;to execute&#160;an SSE4.1&#160;<br/>instruction&#160;on a processor that&#160;reports&#160;CPUID.01H:ECX.SSE4_1[bit&#160;19]&#160;= 0&#160;will cause an invalid opcode&#160;fault&#160;<br/>regardless&#160;of&#160;the&#160;state&#160;of CR0.TS[bit&#160;3].<br/>An attempt to execute PCMPGTQ or any&#160;one of the four string&#160;processing instructions in&#160;SSE4.2&#160;on&#160;a&#160;processor&#160;that&#160;<br/>reports CPUID.01H:ECX.SSSE3[bit&#160;20]&#160;= 0&#160;will cause&#160;an invalid opcode fault regardless of the&#160;state&#160;of&#160;<br/>CR0.TS[bit&#160;3].&#160;CRC32&#160;and POPCNT&#160;do&#160;not cause&#160;#NM.</p>
<p style="position:absolute;top:952px;left:69px;white-space:nowrap" class="ft04">12.8.2&#160;</p>
<p style="position:absolute;top:952px;left:150px;white-space:nowrap" class="ft04">Numeric Error flag and IGNNE#</p>
<p style="position:absolute;top:982px;left:69px;white-space:nowrap" class="ft010">Most&#160;SSE3&#160;instructions ignore&#160;CR0.NE[bit 5]&#160;(treats&#160;it as&#160;if&#160;it were&#160;always set)&#160;and the&#160;IGNNE# pin. With&#160;one&#160;<br/>exception, all&#160;use the&#160;exception 19 (#XM) software&#160;exception for error&#160;reporting. The exception&#160;is FISTTP;&#160;it&#160;<br/>behaves like&#160;other&#160;x87-FP&#160;instructions.<br/>SSSE3 instructions ignore&#160;CR0.NE[bit 5]&#160;(treats&#160;it&#160;as&#160;if it&#160;were always set)&#160;and&#160;the IGNNE# pin.&#160;</p>
</div>
</body>
</html>
