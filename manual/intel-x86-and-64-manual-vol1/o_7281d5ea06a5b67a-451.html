<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 451</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:14px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:12px;font-family:Times;color:#0860a8;}
	.ft05{font-size:7px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:24px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page451-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a451.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:783px;white-space:nowrap" class="ft00">Vol. 1&#160;E-9</p>
<p style="position:absolute;top:47px;left:421px;white-space:nowrap" class="ft01">GUIDELINES FOR WRITING SIMD FLOATING-POINT&#160;EXCEPTION&#160;HANDLERS</p>
<p style="position:absolute;top:99px;left:69px;white-space:nowrap" class="ft02">E.4.2.3 &#160;</p>
<p style="position:absolute;top:99px;left:153px;white-space:nowrap" class="ft02">Condition&#160;Codes, Exception Flags,&#160;and Response&#160;for&#160;Masked&#160;and Unmasked Numeric&#160;</p>
<p style="position:absolute;top:118px;left:153px;white-space:nowrap" class="ft02">Exceptions</p>
<p style="position:absolute;top:147px;left:69px;white-space:nowrap" class="ft06">In&#160;the following,&#160;the masked response is&#160;what&#160;the processor provides when a&#160;masked&#160;exception is&#160;raised by an&#160;<br/>SSE/SSE2/SSE3 numeric instruction.&#160;The&#160;same response&#160;is provided&#160;by&#160;the floating-point&#160;emulator for&#160;<br/>SSE/SSE2/SSE3&#160;numeric&#160;instructions, when certain components of the&#160;quadruple input&#160;operands generate&#160;excep-<br/>tions that are masked (the&#160;emulator also&#160;generates the&#160;correct&#160;answer,&#160;as&#160;specified&#160;by IEEE&#160;Standard&#160;754&#160;wher-<br/>ever&#160;applicable,&#160;in&#160;the case when no floating-point&#160;exception occurs). The&#160;unmasked&#160;response&#160;is what the&#160;<br/>emulator provides to the user&#160;handler for those&#160;components of the&#160;packed&#160;operands&#160;of SSE/SSE2/SSE3&#160;instruc-<br/>tions that&#160;raise unmasked exceptions. Note that for pre-computation exceptions (floating-point faults), no result is&#160;<br/>provided to the user&#160;handler.&#160;For post-computation exceptions&#160;(floating-point traps), a&#160;result is&#160;provided&#160;to&#160;the&#160;<br/>user handler,&#160;as&#160;specified below.<br/>In&#160;the following tables,&#160;the result&#160;is&#160;denoted by&#160;'res',&#160;with the&#160;understanding&#160;that for the actual instruction, the&#160;<br/>destination coincides with&#160;the first source&#160;operand (except&#160;for&#160;COMISS,&#160;UCOMISS,&#160;COMISD,&#160;and&#160;UCOMISD,&#160;whose&#160;<br/>destination is&#160;the EFLAGS&#160;register).</p>
<p style="position:absolute;top:367px;left:334px;white-space:nowrap" class="ft04">Table E-13. &#160;#I - Invalid&#160;Operations&#160;</p>
<p style="position:absolute;top:408px;left:75px;white-space:nowrap" class="ft03">Instruction</p>
<p style="position:absolute;top:408px;left:214px;white-space:nowrap" class="ft03">Condition</p>
<p style="position:absolute;top:408px;left:463px;white-space:nowrap" class="ft03">Masked Response</p>
<p style="position:absolute;top:391px;left:680px;white-space:nowrap" class="ft03">Unmasked Response&#160;</p>
<p style="position:absolute;top:408px;left:680px;white-space:nowrap" class="ft03">and Exception&#160;Code</p>
<p style="position:absolute;top:432px;left:75px;white-space:nowrap" class="ft03">ADDPS</p>
<p style="position:absolute;top:448px;left:75px;white-space:nowrap" class="ft03">ADDPD</p>
<p style="position:absolute;top:465px;left:75px;white-space:nowrap" class="ft03">ADDSS&#160;</p>
<p style="position:absolute;top:481px;left:75px;white-space:nowrap" class="ft03">ADDSD</p>
<p style="position:absolute;top:498px;left:75px;white-space:nowrap" class="ft03">HADDPS</p>
<p style="position:absolute;top:514px;left:75px;white-space:nowrap" class="ft03">HADDPD</p>
<p style="position:absolute;top:432px;left:213px;white-space:nowrap" class="ft03">src1&#160;or src2</p>
<p style="position:absolute;top:434px;left:281px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:432px;left:286px;white-space:nowrap" class="ft03">&#160;= SNaN</p>
<p style="position:absolute;top:432px;left:463px;white-space:nowrap" class="ft03">Refer&#160;to&#160;<a href="o_7281d5ea06a5b67a-447.html">Table&#160;E-1&#160;f</a>or&#160;</p>
<p style="position:absolute;top:448px;left:463px;white-space:nowrap" class="ft03">NaN operands, #IA = 1</p>
<p style="position:absolute;top:432px;left:680px;white-space:nowrap" class="ft03">src1, src2&#160;unchanged; #IA&#160;</p>
<p style="position:absolute;top:448px;left:680px;white-space:nowrap" class="ft03">= 1</p>
<p style="position:absolute;top:538px;left:75px;white-space:nowrap" class="ft03">ADDSUBPS (the&#160;</p>
<p style="position:absolute;top:555px;left:75px;white-space:nowrap" class="ft03">addition&#160;component)</p>
<p style="position:absolute;top:571px;left:75px;white-space:nowrap" class="ft03">ADDSUBPD (the&#160;</p>
<p style="position:absolute;top:588px;left:75px;white-space:nowrap" class="ft03">addition&#160;component)</p>
<p style="position:absolute;top:538px;left:213px;white-space:nowrap" class="ft03">src1&#160;= +Inf, src2 = -Inf&#160;or</p>
<p style="position:absolute;top:555px;left:213px;white-space:nowrap" class="ft03">src1&#160;= -Inf, src2 = +Inf</p>
<p style="position:absolute;top:538px;left:463px;white-space:nowrap" class="ft03">res</p>
<p style="position:absolute;top:541px;left:480px;white-space:nowrap" class="ft05">1</p>
<p style="position:absolute;top:538px;left:485px;white-space:nowrap" class="ft03">&#160;= QNaN&#160;Indefinite,</p>
<p style="position:absolute;top:555px;left:463px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:612px;left:75px;white-space:nowrap" class="ft03">SUBPS</p>
<p style="position:absolute;top:628px;left:75px;white-space:nowrap" class="ft03">SUBPD</p>
<p style="position:absolute;top:645px;left:75px;white-space:nowrap" class="ft03">SUBSS&#160;</p>
<p style="position:absolute;top:661px;left:75px;white-space:nowrap" class="ft03">SUBSD</p>
<p style="position:absolute;top:678px;left:75px;white-space:nowrap" class="ft03">HSUBPS</p>
<p style="position:absolute;top:694px;left:75px;white-space:nowrap" class="ft03">HSUBPD</p>
<p style="position:absolute;top:612px;left:213px;white-space:nowrap" class="ft03">src1&#160;or src2 = SNaN</p>
<p style="position:absolute;top:612px;left:463px;white-space:nowrap" class="ft03">Refer to&#160;<a href="o_7281d5ea06a5b67a-447.html">Table E-1&#160;f</a>or NaN&#160;</p>
<p style="position:absolute;top:628px;left:463px;white-space:nowrap" class="ft03">operands, #IA = 1</p>
<p style="position:absolute;top:612px;left:680px;white-space:nowrap" class="ft03">src1, src2&#160;unchanged; #IA&#160;</p>
<p style="position:absolute;top:628px;left:680px;white-space:nowrap" class="ft03">= 1</p>
<p style="position:absolute;top:718px;left:75px;white-space:nowrap" class="ft03">ADDSUBPS (the&#160;</p>
<p style="position:absolute;top:735px;left:75px;white-space:nowrap" class="ft03">subtraction&#160;</p>
<p style="position:absolute;top:751px;left:75px;white-space:nowrap" class="ft03">component)</p>
<p style="position:absolute;top:768px;left:75px;white-space:nowrap" class="ft03">ADDSUBPD (the&#160;</p>
<p style="position:absolute;top:784px;left:75px;white-space:nowrap" class="ft03">subtraction&#160;</p>
<p style="position:absolute;top:801px;left:75px;white-space:nowrap" class="ft03">component)</p>
<p style="position:absolute;top:718px;left:213px;white-space:nowrap" class="ft03">src1&#160;= +Inf, src2 = +Inf&#160;or</p>
<p style="position:absolute;top:735px;left:213px;white-space:nowrap" class="ft03">src1&#160;= -Inf, src2 = -Inf</p>
<p style="position:absolute;top:718px;left:463px;white-space:nowrap" class="ft03">res&#160;=&#160;QNaN&#160;Indefinite,&#160;</p>
<p style="position:absolute;top:735px;left:463px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:825px;left:75px;white-space:nowrap" class="ft03">MULPS</p>
<p style="position:absolute;top:841px;left:75px;white-space:nowrap" class="ft03">MULPD</p>
<p style="position:absolute;top:825px;left:213px;white-space:nowrap" class="ft03">src1&#160;or src2 = SNaN</p>
<p style="position:absolute;top:825px;left:463px;white-space:nowrap" class="ft03">Refer to&#160;<a href="o_7281d5ea06a5b67a-447.html">Table E-1&#160;f</a>or&#160;</p>
<p style="position:absolute;top:841px;left:463px;white-space:nowrap" class="ft03">NaN operands, #IA = 1</p>
<p style="position:absolute;top:825px;left:680px;white-space:nowrap" class="ft03">src1, src2&#160;unchanged;&#160;</p>
<p style="position:absolute;top:841px;left:680px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:865px;left:75px;white-space:nowrap" class="ft03">MULSS&#160;</p>
<p style="position:absolute;top:882px;left:75px;white-space:nowrap" class="ft03">MULSD</p>
<p style="position:absolute;top:865px;left:213px;white-space:nowrap" class="ft03">src1&#160;= ±Inf, src2 = ±0 or</p>
<p style="position:absolute;top:882px;left:213px;white-space:nowrap" class="ft03">src1 = ±0, src2 =&#160;±Inf</p>
<p style="position:absolute;top:865px;left:463px;white-space:nowrap" class="ft03">res&#160;=&#160;QNaN&#160;Indefinite,</p>
<p style="position:absolute;top:882px;left:463px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:906px;left:75px;white-space:nowrap" class="ft03">DIVPS</p>
<p style="position:absolute;top:922px;left:75px;white-space:nowrap" class="ft03">DIVPD</p>
<p style="position:absolute;top:906px;left:213px;white-space:nowrap" class="ft03">src1&#160;or src2 = SNaN</p>
<p style="position:absolute;top:906px;left:463px;white-space:nowrap" class="ft03">Refer to&#160;<a href="o_7281d5ea06a5b67a-447.html">Table E-1&#160;f</a>or&#160;</p>
<p style="position:absolute;top:922px;left:463px;white-space:nowrap" class="ft03">NaN operands, #IA = 1</p>
<p style="position:absolute;top:906px;left:680px;white-space:nowrap" class="ft03">src1, src2&#160;unchanged;&#160;</p>
<p style="position:absolute;top:922px;left:680px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:946px;left:75px;white-space:nowrap" class="ft03">DIVSS&#160;</p>
<p style="position:absolute;top:963px;left:75px;white-space:nowrap" class="ft03">DIVSD</p>
<p style="position:absolute;top:946px;left:213px;white-space:nowrap" class="ft03">src1&#160;= ±Inf, src2 = ±Inf&#160;or</p>
<p style="position:absolute;top:963px;left:213px;white-space:nowrap" class="ft03">src1 = ±0, src2 =&#160;±0</p>
<p style="position:absolute;top:946px;left:463px;white-space:nowrap" class="ft03">res&#160;=&#160;QNaN&#160;Indefinite,&#160;</p>
<p style="position:absolute;top:963px;left:463px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:987px;left:75px;white-space:nowrap" class="ft03">SQRTPS</p>
<p style="position:absolute;top:1003px;left:75px;white-space:nowrap" class="ft03">SQRTPD</p>
<p style="position:absolute;top:1020px;left:75px;white-space:nowrap" class="ft03">SQRTSS&#160;</p>
<p style="position:absolute;top:1036px;left:75px;white-space:nowrap" class="ft03">SQRTSD</p>
<p style="position:absolute;top:987px;left:213px;white-space:nowrap" class="ft03">src&#160;=&#160;SNaN</p>
<p style="position:absolute;top:987px;left:463px;white-space:nowrap" class="ft03">Refer&#160;to&#160;<a href="o_7281d5ea06a5b67a-450.html">Table&#160;E-10&#160;fo</a>r&#160;</p>
<p style="position:absolute;top:1003px;left:463px;white-space:nowrap" class="ft03">NaN operands, #IA = 1</p>
<p style="position:absolute;top:987px;left:680px;white-space:nowrap" class="ft03">src unchanged,&#160;</p>
<p style="position:absolute;top:1003px;left:680px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
<p style="position:absolute;top:1027px;left:213px;white-space:nowrap" class="ft03">src &lt;&#160;0&#160;</p>
<p style="position:absolute;top:1044px;left:213px;white-space:nowrap" class="ft03">(note that&#160;-0 &lt; 0&#160;is false)</p>
<p style="position:absolute;top:1027px;left:463px;white-space:nowrap" class="ft03">res&#160;=&#160;QNaN&#160;Indefinite,&#160;</p>
<p style="position:absolute;top:1044px;left:463px;white-space:nowrap" class="ft03">#IA =&#160;1</p>
</div>
</body>
</html>
