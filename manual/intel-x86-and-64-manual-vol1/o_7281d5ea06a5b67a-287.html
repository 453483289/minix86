<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 287</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:11px;font-family:Times;color:#0860a8;}
	.ft02{font-size:16px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:18px;font-family:Times;color:#000000;}
	.ft05{font-size:12px;font-family:Times;color:#0860a8;}
	.ft06{font-size:8px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page287-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a287.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:775px;white-space:nowrap" class="ft00">Vol. 1&#160;12-7</p>
<p style="position:absolute;top:47px;left:414px;white-space:nowrap" class="ft01">PROGRAMMING WITH&#160;INTEL®&#160;SSE3,&#160;SSSE3,&#160;INTEL® SSE4 AND INTEL® AESNI</p>
<p style="position:absolute;top:98px;left:69px;white-space:nowrap" class="ft02">12.6.1 Horizontal&#160;</p>
<p style="position:absolute;top:98px;left:237px;white-space:nowrap" class="ft02">Addition/Subtraction</p>
<p style="position:absolute;top:129px;left:69px;white-space:nowrap" class="ft07">In analogy to&#160;the packed,&#160;floating-point horizontal&#160;add&#160;and subtract instructions in&#160;SSE3,&#160;SSSE3 offers similar&#160;<br/>capabilities on packed integer&#160;data. Data elements&#160;of signed words, doublewords&#160;are supported.&#160;Saturated&#160;version&#160;<br/>for horizontal add and&#160;subtract&#160;on signed words&#160;are also&#160;supported.&#160;The&#160;horizontal&#160;data&#160;movement of&#160;PHADD&#160;is&#160;<br/>shown&#160;<a href="o_7281d5ea06a5b67a-287.html">in Figure 12-3</a>.&#160;</p>
<p style="position:absolute;top:514px;left:69px;white-space:nowrap" class="ft07">There are six horizontal add instructions (represented&#160;by three&#160;mnemonics);&#160;three&#160;operate&#160;on 128-bit operands&#160;<br/>and&#160;three&#160;operate on 64-bit&#160;operands.&#160;The width of each&#160;data&#160;element is&#160;either 16&#160;bits or 32&#160;bits.&#160;The mnemonics&#160;<br/>are listed below.</p>
<p style="position:absolute;top:569px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:570px;left:95px;white-space:nowrap" class="ft07">PHADDW&#160;adds&#160;two&#160;adjacent,&#160;signed&#160;16-bit&#160;integers&#160;horizontally from the source and destination operands and&#160;<br/>packs the&#160;signed 16-bit&#160;results to&#160;the destination&#160;operand.</p>
<p style="position:absolute;top:608px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:609px;left:95px;white-space:nowrap" class="ft07">PHADDSW&#160;adds two adjacent, signed 16-bit&#160;integers horizontally from&#160;the source&#160;and&#160;destination operands&#160;<br/>and packs&#160;the signed, saturated&#160;16-bit&#160;results to the&#160;destination&#160;operand.</p>
<p style="position:absolute;top:647px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:648px;left:95px;white-space:nowrap" class="ft07">PHADDD&#160;adds&#160;two&#160;adjacent,&#160;signed&#160;32-bit&#160;integers&#160;horizontally from&#160;the source and destination operands and&#160;<br/>packs the&#160;signed 32-bit&#160;results to&#160;the destination&#160;operand.</p>
<p style="position:absolute;top:688px;left:69px;white-space:nowrap" class="ft07">There are six horizontal subtract instructions (represented by three mnemonics); three&#160;operate&#160;on&#160;128-bit oper-<br/>ands and&#160;three&#160;operate on&#160;64-bit operands.&#160;The&#160;width of each&#160;data element is&#160;either&#160;16&#160;bits or&#160;32&#160;bits. These are&#160;<br/>listed below.</p>
<p style="position:absolute;top:743px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:744px;left:95px;white-space:nowrap" class="ft07">PHSUBW&#160;performs horizontal subtraction&#160;on each&#160;adjacent pair of 16-bit&#160;signed&#160;integers by subtracting&#160;the&#160;<br/>most&#160;significant word from the&#160;least&#160;significant word of&#160;each&#160;pair in&#160;the source&#160;and destination operands. The&#160;<br/>signed&#160;16-bit&#160;results are&#160;packed&#160;and written&#160;to the&#160;destination operand.</p>
<p style="position:absolute;top:799px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:799px;left:95px;white-space:nowrap" class="ft07">PHSUBSW&#160;performs horizontal subtraction&#160;on each&#160;adjacent&#160;pair of 16-bit&#160;signed&#160;integers by subtracting the&#160;<br/>most&#160;significant word from the&#160;least&#160;significant word of&#160;each&#160;pair in&#160;the source&#160;and destination operands. The&#160;<br/>signed,&#160;saturated 16-bit&#160;results are&#160;packed&#160;and written to&#160;the destination operand.</p>
<p style="position:absolute;top:854px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:855px;left:95px;white-space:nowrap" class="ft07">PHSUBD&#160;performs horizontal&#160;subtraction&#160;on each&#160;adjacent&#160;pair of 32-bit signed&#160;integers by subtracting the&#160;<br/>most significant&#160;doubleword&#160;from the&#160;least&#160;significant double word of each&#160;pair&#160;in the&#160;source and&#160;destination&#160;<br/>operands. The&#160;signed 32-bit&#160;results are&#160;packed&#160;and written to&#160;the destination operand.</p>
<p style="position:absolute;top:938px;left:69px;white-space:nowrap" class="ft02">12.6.2&#160;</p>
<p style="position:absolute;top:938px;left:149px;white-space:nowrap" class="ft02">Packed Absolute Values</p>
<p style="position:absolute;top:969px;left:69px;white-space:nowrap" class="ft07">There are six packed-absolute-value&#160;instructions&#160;(represented&#160;by three&#160;mnemonics). Three operate&#160;on 128-bit&#160;<br/>operands&#160;and three operate&#160;on&#160;64-bit operands. The widths&#160;of&#160;data elements are 8&#160;bits, 16 bits or 32 bits.&#160;The&#160;<br/>absolute value&#160;of&#160;each data element of the&#160;source operand&#160;is stored as&#160;an UNSIGNED result&#160;in the&#160;destination&#160;<br/>operand.</p>
<p style="position:absolute;top:1040px;left:69px;white-space:nowrap" class="ft04">•</p>
<p style="position:absolute;top:1041px;left:95px;white-space:nowrap" class="ft03">PABSB&#160;computes the&#160;absolute&#160;value of&#160;each signed&#160;byte&#160;data&#160;element.</p>
<p style="position:absolute;top:459px;left:279px;white-space:nowrap" class="ft05">Figure&#160;12-3.&#160;&#160;Horizontal&#160;Data Movement&#160;in PHADDD</p>
<p style="position:absolute;top:429px;left:614px;white-space:nowrap" class="ft00">X0 + X1</p>
<p style="position:absolute;top:429px;left:489px;white-space:nowrap" class="ft00">X2&#160;+&#160;X3</p>
<p style="position:absolute;top:429px;left:364px;white-space:nowrap" class="ft00">Y0 + Y1</p>
<p style="position:absolute;top:429px;left:239px;white-space:nowrap" class="ft00">Y2 + Y3</p>
<p style="position:absolute;top:262px;left:381px;white-space:nowrap" class="ft00">X2</p>
<p style="position:absolute;top:261px;left:640px;white-space:nowrap" class="ft00">X0</p>
<p style="position:absolute;top:377px;left:655px;white-space:nowrap" class="ft00">ADD</p>
<p style="position:absolute;top:326px;left:515px;white-space:nowrap" class="ft00">Y1</p>
<p style="position:absolute;top:327px;left:640px;white-space:nowrap" class="ft00">Y0</p>
<p style="position:absolute;top:379px;left:254px;white-space:nowrap" class="ft00">ADD</p>
<p style="position:absolute;top:326px;left:383px;white-space:nowrap" class="ft00">Y2</p>
<p style="position:absolute;top:327px;left:247px;white-space:nowrap" class="ft00">Y3</p>
<p style="position:absolute;top:262px;left:514px;white-space:nowrap" class="ft00">X1</p>
<p style="position:absolute;top:261px;left:247px;white-space:nowrap" class="ft00">X3</p>
<p style="position:absolute;top:380px;left:524px;white-space:nowrap" class="ft06">ADD</p>
<p style="position:absolute;top:377px;left:467px;white-space:nowrap" class="ft00">ADD</p>
</div>
</body>
</html>
