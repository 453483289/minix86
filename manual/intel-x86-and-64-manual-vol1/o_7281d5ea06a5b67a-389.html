<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 389</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:9px;font-family:Times;color:#000000;}
	.ft01{font-size:21px;font-family:Times;color:#0860a8;}
	.ft02{font-size:18px;font-family:Times;color:#0860a8;}
	.ft03{font-size:11px;font-family:Times;color:#000000;}
	.ft04{font-size:8px;font-family:Times;color:#000000;}
	.ft05{font-size:11px;font-family:Times;color:#000000;}
	.ft06{font-size:11px;line-height:16px;font-family:Times;color:#000000;}
	.ft07{font-size:11px;line-height:22px;font-family:Times;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page389-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="o_7281d5ea06a5b67a389.png" alt="background image"/>
<p style="position:absolute;top:1103px;left:775px;white-space:nowrap" class="ft00">Vol. 1&#160;17-1</p>
<p style="position:absolute;top:96px;left:699px;white-space:nowrap" class="ft01">CHAPTER 17</p>
<p style="position:absolute;top:120px;left:375px;white-space:nowrap" class="ft01">INTEL® MEMORY PROTECTION EXTENSIONS</p>
<p style="position:absolute;top:196px;left:68px;white-space:nowrap" class="ft02">17.1&#160;</p>
<p style="position:absolute;top:196px;left:147px;white-space:nowrap" class="ft02">INTEL® MEMORY PROTECTION EXTENSIONS&#160;(INTEL® MPX)</p>
<p style="position:absolute;top:232px;left:68px;white-space:nowrap" class="ft03">Intel</p>
<p style="position:absolute;top:229px;left:99px;white-space:nowrap" class="ft04">®</p>
<p style="position:absolute;top:232px;left:110px;white-space:nowrap" class="ft03">&#160;Memory&#160;Protection Extensions&#160;(Intel</p>
<p style="position:absolute;top:229px;left:366px;white-space:nowrap" class="ft04">®&#160;</p>
<p style="position:absolute;top:232px;left:381px;white-space:nowrap" class="ft03">MPX) is&#160;a new&#160;capability introduced into Intel&#160;Architecture. Intel</p>
<p style="position:absolute;top:248px;left:68px;white-space:nowrap" class="ft06">MPX can increase the&#160;robustness of software&#160;when it&#160;is used&#160;in&#160;conjunction&#160;with compiler changes to check mem-<br/>ory references,&#160;for&#160;those references whose compile-time&#160;normal intentions&#160;are usurped at runtime due to buffer<br/>overflow&#160;or underflow. Two of the&#160;most&#160;important goals&#160;of&#160;Intel MPX are to&#160;provide&#160;this&#160;capability&#160;at low perfor-<br/>mance&#160;overhead for newly compiled code,&#160;and&#160;to provide&#160;compatibility mechanisms with legacy software com-<br/>ponents.&#160;A direct benefit Intel MPX provides&#160;is hardening software&#160;against malicious attacks designed&#160;to cause<br/>or exploit buffer overruns.&#160;This chapter&#160;describes&#160;the&#160;software visible interfaces of&#160;this extension.</p>
<p style="position:absolute;top:386px;left:68px;white-space:nowrap" class="ft02">17.2 INTRODUCTION</p>
<p style="position:absolute;top:421px;left:68px;white-space:nowrap" class="ft06">Intel&#160;MPX&#160;is designed to allow&#160;a system (i.e.,&#160;the&#160;logical processor(s) and&#160;the OS software) to&#160;run&#160;both Intel&#160;MPX&#160;<br/>enabled&#160;software&#160;and legacy software (written for processors without Intel&#160;MPX).&#160;When&#160;executing software&#160;<br/>containing&#160;a mixture of Intel&#160;MPX-unaware code (legacy&#160;code) and&#160;Intel MPX-enabled&#160;code,&#160;the&#160;legacy code&#160;does&#160;<br/>not benefit from Intel&#160;MPX,&#160;but it&#160;also&#160;does&#160;not experience&#160;any&#160;change&#160;in&#160;functionality or reduction in performance.&#160;<br/>The&#160;performance&#160;of Intel MPX-enabled code&#160;running on processors that do not support Intel MPX may be similar to&#160;<br/>the&#160;use of&#160;embedding NOPs in&#160;the&#160;instruction stream.<br/>Intel&#160;MPX&#160;is designed such that&#160;an&#160;Intel MPX&#160;enabled application can&#160;link&#160;with, call&#160;into,&#160;or&#160;be called from legacy&#160;<br/>software (libraries, etc.) while maintaining&#160;existing application binary interfaces (ABIs). And in&#160;most&#160;cases, the&#160;<br/>benefit of Intel MPX&#160;requires minimal changes&#160;to the source&#160;code at the&#160;application programming interfaces (APIs)&#160;<br/>to legacy library/applications.&#160;As&#160;described&#160;later,&#160;Intel MPX associates&#160;<b>bounds</b>&#160;with pointers in a&#160;novel manner,&#160;<br/>and the&#160;Intel&#160;MPX hardware uses&#160;<b>bounds</b>&#160;to&#160;check&#160;that&#160;the&#160;pointer based accesses are&#160;suitably constrained. Intel&#160;<br/>MPX enabled&#160;software is&#160;not required&#160;to uniformly or&#160;universally utilize the new hardware&#160;capabilities&#160;over&#160;all&#160;<br/>memory references.&#160;Specifically, programmers can&#160;selectively&#160;use Intel&#160;MPX to&#160;protect&#160;a subset of pointers.&#160;<br/>The&#160;code&#160;enabled&#160;for&#160;Intel MPX benefits&#160;from memory protection against&#160;vulnerability such as&#160;buffer&#160;overrun.&#160;<br/>Therefore there&#160;is&#160;a heightened&#160;incentive&#160;for software&#160;vendors&#160;to adopt this technology. At the&#160;same time, the&#160;<br/>security benefit of Intel&#160;MPX-protection&#160;can be implemented according to&#160;the business&#160;priorities of software&#160;<br/>vendors. A software&#160;vendor can choose to adopt Intel MPX&#160;in&#160;some modules to realize&#160;partial benefit from Intel MPX&#160;<br/>quickly, and introduce&#160;Intel MPX in&#160;other modules in phases (e.g. some&#160;programmer&#160;intervention&#160;might be&#160;<br/>required&#160;at the&#160;interface to&#160;legacy calls).&#160;This adaptive property of Intel&#160;MPX is&#160;designed to&#160;give software vendors&#160;<br/>control on their schedule and modularity of adoption. It also&#160;allows a software vendor to secure defense for higher&#160;<br/>priority or more attack-prone software first; and allows the use of Intel MPX features in one&#160;phase of&#160;software engi-<br/>neering&#160;(e.g., testing) and not in&#160;another&#160;(e.g.,&#160;general release)&#160;as dictated&#160;by business&#160;realities.<br/>The&#160;initial&#160;goal of&#160;Intel MPX&#160;is twofold: (1) provide&#160;means&#160;to defend&#160;a system&#160;against attacks that&#160;originate&#160;<br/>external to some&#160;trust perimeter where&#160;the trust perimeter subsumes&#160;the&#160;system memory and integral&#160;data&#160;repos-<br/>itories, and (2) provide means to pinpoint accidental logic defects in&#160;pointer usage, by undergirding&#160;memory refer-<br/>ences with hardware based&#160;pointer&#160;validation.&#160;<br/>As with any&#160;instruction&#160;set extensions, Intel MPX&#160;can be&#160;used by application developers beyond&#160;detecting buffer&#160;<br/>overflow,&#160;the processor does not&#160;limit&#160;the&#160;use of Intel&#160;MPX&#160;for&#160;buffer overflow detection.</p>
<p style="position:absolute;top:945px;left:68px;white-space:nowrap" class="ft02">17.3&#160;</p>
<p style="position:absolute;top:945px;left:147px;white-space:nowrap" class="ft02">INTEL MPX PROGRAMMING ENVIRONMENT</p>
<p style="position:absolute;top:980px;left:68px;white-space:nowrap" class="ft06">Intel&#160;MPX&#160;introduces new&#160;<b>bounds register</b>s and new instructions that&#160;operate&#160;on bounds registers. Intel&#160;MPX&#160;<br/>allows&#160;an&#160;OS&#160;to&#160;support&#160;user&#160;mode&#160;software&#160;(operating&#160;at&#160;CPL=3)&#160;and&#160;supervisor&#160;mode&#160;software&#160;(CPL&#160;&lt;&#160;3)&#160;to&#160;add&#160;<br/>memory protection&#160;capability against&#160;buffer overrun. It&#160;provides&#160;controls to enable&#160;Intel MPX extensions for&#160;user&#160;<br/>mode&#160;and&#160;supervisor mode&#160;independently.&#160;Intel&#160;MPX extensions are designed&#160;to allow software&#160;to associate&#160;<br/>bounds&#160;with pointers,&#160;and allow software&#160;to check&#160;memory&#160;references against&#160;the bounds associated with the&#160;</p>
</div>
</body>
</html>
